grf {
	grfid: "TP\02\01";
	name: string(STR_GRF_NAME);
	desc: string(STR_GRF_DESC);
	version: 0;
	min_compatible_version: 0;
  param {
    param_running_costs {
      type:  int;
      name:  string(STR_Parameter_Running_Costs_NAME);
      desc:  string(STR_Parameter_Running_Costs_DESC);
      min_value:  0;
      max_value:  6;
      def_value:  2;
      names: {
        0:  string(STR_Parameter_Running_Costs_1_4);
        1:  string(STR_Parameter_Running_Costs_1_2);
        2:  string(STR_Parameter_Running_Costs_1);
        3:  string(STR_Parameter_Running_Costs_2);
        4:  string(STR_Parameter_Running_Costs_4);
        5:  string(STR_Parameter_Running_Costs_8);
        6:  string(STR_Parameter_Running_Costs_16);
      };
    }
  }
}
/*

dome dome-obs obs

bar lounge
*/

basecost {
  PR_RUNNING:  (param_running_costs-2);
  PR_BUILD_VEHICLE_WAGON: 3;
}

railtypetable {
  RAIL, ELRL, MTRO, "3RDR", "3RDC", "3LOV", "3MED",
  SAAZ: [SAAZ, ELRL, "3RDR"],
  TRDR: ["3RDR", "3LOW", ELRL],
}
train_width_32_px = 1;

traininfo_y_offset = 3;

disable_item(FEAT_TRAINS);

//--------------------------------------------------------------------------------------------------MP54
spriteset (spriteset_purchase_mp54, "gfx/USA_PC_MP54_Green.png") { [] [] [4, 130, 87, 15, -42, -11] [] [] [] [13,  4,  1,  1,  0,  0] [] }
spriteset (spriteset_purchase_mp54_single, "gfx/USA_PC_MP54_Green.png") { [92,  130,  87,   15,   -15,   -11] }
spriteset (spriteset_purchase_mp54_coach, "gfx/USA_PC_MP54_Green.png") { [36,   67,   32,   16,   -15,   -12] }
spriteset (spriteset_purchase_mp54_mail, "gfx/USA_PC_MP54_Green.png") { [36,    98,   32,   16,   -15,   -12] }
spriteset (spriteset_purchase_mp54b, "gfx/USA_LIRR_MP54B.png") { [4, 66, 87, 12, -27, -8] }

template tmpl_MP54(x,y) {
  [x,      y,    8,     24,     -3,    -12]
	[x+9,    y,    22,    20,     -12,   -13]
	[x+32,   y,    32,    17,     -16,   -13]
	[x+65,   y,    22,    20,     -8,    -13]
}

template tmpl_MP54B(x,y) {
  [x,      y,    8,     24,     -3,    -12]
	[x+9,    y,    22,    20,     -12,   -12]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -12]
}

template tmpl_MP54_depot(x,y) {
  [x,      y,    8,     24,     -3,    -12]
	[x+9,    y,    22,    20,     -12,   -13]
	[x+32,   y,    32,    17,     -16,   -10]
	[x+65,   y,    22,    20,     -8,    -12]
}

spriteset (spriteset_mp54_m_f, "gfx/USA_PRR_MP54_Tuscan_Red.png") { tmpl_MP54(4,4)  tmpl_MP54(92,4)  }
spriteset (spriteset_mp54_m_b, "gfx/USA_PRR_MP54_Tuscan_Red.png") { tmpl_MP54(4,35) tmpl_MP54(92,35) }
spriteset (spriteset_mp54_t_p, "gfx/USA_PRR_MP54_Tuscan_Red.png") { tmpl_MP54(4,66) tmpl_MP54(92,66) }
spriteset (spriteset_mp54_t_m, "gfx/USA_PRR_MP54_Tuscan_Red.png") { tmpl_MP54(4,97) tmpl_MP54(92,97) }

spriteset (spriteset_mp54_m_f_PC, "gfx/USA_PC_MP54_Green.png") { tmpl_MP54(4,4)  tmpl_MP54(92,4)  }
spriteset (spriteset_mp54_m_b_PC, "gfx/USA_PC_MP54_Green.png") { tmpl_MP54(4,35) tmpl_MP54(92,35) }
spriteset (spriteset_mp54_t_p_PC, "gfx/USA_PC_MP54_Green.png") { tmpl_MP54(4,66) tmpl_MP54(92,66) }
spriteset (spriteset_mp54_t_m_PC, "gfx/USA_PC_MP54_Green.png") { tmpl_MP54(4,97) tmpl_MP54(92,97) }

spriteset (spriteset_mp54b_m_f, "gfx/USA_LIRR_MP54B.png") { tmpl_MP54B(4,4) tmpl_MP54B(92,4) }
spriteset (spriteset_mp54b_m_b, "gfx/USA_LIRR_MP54B.png") { tmpl_MP54B(4,35) tmpl_MP54B(92,35) }

switch(FEAT_TRAINS, SELF, sw_spriteset_mp54_m_f, cargo_subtype) {
  0:  spriteset_mp54_m_f;
  spriteset_mp54_m_f_PC;
}
switch(FEAT_TRAINS, SELF, sw_spriteset_mp54_m_b, cargo_subtype) {
  0:  spriteset_mp54_m_b;
  spriteset_mp54_m_b_PC;
}
switch(FEAT_TRAINS, SELF, sw_spriteset_mp54_t_p, cargo_subtype) {
  0:  spriteset_mp54_t_p;
  spriteset_mp54_t_p_PC;
}
switch(FEAT_TRAINS, SELF, sw_spriteset_mp54_t_m, cargo_subtype) {
  0:  spriteset_mp54_t_m;
  spriteset_mp54_t_m_PC;
}
switch(FEAT_TRAINS, SELF, sw_mp54_graphics2, position_in_consist) {
  0:  sw_spriteset_mp54_m_f;
  sw_spriteset_mp54_m_b;
}
switch(FEAT_TRAINS, SELF, sw_mp54_graphics, position_in_consist_from_end) {
  0:  sw_spriteset_mp54_m_b;
  sw_mp54_graphics2;
}
switch(FEAT_TRAINS, SELF, sw_mp54_single_graphics, position_in_consist) {
  0:  sw_spriteset_mp54_m_f;
  sw_spriteset_mp54_m_b;
}
switch(FEAT_TRAINS, SELF, sw_mp54_can_attach_wagon, vehicle_type_id) {
  item_mp54:         return CB_RESULT_ATTACH_ALLOW;
  item_mp54_single:  return CB_RESULT_ATTACH_ALLOW;
  item_mp54_coach:   return CB_RESULT_ATTACH_ALLOW;
  item_mp54_mail:    return CB_RESULT_ATTACH_ALLOW;
  return string (STR_Attach_Wagon_Disallow);
}
switch(FEAT_TRAINS, SELF, sw_mp54_livery_name, cargo_subtype) {
  0:  return string(STR_Livery_Pennsylvania_Railroad);
  return string(STR_Livery_Penn_Central);
}

item (FEAT_TRAINS, item_mp54, 313) {
  property {
    name:                         string(STR_MP54_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1908, 1, 1);
    model_life:                   64;
    vehicle_life:                 20;
    reliability_decay:            13;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                8;
    cost_factor:                  28;
    running_cost_factor:          28;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        65 mph;
    misc_flags:                   bitmask(TRAIN_FLAG_MU);
    refit_cost:                   0;
    track_type:                   ELRL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        592 kW;
    running_cost_base:            RUNNING_COST_ELECTRIC;
    dual_headed:                  1;
    cargo_capacity:               166;
    weight:                       36 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_ELECTRIC;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_mp54;
        additional_text:          return string(STR_MP54_Desc);
        can_attach_wagon:         sw_mp54_can_attach_wagon;
        length:                   8;
        cargo_subtype_text:       sw_mp54_livery_name;
        default:                  sw_mp54_graphics;
    }
}

item (FEAT_TRAINS, item_mp54_single, 314) {
  property {
    name:                         string(STR_MP54_Single_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1908, 1, 1);
    model_life:                   64;
    vehicle_life:                 14;
    reliability_decay:            13;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                8;
    cost_factor:                  14;
    running_cost_factor:          14;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        65 mph;
    misc_flags:                   bitmask(TRAIN_FLAG_MU);
    refit_cost:                   0;
    track_type:                   ELRL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        392 kW;
    running_cost_base:            RUNNING_COST_ELECTRIC;
    dual_headed:                  0;
    cargo_capacity:               166;
    weight:                       36 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_ELECTRIC;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_mp54_single;
        additional_text:          return string(STR_MP54_Desc);
        can_attach_wagon:         sw_mp54_can_attach_wagon;
        length:                   8;
        cargo_subtype_text:       sw_mp54_livery_name;
        default:                  sw_mp54_single_graphics;
    }
}

item (FEAT_TRAINS, item_mp54_coach) {
  property {
    name:                         string(STR_MP54_Coach_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1908, 1, 1);
    model_life:                   64;
    vehicle_life:                 20;
    reliability_decay:            13;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                8;
    cost_factor:                  128;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        65 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   ELRL;
    ai_special_flag:              0;
    power:                        0;
    running_cost_base:            RUNNING_COST_ELECTRIC;
    dual_headed:                  0;
    cargo_capacity:               166;
    weight:                       36 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_ELECTRIC;
    extra_power_per_wagon:        9;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_mp54_coach;
        additional_text:          return string(STR_MP54_Coach_Desc);
        can_attach_wagon:         sw_mp54_can_attach_wagon;
        length:                   8;
        cargo_subtype_text:       sw_mp54_livery_name;
        default:                  sw_spriteset_mp54_t_p;
    }
}

item (FEAT_TRAINS, item_mp54_mail) {
  property {
    name:                         string(STR_MP54_Mail_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1908, 1, 1);
    model_life:                   64;
    vehicle_life:                 20;
    reliability_decay:            13;
    refittable_cargo_classes:     bitmask(CC_MAIL);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                8;
    cost_factor:                  128;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        65 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   ELRL;
    ai_special_flag:              0;
    power:                        0;
    running_cost_base:            RUNNING_COST_ELECTRIC;
    dual_headed:                  0;
    cargo_capacity:               154;
    weight:                       36 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_ELECTRIC;
    extra_power_per_wagon:        9;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_mp54_mail;
        additional_text:          return string(STR_MP54_Mail_Desc);
        can_attach_wagon:         sw_mp54_can_attach_wagon;
        length:                   8;
        cargo_subtype_text:       sw_mp54_livery_name;
        default:                  sw_spriteset_mp54_t_m;
    }
}

switch(FEAT_TRAINS, SELF, sw_mp54b_graphics, position_in_consist) {
  0:  spriteset_mp54b_m_f;
  spriteset_mp54b_m_b;
}

item (FEAT_TRAINS, item_mp54b, 315) {
  property {
    name:                         string(STR_MP54B_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1908, 1, 1);
    model_life:                   62;
    vehicle_life:                 24;
    reliability_decay:            12;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                9;
    cost_factor:                  15;
    running_cost_factor:          30;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        65 mph;
    misc_flags:                   bitmask(TRAIN_FLAG_MU);
    refit_cost:                   0;
    track_type:                   TRDR;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        430 hp;
    running_cost_base:            RUNNING_COST_ELECTRIC;
    dual_headed:                  0;
    cargo_capacity:               166;
    weight:                       36 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_ELECTRIC;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_mp54b;
        additional_text:          return string(STR_MP54B_Desc);
        length:                   8;
        default:                  sw_mp54b_graphics;
    }
}

//--------------------------------------------------------------------------------------------------Budd Metroliner I
spriteset (spriteset_purchase_Metroliner_I, "gfx/USA_Budd_Metroliner_I.png") { [4,  97,  87,  15,  -27,  -11] }

template tmpl_Metroliner_I(x,y) {
  [x,      y,    8,     24,     -3,    -10]
	[x+9,    y,    22,    20,     -14,   -11]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -11]
}


spriteset (spriteset_Metroliner_I_f, "gfx/USA_Budd_Metroliner_I.png") { tmpl_Metroliner_I(4,4)   tmpl_Metroliner_I(92,4) }
spriteset (spriteset_Metroliner_I_b, "gfx/USA_Budd_Metroliner_I.png") { tmpl_Metroliner_I(92,35) tmpl_Metroliner_I(4,35) }

spriteset (spriteset_Metroliner_I_f_PC, "gfx/USA_Budd_Metroliner_I.png") { tmpl_Metroliner_I(4,119)  tmpl_Metroliner_I(92,119) }
spriteset (spriteset_Metroliner_I_b_PC, "gfx/USA_Budd_Metroliner_I.png") { tmpl_Metroliner_I(92,150) tmpl_Metroliner_I(4,150) }

switch(FEAT_TRAINS,SELF,sw_spriteset_Metroliner_I_f, cargo_subtype) {
  0:  spriteset_Metroliner_I_f;
  spriteset_Metroliner_I_f_PC;
}
switch(FEAT_TRAINS,SELF,sw_spriteset_Metroliner_I_b, cargo_subtype) {
  0:  spriteset_Metroliner_I_b;
  spriteset_Metroliner_I_b_PC;
}

switch(FEAT_TRAINS,SELF,sw_Metroliner_I_articulated_part, extra_callback_info1) {
  1:  return item_Metroliner_I;
  return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}
switch(FEAT_TRAINS,SELF,sw_Metroliner_I_grapfics, position_in_consist % 2) {
  0:  sw_spriteset_Metroliner_I_f;
  sw_spriteset_Metroliner_I_b;
}
switch(FEAT_TRAINS,SELF, sw_Metroliner_I_livery, cargo_subtype) {
  0:  return string(STR_Livery_AMTR);
  return string(STR_Livery_Penn_Central);
}

item (FEAT_TRAINS, item_Metroliner_I, 301) {
  property {
    name:                         string(STR_Metroliner_I_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1969, 1, 16);
    model_life:                   20;
    vehicle_life:                 30;
    reliability_decay:            12;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                5;
    cost_factor:                  32;
    running_cost_factor:          32;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        180 km/h;
    misc_flags:                   bitmask(TRAIN_FLAG_MU);
    refit_cost:                   0;
    track_type:                   ELRL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        825 kW;
    running_cost_base:            RUNNING_COST_ELECTRIC;
    dual_headed:                  0;
    cargo_capacity:               115;
    weight:                       75 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_DIESEL;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 3, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_Metroliner_I;
        additional_text:          return string(STR_Metroliner_I_Desc);
        articulated_part:         sw_Metroliner_I_articulated_part;
        length:                   8;
        cargo_subtype_text:       sw_Metroliner_I_livery;
        default:                  sw_Metroliner_I_grapfics;
    }
}

//--------------------------------------------------------------------------------------------------Arrow III
spriteset (spriteset_purchase_Arrow_III, "gfx/USA_PRR_Arrow_III.png") { [] [] [4,  66,  87,  15,  -42,  -11] [] [] [] [13,  4,  1,  1,  0,  0] [] }
spriteset (spriteset_purchase_Arrow_III_Single, "gfx/USA_PRR_Arrow_III.png") { [16,  66,  75,  15,  -15,  -11] }
template tmpl_Arrow_III(x,y) {
  [x,      y,    8,     24,     -3,    -11]
	[x+9,    y,    22,    20,     -14,   -10]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -11]
}
spriteset (spriteset_Arrow_III_f, "gfx/USA_PRR_Arrow_III.png") { tmpl_Arrow_III(4,4)   tmpl_Arrow_III(92,4) }
spriteset (spriteset_Arrow_III_b, "gfx/USA_PRR_Arrow_III.png") { tmpl_Arrow_III(4,35) tmpl_Arrow_III(92,35) }

switch(FEAT_TRAINS,SELF,sw_Arrow_III_grapfics, position_in_vehid_chain % 2) {
  0:  spriteset_Arrow_III_f;
  spriteset_Arrow_III_b;
}
switch(FEAT_TRAINS,SELF,sw_Arrow_III_Single_grapfics, position_in_consist) {
  0:  spriteset_Arrow_III_f;
  spriteset_Arrow_III_b;
}

item (FEAT_TRAINS, item_Arrow_III, 311) {
  property {
    name:                         string(STR_Arrow_III_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1977, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 34;
    reliability_decay:            12;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                15;
    cost_factor:                  70;
    running_cost_factor:          70;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        90 mph;
    misc_flags:                   bitmask(TRAIN_FLAG_MU);
    refit_cost:                   0;
    track_type:                   ELRL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        1125 hp;
    running_cost_base:            RUNNING_COST_ELECTRIC;
    dual_headed:                  1;
    cargo_capacity:               126;
    weight:                       62 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_DIESEL;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 3, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_Arrow_III;
        additional_text:          return string(STR_Arrow_III_Desc);
        length:                   8;
        default:                  sw_Arrow_III_grapfics;
    }
}
item (FEAT_TRAINS, item_Arrow_III_Single) {
  property {
    name:                         string(STR_Arrow_III_Single_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1977, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 34;
    reliability_decay:            12;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                15;
    cost_factor:                  35;
    running_cost_factor:          35;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        90 mph;
    misc_flags:                   bitmask(TRAIN_FLAG_MU);
    refit_cost:                   0;
    track_type:                   ELRL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        750 hp;
    running_cost_base:            RUNNING_COST_ELECTRIC;
    dual_headed:                  0;
    cargo_capacity:               126;
    weight:                       62 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_DIESEL;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 3, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_Arrow_III_Single;
        additional_text:          return string(STR_Arrow_III_Single_Desc);
        length:                   8;
        default:                  sw_Arrow_III_Single_grapfics;
    }
}

//--------------------------------------------------------------------------------------------------SPV-2000
spriteset (spriteset_purchase_SPV2000, "gfx/USA_SPV-2000.png") { [4,  35,  87,  13,  -15,  -8] }

template tmpl_SPV2000(x,y) {
  [x,      y,    8,     24,     -3,    -10]
	[x+9,    y,    22,    20,     -14,   -11]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -11]
}
spriteset (spriteset_SPV2000, "gfx/USA_SPV-2000.png")   { tmpl_SPV2000(4,4) tmpl_SPV2000(92,4) }

item (FEAT_TRAINS, item_SPV2000, 206) {
  property {
    name:                         string(STR_SPV2000_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1978, 1, 6);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 30;
    reliability_decay:            14;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                10;
    cost_factor:                  30;
    running_cost_factor:          30;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        140 km/h;
    misc_flags:                   bitmask(TRAIN_FLAG_MU);
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        270 kW;
    running_cost_base:            RUNNING_COST_ELECTRIC;
    dual_headed:                  0;
    cargo_capacity:               109;
    weight:                       58 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_DIESEL;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DIESEL, -1, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       40 ton;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_SPV2000; //Purchase menu sprite
        additional_text:          return string(STR_SPV2000_Desc); //Additional text shown in purchase list
        length:                   8;
        default:                  spriteset_SPV2000;
    }
}

//--------------------------------------------------------------------------------------------------//EMD F40PH---P32AC-DM---Comet II-V---Multilevel---ALP-46//
spriteset (spriteset_purchase_F40PH_phase_II, "gfx/USA_EMD_F40PH_Amtrak.png")  { [4,  190,  87,  13,  -11,  -9] }
spriteset (spriteset_purchase_F40PH_phase_III, "gfx/USA_EMD_F40PH_Amtrak.png") { [4,  204,  87,  13,  -11,  -9] }
spriteset (spriteset_purchase_F40PH_phase_IVa, "gfx/USA_EMD_F40PH_Amtrak.png") { [4,  218,  87,  13,  -11,  -9] }
spriteset (spriteset_purchase_P32AC_DM_Metro_North, "gfx/USA_Amtrak_P32AC-DM.png") { [4,  97,  87,  12,  -15,  -8] }
spriteset (spriteset_purchase_P32AC_DM_Amtrak, "gfx/USA_Amtrak_P32AC-DM.png") { [92,  97,  87,  12,  -15,  -8] }
spriteset (spriteset_purchase_ALP_46, "gfx/USA_NJT_ALP-46.png") { [4,  66,  87,  15,  -15,  -11] }
spriteset (spriteset_Comet_I_purchase,"gfx/USA_NJT_Comet_I.png") { [4,  103,  87,  12,  -19,  -8] }
spriteset (spriteset_Comet_II_purchase,"gfx/USA_NJT_Comet_II.png") { [4,  103,  87,  12,  -19,  -8] }
spriteset (spriteset_Comet_III_purchase,"gfx/USA_NJT_Comet_III.png") { [4,  103,  87,  12,  -19,  -8] }
spriteset (spriteset_Comet_IV_purchase,"gfx/USA_NJT_Comet_IV.png")     { [4,  103,  87,  12,  -19,  -8] }
spriteset (spriteset_Comet_IV_Car_purchase,"gfx/USA_NJT_Comet_IV.png") { [100,  103, 87,  12,  -19,  -8] }
spriteset (spriteset_Comet_V_purchase,"gfx/USA_NJT_Comet_V.png")     { [4,  103,  87,  12,  -19,  -8] }
spriteset (spriteset_Comet_V_Car_purchase,"gfx/USA_NJT_Comet_V.png") { [100, 103,  87,  12,  -19,  -8] }
spriteset (spriteset_Multilevel_purchase,"gfx/USA_Bombardier_Multilevel.png")     { [4,  97,  87,  14,  -15,  -10] }
spriteset (spriteset_Multilevel_Car_purchase,"gfx/USA_Bombardier_Multilevel.png") { [92, 97,  87,  14,  -15,  -10] }

switch(FEAT_TRAINS,SELF,sw_P32AC_DM_purchase, current_year) {
  0..1999:  spriteset_purchase_P32AC_DM_Metro_North;
  spriteset_purchase_P32AC_DM_Amtrak;
}

template tmpl_F40PH(x,y) {
    [x,      y,    8,     24,     -3,    -10]
	[x+9,    y,    22,    20,     -12,   -11]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -11]
    [x+88,   y,    8,     24,     -3,     -8]
	[x+97,   y,    22,    20,     -14,   -10]
	[x+120,  y,    32,    16,     -16,   -12]
	[x+153,  y,    22,    20,     -10,   -12]
}
template tmpl_F40PH_rev(x,y) {
    [x+88,   y,    8,     24,     -3,     -8]
	[x+97,   y,    22,    20,     -12,   -11]
	[x+120,  y,    32,    16,     -12,   -12]
	[x+153,  y,    22,    20,     -8,    -11]
    [x,      y,    8,     24,     -3,     -8]
	[x+9,    y,    22,    20,     -14,   -10]
	[x+32,   y,    32,    16,     -20,   -12]
	[x+65,   y,    22,    20,     -10,   -12]
}
template tmpl_F40PH_cab(x,y) {
    [x+88,   y,    8,     24,     -3,     -8]
	[x+97,   y,    22,    20,     -14,   -10]
	[x+120,  y,    32,    16,     -16,   -12]
	[x+153,  y,    22,    20,     -10,   -12]
    [x,      y,    8,     24,     -3,    -10]
	[x+9,    y,    22,    20,     -12,   -11]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -11]
}
spriteset (spriteset_F40PH_Amtrak_Phase_II_f, "gfx/USA_EMD_F40PH_Amtrak.png") { tmpl_F40PH(4,4) }
spriteset (spriteset_F40PH_Amtrak_Phase_II_b, "gfx/USA_EMD_F40PH_Amtrak.png") { tmpl_F40PH_rev(4,35) }
spriteset (spriteset_F40PH_Amtrak_Phase_III_f, "gfx/USA_EMD_F40PH_Amtrak.png") { tmpl_F40PH(4,66) }
spriteset (spriteset_F40PH_Amtrak_Phase_III_b, "gfx/USA_EMD_F40PH_Amtrak.png") { tmpl_F40PH_rev(4,97) }
spriteset (spriteset_F40PH_Amtrak_Phase_IVa_f, "gfx/USA_EMD_F40PH_Amtrak.png") { tmpl_F40PH(4,128) }
spriteset (spriteset_F40PH_Amtrak_Phase_IVa_b, "gfx/USA_EMD_F40PH_Amtrak.png") { tmpl_F40PH_rev(4,159) }
spriteset (spriteset_F40PH_NJT_f, "gfx/USA_EMD_F40PH_NJT.png") { tmpl_F40PH(4,4) }
spriteset (spriteset_F40PH_NJT_b, "gfx/USA_EMD_F40PH_NJT.png") { tmpl_F40PH_rev(4,35) }
spriteset (spriteset_F40PH_Metra_f, "gfx/USA_EMD_F40PH_Metra.png") { tmpl_F40PH(4,4) }
spriteset (spriteset_F40PH_Metra_b, "gfx/USA_EMD_F40PH_Metra.png") { tmpl_F40PH_rev(4,35) }

spriteset (spriteset_F40PH_Amtrak_Phase_II_cab, "gfx/USA_EMD_F40PH_Amtrak.png") { tmpl_F40PH_cab(4,35) }
spriteset (spriteset_F40PH_Amtrak_Phase_III_cab, "gfx/USA_EMD_F40PH_Amtrak.png") { tmpl_F40PH_cab(4,97) }
spriteset (spriteset_F40PH_Amtrak_Phase_IVa_cab, "gfx/USA_EMD_F40PH_Amtrak.png") { tmpl_F40PH_cab(4,159) }
spriteset (spriteset_F40PH_NJT_cab, "gfx/USA_EMD_F40PH_NJT.png") { tmpl_F40PH_cab(4,35) }
spriteset (spriteset_F40PH_Metra_cab, "gfx/USA_EMD_F40PH_Metra.png") { tmpl_F40PH_cab(4,35) }


template tmpl_P32AC_DM(x,y) {
  [x,      y,    8,     24,     -3,    -10]
	[x+9,    y,    22,    20,     -14,   -10]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -11]
  [x+88,   y,    8,     24,     -3,    -10]
	[x+97,   y,    22,    20,     -14,   -10]
	[x+120,  y,    32,    16,     -16,   -12]
	[x+153,  y,    22,    20,     -8,    -11]
}
template tmpl_P32AC_DM2(x,y) {
  [x+88,   y,    8,     24,     -3,    -10]
	[x+97,   y,    22,    20,     -14,   -10]
	[x+120,  y,    32,    16,     -16,   -12]
	[x+153,  y,    22,    20,     -8,    -11]
  [x,      y,    8,     24,     -3,    -10]
	[x+9,    y,    22,    20,     -14,   -10]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -11]
}
spriteset (spriteset_P32AC_DM_MTA_f, "gfx/USA_Amtrak_P32AC-DM.png")  { tmpl_P32AC_DM(4,4) }
spriteset (spriteset_P32AC_DM_MTA_b, "gfx/USA_Amtrak_P32AC-DM.png")  { tmpl_P32AC_DM2(4,4) }
spriteset (spriteset_P32AC_DM_AMTR_f, "gfx/USA_Amtrak_P32AC-DM.png") { tmpl_P32AC_DM(4,35) }
spriteset (spriteset_P32AC_DM_AMTR_b, "gfx/USA_Amtrak_P32AC-DM.png") { tmpl_P32AC_DM2(4,35) }
spriteset (spriteset_P32AC_DM_NH_f, "gfx/USA_Amtrak_P32AC-DM.png")   { tmpl_P32AC_DM(4,66) }
spriteset (spriteset_P32AC_DM_NH_b, "gfx/USA_Amtrak_P32AC-DM.png")   { tmpl_P32AC_DM2(4,66) }

template tmpl_ALP_46(x,y) {
  [x,      y,    8,     24,     -3,    -11]
	[x+9,    y,    22,    20,     -14,   -10]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -11]
}
spriteset (spriteset_ALP_46_f, "gfx/USA_NJT_ALP-46.png") { tmpl_ALP_46(4,4) tmpl_ALP_46(92,4) }
spriteset (spriteset_ALP_46_b, "gfx/USA_NJT_ALP-46.png") { tmpl_ALP_46(92,35) tmpl_ALP_46(4,35) }

template tmpl_Multilevel(x,y) {
  [x,      y,    8,     24,     -3,    -12]
	[x+9,    y,    22,    20,     -14,   -11]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -12]
}

template tmpl_Comet_1(x,y) {
  [x,      y,    8,     26,     -3,    -12]
	[x+9,    y,    24,    21,     -14,   -11]
	[x+34,   y,    36,    16,     -16,   -12]
	[x+71,   y,    24,    21,     -8,    -11]
}
template tmpl_Comet_2(x,y) {
  [x,      y,    8,     26,     -3,    -10]
	[x+9,    y,    24,    21,     -16,   -10]
	[x+34,   y,    36,    16,     -20,   -12]
	[x+71,   y,    24,    21,     -10,   -12]
}
template tmpl_Comet_1_rev(x,y) {
  [x,      y,    8,     26,     -3,    -10]
	[x+9,    y,    24,    21,     -16,   -10]
	[x+34,   y,    36,    16,     -20,   -12]
	[x+71,   y,    24,    21,     -10,   -12]
}
template tmpl_Comet_2_rev(x,y) {
  [x,      y,    8,     26,     -3,    -12]
	[x+9,    y,    24,    21,     -14,   -11]
	[x+34,   y,    36,    16,     -16,   -12]
	[x+71,   y,    24,    21,     -8,    -11]
}
template tmpl_Comet_1_rev_F40PH(x,y) {
  [x,      y,    8,     26,     -3,    -10]
	[x+9,    y,    24,    21,     -16,   -10]
	[x+34,   y,    36,    16,     -20,   -12]
	[x+71,   y,    24,    21,     -10,   -12]
}
template tmpl_Comet_2_rev_F40PH(x,y) {
  [x,      y,    8,     26,     -3,    -12]
	[x+9,    y,    24,    21,     -14,   -11]
	[x+34,   y,    36,    16,     -16,   -12]
	[x+71,   y,    24,    21,     -8,    -11]
}
template tmpl_Comet_1_rev_F40PH_car(x,y) {
  [x,      y,    8,     26,     -3,     -8]
	[x+9,    y,    24,    21,     -18,    -9]
	[x+34,   y,    36,    16,     -24,   -12]
	[x+71,   y,    24,    21,     -12,   -13]
}
template tmpl_Comet_2_rev_F40PH_car(x,y) {
  [x,      y,    8,     26,     -3,    -14]
	[x+9,    y,    24,    21,     -12,   -12]
	[x+34,   y,    36,    16,     -12,   -12]
	[x+71,   y,    24,    21,     -6,    -10]
}
spriteset (spriteset_Comet_I_Cab_f,"gfx/USA_NJT_Comet_I.png") { tmpl_Comet_1(4,4)   tmpl_Comet_2(100,4) }
spriteset (spriteset_Comet_I_Cab_b,"gfx/USA_NJT_Comet_I.png") { tmpl_Comet_1(100,37) tmpl_Comet_2(4,37) }
spriteset (spriteset_Comet_I_Car,"gfx/USA_NJT_Comet_I.png")   { tmpl_Comet_1(4,70)  tmpl_Comet_2(100,70) }

spriteset (spriteset_Comet_I_Cab_f_rev,"gfx/USA_NJT_Comet_I.png") { tmpl_Comet_1_rev(4,4)   tmpl_Comet_2_rev(100,4) }
spriteset (spriteset_Comet_I_Car_rev,"gfx/USA_NJT_Comet_I.png")   { tmpl_Comet_1_rev(4,70)  tmpl_Comet_2_rev(100,70) }

spriteset (spriteset_Comet_I_Cab_f_rev_F40PH,"gfx/USA_NJT_Comet_I.png") { tmpl_Comet_1_rev_F40PH(4,4)   tmpl_Comet_2_rev_F40PH(100,4) }
spriteset (spriteset_Comet_I_Car_rev_F40PH,"gfx/USA_NJT_Comet_I.png")   { tmpl_Comet_1_rev_F40PH_car(4,70)  tmpl_Comet_2_rev_F40PH_car(100,70) }

spriteset (spriteset_Comet_II_Cab_f,"gfx/USA_NJT_Comet_II.png") { tmpl_Comet_1(4,4)   tmpl_Comet_2(100,4) }
spriteset (spriteset_Comet_II_Cab_b,"gfx/USA_NJT_Comet_II.png") { tmpl_Comet_1(100,37) tmpl_Comet_2(4,37) }
spriteset (spriteset_Comet_II_Car,"gfx/USA_NJT_Comet_II.png")   { tmpl_Comet_1(4,70)  tmpl_Comet_2(100,70) }

spriteset (spriteset_Comet_II_Cab_f_rev,"gfx/USA_NJT_Comet_II.png") { tmpl_Comet_1_rev(4,4)   tmpl_Comet_2_rev(100,4) }
spriteset (spriteset_Comet_II_Car_rev,"gfx/USA_NJT_Comet_II.png")   { tmpl_Comet_1_rev(4,70)  tmpl_Comet_2_rev(100,70) }

spriteset (spriteset_Comet_II_Cab_f_rev_F40PH,"gfx/USA_NJT_Comet_II.png") { tmpl_Comet_1_rev_F40PH(4,4)   tmpl_Comet_2_rev_F40PH(100,4) }
spriteset (spriteset_Comet_II_Car_rev_F40PH,"gfx/USA_NJT_Comet_II.png")   { tmpl_Comet_1_rev_F40PH_car(4,70)  tmpl_Comet_2_rev_F40PH_car(100,70) }

spriteset (spriteset_Comet_III_Cab_f,"gfx/USA_NJT_Comet_III.png") { tmpl_Comet_1(4,4)   tmpl_Comet_2(100,4) }
spriteset (spriteset_Comet_III_Cab_b,"gfx/USA_NJT_Comet_III.png") { tmpl_Comet_1(100,37) tmpl_Comet_2(4,37) }
spriteset (spriteset_Comet_III_Car,"gfx/USA_NJT_Comet_III.png")   { tmpl_Comet_1(4,70)  tmpl_Comet_2(100,70) }

spriteset (spriteset_Comet_III_Cab_f_rev,"gfx/USA_NJT_Comet_III.png") { tmpl_Comet_1_rev(4,4)   tmpl_Comet_2_rev(100,4) }
spriteset (spriteset_Comet_III_Car_rev,"gfx/USA_NJT_Comet_III.png")   { tmpl_Comet_1_rev(4,70)  tmpl_Comet_2_rev(100,70) }

spriteset (spriteset_Comet_III_Cab_f_rev_F40PH,"gfx/USA_NJT_Comet_III.png") { tmpl_Comet_1_rev_F40PH(4,4)   tmpl_Comet_2_rev_F40PH(100,4) }
spriteset (spriteset_Comet_III_Car_rev_F40PH,"gfx/USA_NJT_Comet_III.png")   { tmpl_Comet_1_rev_F40PH_car(4,70)  tmpl_Comet_2_rev_F40PH_car(100,70) }

spriteset (spriteset_Comet_IV_Cab_f,"gfx/USA_NJT_Comet_IV.png") { tmpl_Comet_1(4,4)   tmpl_Comet_2(100,4) }
spriteset (spriteset_Comet_IV_Cab_b,"gfx/USA_NJT_Comet_IV.png") { tmpl_Comet_1(100,37) tmpl_Comet_2(4,37) }
spriteset (spriteset_Comet_IV_Car,"gfx/USA_NJT_Comet_IV.png")   { tmpl_Comet_1(4,70)  tmpl_Comet_2(100,70) }

spriteset (spriteset_Comet_IV_Cab_f_rev,"gfx/USA_NJT_Comet_IV.png") { tmpl_Comet_1_rev(4,4)   tmpl_Comet_2_rev(100,4) }
spriteset (spriteset_Comet_IV_Car_rev,"gfx/USA_NJT_Comet_IV.png")   { tmpl_Comet_1_rev(4,70)  tmpl_Comet_2_rev(100,70) }

spriteset (spriteset_Comet_IV_Cab_f_rev_F40PH,"gfx/USA_NJT_Comet_IV.png") { tmpl_Comet_1_rev_F40PH(4,4)   tmpl_Comet_2_rev_F40PH(100,4) }
spriteset (spriteset_Comet_IV_Car_rev_F40PH,"gfx/USA_NJT_Comet_IV.png")   { tmpl_Comet_1_rev_F40PH_car(4,70)  tmpl_Comet_2_rev_F40PH_car(100,70) }

spriteset (spriteset_Comet_V_Cab_f,"gfx/USA_NJT_Comet_V.png") { tmpl_Comet_1(4,4)   tmpl_Comet_2(100,4) }
spriteset (spriteset_Comet_V_Cab_b,"gfx/USA_NJT_Comet_V.png") { tmpl_Comet_1(100,37) tmpl_Comet_2(4,37) }
spriteset (spriteset_Comet_V_Car,"gfx/USA_NJT_Comet_V.png")   { tmpl_Comet_1(4,70)  tmpl_Comet_2(100,70) }

spriteset (spriteset_Comet_V_Cab_f_rev,"gfx/USA_NJT_Comet_V.png") { tmpl_Comet_1_rev(4,4)   tmpl_Comet_2_rev(100,4) }
spriteset (spriteset_Comet_V_Car_rev,"gfx/USA_NJT_Comet_V.png")   { tmpl_Comet_1_rev(4,70)  tmpl_Comet_2_rev(100,70) }

spriteset (spriteset_Comet_V_Cab_f_rev_F40PH,"gfx/USA_NJT_Comet_V.png") { tmpl_Comet_1_rev_F40PH(4,4)   tmpl_Comet_2_rev_F40PH(100,4) }
spriteset (spriteset_Comet_V_Car_rev_F40PH,"gfx/USA_NJT_Comet_V.png")   { tmpl_Comet_1_rev_F40PH_car(4,70)  tmpl_Comet_2_rev_F40PH_car(100,70) }

spriteset (spriteset_Multilevel_Cab_f,"gfx/USA_Bombardier_Multilevel.png") { tmpl_Multilevel(4,4)   tmpl_Multilevel(92,4) }
spriteset (spriteset_Multilevel_Cab_b,"gfx/USA_Bombardier_Multilevel.png") { tmpl_Multilevel(92,35) tmpl_Multilevel(4,35) }
spriteset (spriteset_Multilevel_Car,"gfx/USA_Bombardier_Multilevel.png")   { tmpl_Multilevel(4,66)  tmpl_Multilevel(92,66) }

//-------------------------------------------------------------------------------------------F40PH sprite choose

switch(FEAT_TRAINS, SELF, sw_F40PH_livery_by_year_f, cargo_subtype) {
  0..1975:  spriteset_F40PH_Amtrak_Phase_II_f;
  1976..1992:  spriteset_F40PH_Amtrak_Phase_III_f;
  spriteset_F40PH_Amtrak_Phase_IVa_f;
}
switch(FEAT_TRAINS, SELF, sw_F40PH_livery_by_year_b, cargo_subtype) {
  0..1975:  spriteset_F40PH_Amtrak_Phase_II_b;
  1976..1992:  spriteset_F40PH_Amtrak_Phase_III_b;
  spriteset_F40PH_Amtrak_Phase_IVa_b;
}
switch(FEAT_TRAINS, SELF, sw_F40PH_livery_by_year_cab, cargo_subtype) {
  0..1975:  spriteset_F40PH_Amtrak_Phase_II_cab;
  1976..1992:  spriteset_F40PH_Amtrak_Phase_III_cab;
  spriteset_F40PH_Amtrak_Phase_IVa_cab;
}

switch(FEAT_TRAINS,SELF,sw_F40PH_front, cargo_subtype) {
  0:  sw_F40PH_livery_by_year_f;
  1:  spriteset_F40PH_Amtrak_Phase_II_f;
  2:  spriteset_F40PH_Amtrak_Phase_III_f;
  3:  spriteset_F40PH_Amtrak_Phase_IVa_f;
  4:  spriteset_F40PH_NJT_f;
  spriteset_F40PH_Metra_f;
}
switch(FEAT_TRAINS,SELF,sw_F40PH_back, cargo_subtype) {
  0:  sw_F40PH_livery_by_year_b;
  1:  spriteset_F40PH_Amtrak_Phase_II_b;
  2:  spriteset_F40PH_Amtrak_Phase_III_b;
  3:  spriteset_F40PH_Amtrak_Phase_IVa_b;
  4:  spriteset_F40PH_NJT_b;
  spriteset_F40PH_Metra_b;
}
switch(FEAT_TRAINS,SELF,sw_F40PH_livery, cargo_subtype) {
  0:  return string(STR_Livery_Auto);
  1:  return string(STR_Amtrak_Phase_II);
  2:  return string(STR_Amtrak_Phase_III);
  3:  return string(STR_Amtrak_Phase_IVa);
  4:  return string(STR_Livery_NJT);
  return string(STR_Livery_Metra);
}

switch(FEAT_TRAINS, SELF, sw_F40PH_purchase, current_year) {
  0..1975: spriteset_purchase_F40PH_phase_II;
  1976..1992:  spriteset_purchase_F40PH_phase_III;
  spriteset_purchase_F40PH_phase_IVa;
}

//---------------------------------------------------------------------------------F40PH graphics
switch(FEAT_TRAINS,SELF,sw_F40PH_grapfics3, position_in_consist % 2) {
  0:  sw_F40PH_front;
  sw_F40PH_back;
}
switch(FEAT_TRAINS,SELF,sw_F40PH_grapfics2, position_in_consist_from_end) {
  0:  sw_F40PH_back;
  sw_F40PH_grapfics3;
}
switch(FEAT_TRAINS,SELF,sw_F40PH_graphics, position_in_consist) {
  0:  sw_F40PH_front;
  sw_F40PH_grapfics2;
}

switch(FEAT_TRAINS,SELF,sw_F40PH_graphics_Comet_I, vehicle_is_reversed) {
  0:  sw_F40PH_graphics;
  spriteset_Comet_I_Cab_f_rev_F40PH;
}
switch(FEAT_TRAINS,SELF,sw_F40PH_graphics_Comet_II, vehicle_is_reversed) {
  0:  sw_F40PH_graphics;
  spriteset_Comet_II_Cab_f_rev;
}
switch(FEAT_TRAINS,SELF,sw_F40PH_graphics_Comet_III, vehicle_is_reversed) {
  0:  sw_F40PH_graphics;
  spriteset_Comet_III_Cab_f_rev;
}
switch(FEAT_TRAINS,SELF,sw_F40PH_graphics_Comet_IV, vehicle_is_reversed) {
  0:  sw_F40PH_graphics;
  spriteset_Comet_IV_Cab_f_rev;
}
switch(FEAT_TRAINS,SELF,sw_F40PH_graphics_Comet_V, vehicle_is_reversed) {
  0:  sw_F40PH_graphics;
  spriteset_Comet_V_Cab_f_rev;
}
switch(FEAT_TRAINS,SELF,sw_F40PH_graphics_Multilevel,vehicle_is_reversed) {
  0:  sw_F40PH_graphics;
  spriteset_Multilevel_Cab_f;
}

switch(FEAT_TRAINS,SELF,sw_F40PH_detect_6,count_veh_id(624)) {
  0:  sw_F40PH_graphics;
  sw_F40PH_graphics_Comet_V;
}
switch(FEAT_TRAINS,SELF,sw_F40PH_detect_5,count_veh_id(622)) {
  0:  sw_F40PH_detect_6;
  sw_F40PH_graphics_Comet_IV;
}
switch(FEAT_TRAINS,SELF,sw_F40PH_detect_4,count_veh_id(620)) {
  0:  sw_F40PH_detect_5;
  sw_F40PH_graphics_Comet_III;
}
switch(FEAT_TRAINS,SELF,sw_F40PH_detect_3,count_veh_id(618)) {
  0:  sw_F40PH_detect_4;
  sw_F40PH_graphics_Comet_II;
}
switch(FEAT_TRAINS,SELF,sw_F40PH_detect_2,count_veh_id(616)) {
  0:  sw_F40PH_detect_3;
  sw_F40PH_graphics_Comet_I;
}
switch(FEAT_TRAINS,SELF,sw_F40PH_detect_1,count_veh_id(612)) {
  0:  sw_F40PH_detect_2;
  sw_F40PH_graphics_Multilevel;
}

//-------------------------------------------------------------------------------------------P32AC-DM sprite choose
switch(FEAT_TRAINS,SELF,sw_P32AC_DM_front, cargo_subtype) {
  0:  spriteset_P32AC_DM_AMTR_f;
  1:  spriteset_P32AC_DM_MTA_f;
  spriteset_P32AC_DM_NH_f;
}
switch(FEAT_TRAINS,SELF,sw_P32AC_DM_back, cargo_subtype) {
  0:  spriteset_P32AC_DM_AMTR_b;
  1:  spriteset_P32AC_DM_MTA_b;
  spriteset_P32AC_DM_NH_b;
}
switch(FEAT_TRAINS,SELF,sw_P32AC_DM_livery, cargo_subtype) {
  0:  return string(STR_Livery_AMTR);
  1:  return string(STR_Livery_MN);
  return string(STR_Livery_NH);
}
//---------------------------------------------------------------------------------P32AC-DM graphics
switch(FEAT_TRAINS,SELF,sw_P32AC_DM_grapfics3, position_in_consist % 2) {
  0:  sw_P32AC_DM_front;
  sw_P32AC_DM_back;
}
switch(FEAT_TRAINS,SELF,sw_P32AC_DM_grapfics2, position_in_consist_from_end) {
  0:  sw_P32AC_DM_back;
  sw_P32AC_DM_grapfics3;
}
switch(FEAT_TRAINS,SELF,sw_P32AC_DM_graphics, position_in_consist) {
  0:  sw_P32AC_DM_front;
  sw_P32AC_DM_grapfics2;
}

switch(FEAT_TRAINS,SELF,sw_P32AC_DM_graphics_Comet_I, vehicle_is_reversed) {
  0:  sw_P32AC_DM_graphics;
  spriteset_Comet_I_Cab_f_rev;
}
switch(FEAT_TRAINS,SELF,sw_P32AC_DM_graphics_Comet_II, vehicle_is_reversed) {
  0:  sw_P32AC_DM_graphics;
  spriteset_Comet_II_Cab_f_rev;
}
switch(FEAT_TRAINS,SELF,sw_P32AC_DM_graphics_Comet_III, vehicle_is_reversed) {
  0:  sw_P32AC_DM_graphics;
  spriteset_Comet_III_Cab_f_rev;
}
switch(FEAT_TRAINS,SELF,sw_P32AC_DM_graphics_Comet_IV, vehicle_is_reversed) {
  0:  sw_P32AC_DM_graphics;
  spriteset_Comet_IV_Cab_f_rev;
}
switch(FEAT_TRAINS,SELF,sw_P32AC_DM_graphics_Comet_V, vehicle_is_reversed) {
  0:  sw_P32AC_DM_graphics;
  spriteset_Comet_V_Cab_f_rev;
}
switch(FEAT_TRAINS,SELF,sw_P32AC_DM_graphics_Multilevel,vehicle_is_reversed) {
  0:  sw_P32AC_DM_graphics;
  spriteset_Multilevel_Cab_f;
}

switch(FEAT_TRAINS,SELF,sw_P32AC_DM_detect_6,count_veh_id(624)) {
  0:  sw_P32AC_DM_graphics;
  sw_P32AC_DM_graphics_Comet_V;
}
switch(FEAT_TRAINS,SELF,sw_P32AC_DM_detect_5,count_veh_id(622)) {
  0:  sw_P32AC_DM_detect_6;
  sw_P32AC_DM_graphics_Comet_IV;
}
switch(FEAT_TRAINS,SELF,sw_P32AC_DM_detect_4,count_veh_id(620)) {
  0:  sw_P32AC_DM_detect_5;
  sw_P32AC_DM_graphics_Comet_III;
}
switch(FEAT_TRAINS,SELF,sw_P32AC_DM_detect_3,count_veh_id(618)) {
  0:  sw_P32AC_DM_detect_4;
  sw_P32AC_DM_graphics_Comet_II;
}
switch(FEAT_TRAINS,SELF,sw_P32AC_DM_detect_2,count_veh_id(616)) {
  0:  sw_P32AC_DM_detect_3;
  sw_P32AC_DM_graphics_Comet_I;
}
switch(FEAT_TRAINS,SELF,sw_P32AC_DM_detect_1,count_veh_id(612)) {
  0:  sw_P32AC_DM_detect_2;
  sw_P32AC_DM_graphics_Multilevel;
}


//--------------------------------------------------------------------------------------ALP-46 Graphics
switch(FEAT_TRAINS,SELF,sw_ALP_46_graphics, position_in_consist) {
  0:  spriteset_ALP_46_f;
  spriteset_ALP_46_b;
}

switch(FEAT_TRAINS,SELF,sw_ALP_46_graphics_Multilevel,vehicle_is_reversed) {
  0:  sw_ALP_46_graphics;
  spriteset_Multilevel_Cab_f;
}
switch(FEAT_TRAINS,SELF,sw_ALP_46_graphics_Comet_I,vehicle_is_reversed) {
  0:  sw_ALP_46_graphics;
  spriteset_Comet_I_Cab_f_rev;
}
switch(FEAT_TRAINS,SELF,sw_ALP_46_graphics_Comet_II,vehicle_is_reversed) {
  0:  sw_ALP_46_graphics;
  spriteset_Comet_II_Cab_f_rev;
}
switch(FEAT_TRAINS,SELF,sw_ALP_46_graphics_Comet_III,vehicle_is_reversed) {
  0:  sw_ALP_46_graphics;
  spriteset_Comet_III_Cab_f_rev;
}
switch(FEAT_TRAINS,SELF,sw_ALP_46_graphics_Comet_IV,vehicle_is_reversed) {
  0:  sw_ALP_46_graphics;
  spriteset_Comet_IV_Cab_f_rev;
}
switch(FEAT_TRAINS,SELF,sw_ALP_46_graphics_Comet_V,vehicle_is_reversed) {
  0:  sw_ALP_46_graphics;
  spriteset_Comet_V_Cab_f_rev;
}

switch(FEAT_TRAINS,SELF,sw_ALP_46_detect_6,count_veh_id(624)) {
  0:  sw_ALP_46_graphics;
  sw_ALP_46_graphics_Comet_V;
}
switch(FEAT_TRAINS,SELF,sw_ALP_46_detect_5,count_veh_id(622)) {
  0:  sw_ALP_46_detect_6;
  sw_ALP_46_graphics_Comet_IV;
}
switch(FEAT_TRAINS,SELF,sw_ALP_46_detect_4,count_veh_id(620)) {
  0:  sw_ALP_46_detect_5;
  sw_ALP_46_graphics_Comet_III;
}
switch(FEAT_TRAINS,SELF,sw_ALP_46_detect_3,count_veh_id(618)) {
  0:  sw_ALP_46_detect_4;
  sw_ALP_46_graphics_Comet_II;
}
switch(FEAT_TRAINS,SELF,sw_ALP_46_detect_2,count_veh_id(616)) {
  0:  sw_ALP_46_detect_3;
  sw_ALP_46_graphics_Comet_I;
}
switch(FEAT_TRAINS,SELF,sw_ALP_46_detect_1,count_veh_id(612)) {
  0:  sw_ALP_46_detect_2;
  sw_ALP_46_graphics_Multilevel;
}

switch(FEAT_TRAINS,PARENT,sw_F40PH_graphics_for_Push_Pull, cargo_subtype) {
  0:  sw_F40PH_livery_by_year_cab;
  1:  spriteset_F40PH_Amtrak_Phase_II_cab;
  2:  spriteset_F40PH_Amtrak_Phase_III_cab;
  3:  spriteset_F40PH_Amtrak_Phase_IVa_cab;
  4:  spriteset_F40PH_NJT_cab;
  spriteset_F40PH_Metra_cab;
}
switch(FEAT_TRAINS,PARENT,sw_P32AC_DM_graphics_for_Push_Pull, cargo_subtype) {
  0:  spriteset_P32AC_DM_AMTR_b;
  1:  spriteset_P32AC_DM_MTA_b;
  spriteset_P32AC_DM_NH_b;
}

switch (FEAT_TRAINS, SELF, sw_Comet_I_Cab_graphics, position_in_consist) {
  0:  spriteset_Comet_I_Cab_f;
  spriteset_Comet_I_Cab_b;
}

switch(FEAT_TRAINS, PARENT, sw_push_pull_Comet_I_F40PH, vehicle_is_reversed) {
  0:  sw_Comet_I_Cab_graphics;
  sw_F40PH_graphics_for_Push_Pull;
}
switch(FEAT_TRAINS, PARENT, sw_push_pull_Comet_I_P32AC_DM, vehicle_is_reversed) {
  0:  sw_Comet_I_Cab_graphics;
  sw_P32AC_DM_graphics_for_Push_Pull;
}
switch(FEAT_TRAINS, PARENT, sw_push_pull_Comet_I_ALP_46, vehicle_is_reversed) {
  0:  sw_Comet_I_Cab_graphics;
  spriteset_ALP_46_b;
}
switch(FEAT_TRAINS, PARENT, sw_push_pull_Comet_I, vehicle_type_id) {
  item_P32AC_DM:  sw_push_pull_Comet_I_P32AC_DM;
  item_ALP_46:  sw_push_pull_Comet_I_ALP_46;
  item_F40PH:  sw_push_pull_Comet_I_F40PH;
  sw_Comet_I_Cab_graphics;
}

switch(FEAT_TRAINS, SELF, sw_Comet_I_Cab_graphics_articulated, position_in_vehid_chain % 2) {
  0:  spriteset_obsolete;
  sw_push_pull_Comet_I;
}
switch(FEAT_TRAINS, PARENT, sw_Comet_I_Car_flipping_F40PH, vehicle_is_reversed) {
  0:  spriteset_Comet_I_Car;
  spriteset_Comet_I_Car_rev_F40PH;
}
switch(FEAT_TRAINS, PARENT, sw_Comet_I_Car_flipping_normal, vehicle_is_reversed) {
  0:  spriteset_Comet_I_Car;
  spriteset_Comet_I_Car_rev;
}
switch(FEAT_TRAINS, PARENT, sw_Comet_I_Car_flipping, count_veh_id(215)) {
  0:  sw_Comet_I_Car_flipping_normal;
  sw_Comet_I_Car_flipping_F40PH;
}

switch(FEAT_TRAINS, SELF, sw_Comet_I_Car_graphics_articulated, position_in_vehid_chain % 2) {
  0:  spriteset_obsolete;
  sw_Comet_I_Car_flipping;
}
switch(FEAT_TRAINS, SELF, sw_Comet_I_Cab_articulated, extra_callback_info1) {
  1:  item_Comet_I_Cab;
  CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}
switch(FEAT_TRAINS, SELF, sw_Comet_I_Car_articulated, extra_callback_info1) {
  1:  item_Comet_I_Car;
  CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

switch(FEAT_TRAINS, PARENT, sw_Comet_I_smoke2, vehicle_is_reversed) {
  0:  visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
  visual_effect_and_powered(VISUAL_EFFECT_DIESEL, 0, DISABLE_WAGON_POWER);
}
switch(FEAT_TRAINS, PARENT, sw_Comet_I_smoke, count_veh_id(215)) {
  0:  visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
  sw_Comet_I_smoke2;
}

item (FEAT_TRAINS, item_Comet_I_Cab, 616) {
  property {
    name:                         string(STR_Comet_I_Cab_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1970, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 25;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                11;
    cost_factor:                  23;
    running_cost_factor:          23;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        170 km/h;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        1;
    cargo_capacity:               51;
    weight:                       26 ton;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_Comet_I_purchase;
        additional_text:          return string(STR_Comet_I_IV_Cab_Desc);
        length:                   (position_in_vehid_chain % 2) == 0 ? 1 : 8;
        sound_effect:             CB_RESULT_NO_SOUND;
        visual_effect_and_powered:sw_Comet_I_smoke;
        articulated_part:         sw_Comet_I_Cab_articulated;
        default:                  sw_Comet_I_Cab_graphics_articulated;
    }
}

item (FEAT_TRAINS, item_Comet_I_Car, 617) {
  property {
    name:                         string(STR_Comet_I_Car_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1970, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 25;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                11;
    cost_factor:                  123;
    running_cost_factor:          23;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        170 km/h;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               54;
    weight:                       25.5 ton;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_Comet_I_purchase;
        additional_text:          return string(STR_Obsolete_Desc);
        length:                   (position_in_vehid_chain % 2) == 0 ? 1 : 8;
        articulated_part:         sw_Comet_I_Car_articulated;
        default:                  sw_Comet_I_Car_graphics_articulated;
    }
}

switch (FEAT_TRAINS, SELF, sw_Comet_II_Cab_graphics, position_in_consist) {
  0:  spriteset_Comet_II_Cab_f;
  spriteset_Comet_II_Cab_b;
}

switch(FEAT_TRAINS, PARENT, sw_push_pull_Comet_II_F40PH, vehicle_is_reversed) {
  0:  sw_Comet_II_Cab_graphics;
  sw_F40PH_graphics_for_Push_Pull;
}
switch(FEAT_TRAINS, PARENT, sw_push_pull_Comet_II_P32AC_DM, vehicle_is_reversed) {
  0:  sw_Comet_II_Cab_graphics;
  sw_P32AC_DM_graphics_for_Push_Pull;
}
switch(FEAT_TRAINS, PARENT, sw_push_pull_Comet_II_ALP_46, vehicle_is_reversed) {
  0:  sw_Comet_II_Cab_graphics;
  spriteset_ALP_46_b;
}
switch(FEAT_TRAINS, PARENT, sw_push_pull_Comet_II, vehicle_type_id) {
  item_P32AC_DM:  sw_push_pull_Comet_II_P32AC_DM;
  item_ALP_46:  sw_push_pull_Comet_II_ALP_46;
  item_F40PH:  sw_push_pull_Comet_II_F40PH;
  sw_Comet_II_Cab_graphics;
}

switch(FEAT_TRAINS, SELF, sw_Comet_II_Cab_graphics_articulated, position_in_vehid_chain % 2) {
  0:  spriteset_obsolete;
  sw_push_pull_Comet_II;
}
switch(FEAT_TRAINS, PARENT, sw_Comet_II_Car_flipping_F40PH, vehicle_is_reversed) {
  0:  spriteset_Comet_II_Car;
  spriteset_Comet_II_Car_rev_F40PH;
}
switch(FEAT_TRAINS, PARENT, sw_Comet_II_Car_flipping_normal, vehicle_is_reversed) {
  0:  spriteset_Comet_II_Car;
  spriteset_Comet_II_Car_rev;
}
switch(FEAT_TRAINS, PARENT, sw_Comet_II_Car_flipping, count_veh_id(215)) {
  0:  sw_Comet_II_Car_flipping_normal;
  sw_Comet_II_Car_flipping_F40PH;
}

switch(FEAT_TRAINS, SELF, sw_Comet_II_Car_graphics_articulated, position_in_vehid_chain % 2) {
  0:  spriteset_obsolete;
  sw_Comet_II_Car_flipping;
}
switch(FEAT_TRAINS, SELF, sw_Comet_II_Cab_articulated, extra_callback_info1) {
  1:  item_Comet_II_Cab;
  CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}
switch(FEAT_TRAINS, SELF, sw_Comet_II_Car_articulated, extra_callback_info1) {
  1:  item_Comet_II_Car;
  CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

switch(FEAT_TRAINS, PARENT, sw_Comet_II_smoke2, vehicle_is_reversed) {
  0:  visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
  visual_effect_and_powered(VISUAL_EFFECT_DIESEL, 0, DISABLE_WAGON_POWER);
}
switch(FEAT_TRAINS, PARENT, sw_Comet_II_smoke, count_veh_id(215)) {
  0:  visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
  sw_Comet_II_smoke2;
}

item (FEAT_TRAINS, item_Comet_II_Cab, 618) {
  property {
    name:                         string(STR_Comet_II_Cab_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1982, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 25;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                11;
    cost_factor:                  25;
    running_cost_factor:          25;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        175 km/h;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        1;
    cargo_capacity:               59;
    weight:                       26 ton;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_Comet_II_purchase;
        additional_text:          return string(STR_Comet_I_IV_Cab_Desc);
        length:                   (position_in_vehid_chain % 2) == 0 ? 1 : 8;
        sound_effect:             CB_RESULT_NO_SOUND;
        visual_effect_and_powered:sw_Comet_II_smoke;
        articulated_part:         sw_Comet_II_Cab_articulated;
        default:                  sw_Comet_II_Cab_graphics_articulated;
    }
}

item (FEAT_TRAINS, item_Comet_II_Car, 619) {
  property {
    name:                         string(STR_Comet_II_Car_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1982, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 25;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                11;
    cost_factor:                  125;
    running_cost_factor:          4;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        175 km/h;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               60;
    weight:                       25.5 ton;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics { 
        purchase:                 spriteset_Comet_II_purchase;
        additional_text:          return string(STR_Obsolete_Desc);
        length:                   (position_in_vehid_chain % 2) == 0 ? 1 : 8;
        articulated_part:         sw_Comet_II_Car_articulated;
        default:                  sw_Comet_II_Car_graphics_articulated;
    }
}
switch (FEAT_TRAINS, SELF, sw_Comet_III_Cab_graphics, position_in_consist) {
  0:  spriteset_Comet_III_Cab_f;
  spriteset_Comet_III_Cab_b;
}

switch(FEAT_TRAINS, PARENT, sw_push_pull_Comet_III_F40PH, vehicle_is_reversed) {
  0:  sw_Comet_III_Cab_graphics;
  sw_F40PH_graphics_for_Push_Pull;
}
switch(FEAT_TRAINS, PARENT, sw_push_pull_Comet_III_P32AC_DM, vehicle_is_reversed) {
  0:  sw_Comet_III_Cab_graphics;
  sw_P32AC_DM_graphics_for_Push_Pull;
}
switch(FEAT_TRAINS, PARENT, sw_push_pull_Comet_III_ALP_46, vehicle_is_reversed) {
  0:  sw_Comet_III_Cab_graphics;
  spriteset_ALP_46_b;
}
switch(FEAT_TRAINS, PARENT, sw_push_pull_Comet_III, vehicle_type_id) {
  item_P32AC_DM:  sw_push_pull_Comet_III_P32AC_DM;
  item_ALP_46:  sw_push_pull_Comet_III_ALP_46;
  item_F40PH:  sw_push_pull_Comet_III_F40PH;
  sw_Comet_III_Cab_graphics;
}

switch(FEAT_TRAINS, SELF, sw_Comet_III_Cab_graphics_articulated, position_in_vehid_chain % 2) {
  0:  spriteset_obsolete;
  sw_push_pull_Comet_III;
}
switch(FEAT_TRAINS, PARENT, sw_Comet_III_Car_flipping_F40PH, vehicle_is_reversed) {
  0:  spriteset_Comet_III_Car;
  spriteset_Comet_III_Car_rev_F40PH;
}
switch(FEAT_TRAINS, PARENT, sw_Comet_III_Car_flipping_normal, vehicle_is_reversed) {
  0:  spriteset_Comet_III_Car;
  spriteset_Comet_III_Car_rev;
}
switch(FEAT_TRAINS, PARENT, sw_Comet_III_Car_flipping, count_veh_id(215)) {
  0:  sw_Comet_III_Car_flipping_normal;
  sw_Comet_III_Car_flipping_F40PH;
}

switch(FEAT_TRAINS, SELF, sw_Comet_III_Car_graphics_articulated, position_in_vehid_chain % 2) {
  0:  spriteset_obsolete;
  sw_Comet_III_Car_flipping;
}
switch(FEAT_TRAINS, SELF, sw_Comet_III_Cab_articulated, extra_callback_info1) {
  1:  item_Comet_III_Cab;
  CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}
switch(FEAT_TRAINS, SELF, sw_Comet_III_Car_articulated, extra_callback_info1) {
  1:  item_Comet_III_Car;
  CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

switch(FEAT_TRAINS, PARENT, sw_Comet_III_smoke2, vehicle_is_reversed) {
  0:  visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
  visual_effect_and_powered(VISUAL_EFFECT_DIESEL, 0, DISABLE_WAGON_POWER);
}
switch(FEAT_TRAINS, PARENT, sw_Comet_III_smoke, count_veh_id(215)) {
  0:  visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
  sw_Comet_III_smoke2;
}

item (FEAT_TRAINS, item_Comet_III_Cab, 620) {
  property {
    name:                         string(STR_Comet_III_Cab_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1990, 1, 1);
    model_life:                   21;
    vehicle_life:                 23;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                14;
    cost_factor:                  29;
    running_cost_factor:          29;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        180 km/h;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        1;
    cargo_capacity:               59;
    weight:                       26 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_Comet_III_purchase;
        additional_text:          return string(STR_Comet_I_IV_Cab_Desc);
        sound_effect:             CB_RESULT_NO_SOUND;
        length:                   (position_in_vehid_chain % 2) == 0 ? 1 : 8;
        visual_effect_and_powered:sw_Comet_III_smoke;
        articulated_part:         sw_Comet_III_Cab_articulated;
        default:                  sw_Comet_III_Cab_graphics_articulated;
    }
}

item (FEAT_TRAINS, item_Comet_III_Car, 621) {
  property {
    name:                         string(STR_Comet_III_Car_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1990, 1, 1);
    model_life:                   21;
    vehicle_life:                 23;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                14;
    cost_factor:                  129;
    running_cost_factor:          7;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        180 km/h;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               60;
    weight:                       25.5 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_Comet_III_purchase;
        additional_text:          return string(STR_Obsolete_Desc);
        length:                   (position_in_vehid_chain % 2) == 0 ? 1 : 8;
        articulated_part:         sw_Comet_III_Car_articulated;
        default:                  sw_Comet_III_Car_graphics_articulated;
    }
}

switch (FEAT_TRAINS, SELF, sw_Comet_IV_Cab_graphics, position_in_consist) {
  0:  spriteset_Comet_IV_Cab_f;
  spriteset_Comet_IV_Cab_b;
}

switch(FEAT_TRAINS, PARENT, sw_push_pull_Comet_IV_F40PH, vehicle_is_reversed) {
  0:  sw_Comet_IV_Cab_graphics;
  sw_F40PH_graphics_for_Push_Pull;
}
switch(FEAT_TRAINS, PARENT, sw_push_pull_Comet_IV_P32AC_DM, vehicle_is_reversed) {
  0:  sw_Comet_IV_Cab_graphics;
  sw_P32AC_DM_graphics_for_Push_Pull;
}
switch(FEAT_TRAINS, PARENT, sw_push_pull_Comet_IV_ALP_46, vehicle_is_reversed) {
  0:  sw_Comet_IV_Cab_graphics;
  spriteset_ALP_46_b;
}
switch(FEAT_TRAINS, PARENT, sw_push_pull_Comet_IV, vehicle_type_id) {
  item_P32AC_DM:  sw_push_pull_Comet_IV_P32AC_DM;
  item_ALP_46:  sw_push_pull_Comet_IV_ALP_46;
  item_F40PH:  sw_push_pull_Comet_IV_F40PH;
  sw_Comet_IV_Cab_graphics;
}

switch(FEAT_TRAINS, SELF, sw_Comet_IV_Cab_graphics_articulated, position_in_vehid_chain % 2) {
  0:  spriteset_obsolete;
  sw_push_pull_Comet_IV;
}
switch(FEAT_TRAINS, PARENT, sw_Comet_IV_Car_flipping_F40PH, vehicle_is_reversed) {
  0:  spriteset_Comet_IV_Car;
  spriteset_Comet_IV_Car_rev_F40PH;
}
switch(FEAT_TRAINS, PARENT, sw_Comet_IV_Car_flipping_normal, vehicle_is_reversed) {
  0:  spriteset_Comet_IV_Car;
  spriteset_Comet_IV_Car_rev;
}
switch(FEAT_TRAINS, PARENT, sw_Comet_IV_Car_flipping, count_veh_id(215)) {
  0:  sw_Comet_IV_Car_flipping_normal;
  sw_Comet_IV_Car_flipping_F40PH;
}

switch(FEAT_TRAINS, SELF, sw_Comet_IV_Car_graphics_articulated, position_in_vehid_chain % 2) {
  0:  spriteset_obsolete;
  sw_Comet_IV_Car_flipping;
}
switch(FEAT_TRAINS, SELF, sw_Comet_IV_Cab_articulated, extra_callback_info1) {
  1:  item_Comet_IV_Cab;
  CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}
switch(FEAT_TRAINS, SELF, sw_Comet_IV_Car_articulated, extra_callback_info1) {
  1:  item_Comet_IV_Car;
  CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

switch(FEAT_TRAINS, PARENT, sw_Comet_IV_smoke2, vehicle_is_reversed) {
  0:  visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
  visual_effect_and_powered(VISUAL_EFFECT_DIESEL, 0, DISABLE_WAGON_POWER);
}
switch(FEAT_TRAINS, PARENT, sw_Comet_IV_smoke, count_veh_id(215)) {
  0:  visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
  sw_Comet_IV_smoke2;
}

item (FEAT_TRAINS, item_Comet_IV_Cab, 622) {
  property {
    name:                         string(STR_Comet_IV_Cab_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1996, 1, 1);
    model_life:                   21;
    vehicle_life:                 23;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                14;
    cost_factor:                  35;
    running_cost_factor:          35;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        185 km/h;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        1;
    cargo_capacity:               59;
    weight:                       27 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_Comet_IV_purchase;
        additional_text:          return string(STR_Comet_I_IV_Cab_Desc);
        sound_effect:             CB_RESULT_NO_SOUND;
        length:                   (position_in_vehid_chain % 2) == 0 ? 1 : 8;
        visual_effect_and_powered:sw_Comet_IV_smoke;
        articulated_part:         sw_Comet_IV_Cab_articulated;
        default:                  sw_Comet_IV_Cab_graphics_articulated;
    }
}

item (FEAT_TRAINS, item_Comet_IV_Car, 623) {
  property {
    name:                         string(STR_Comet_IV_Car_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1996, 1, 1);
    model_life:                   24;
    vehicle_life:                 23;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                14;
    cost_factor:                  135;
    running_cost_factor:          7;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        185 km/h;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               60;
    weight:                       26 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_Comet_IV_Car_purchase;
        additional_text:          return string(STR_Obsolete_Desc);
        length:                   (position_in_vehid_chain % 2) == 0 ? 1 : 8;
        articulated_part:         sw_Comet_IV_Car_articulated;
        default:                  sw_Comet_IV_Car_graphics_articulated;
    }
}

switch (FEAT_TRAINS, SELF, sw_Comet_V_Cab_graphics, position_in_consist) {
  0:  spriteset_Comet_V_Cab_f;
  spriteset_Comet_V_Cab_b;
}

switch(FEAT_TRAINS, PARENT, sw_push_pull_Comet_V_F40PH, vehicle_is_reversed) {
  0:  sw_Comet_V_Cab_graphics;
  sw_F40PH_graphics_for_Push_Pull;
}
switch(FEAT_TRAINS, PARENT, sw_push_pull_Comet_V_P32AC_DM, vehicle_is_reversed) {
  0:  sw_Comet_V_Cab_graphics;
  sw_P32AC_DM_graphics_for_Push_Pull;
}
switch(FEAT_TRAINS, PARENT, sw_push_pull_Comet_V_ALP_46, vehicle_is_reversed) {
  0:  sw_Comet_V_Cab_graphics;
  spriteset_ALP_46_b;
}
switch(FEAT_TRAINS, PARENT, sw_push_pull_Comet_V, vehicle_type_id) {
  item_P32AC_DM:  sw_push_pull_Comet_V_P32AC_DM;
  item_ALP_46:  sw_push_pull_Comet_V_ALP_46;
  item_F40PH:  sw_push_pull_Comet_V_F40PH;
  sw_Comet_V_Cab_graphics;
}

switch(FEAT_TRAINS, SELF, sw_Comet_V_Cab_graphics_articulated, position_in_vehid_chain % 2) {
  0:  spriteset_obsolete;
  sw_push_pull_Comet_V;
}
switch(FEAT_TRAINS, PARENT, sw_Comet_V_Car_flipping_F40PH, vehicle_is_reversed) {
  0:  spriteset_Comet_V_Car;
  spriteset_Comet_V_Car_rev_F40PH;
}
switch(FEAT_TRAINS, PARENT, sw_Comet_V_Car_flipping_normal, vehicle_is_reversed) {
  0:  spriteset_Comet_V_Car;
  spriteset_Comet_V_Car_rev;
}
switch(FEAT_TRAINS, PARENT, sw_Comet_V_Car_flipping, count_veh_id(215)) {
  0:  sw_Comet_V_Car_flipping_normal;
  sw_Comet_V_Car_flipping_F40PH;
}

switch(FEAT_TRAINS, SELF, sw_Comet_V_Car_graphics_articulated, position_in_vehid_chain % 2) {
  0:  spriteset_obsolete;
  sw_Comet_V_Car_flipping;
}
switch(FEAT_TRAINS, SELF, sw_Comet_V_Cab_articulated, extra_callback_info1) {
  1:  item_Comet_V_Cab;
  CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}
switch(FEAT_TRAINS, SELF, sw_Comet_V_Car_articulated, extra_callback_info1) {
  1:  item_Comet_V_Car;
  CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

switch(FEAT_TRAINS, PARENT, sw_Comet_V_smoke2, vehicle_is_reversed) {
  0:  visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
  visual_effect_and_powered(VISUAL_EFFECT_DIESEL, 0, DISABLE_WAGON_POWER);
}
switch(FEAT_TRAINS, PARENT, sw_Comet_V_smoke, count_veh_id(215)) {
  0:  visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
  sw_Comet_V_smoke2;
}

item (FEAT_TRAINS, item_Comet_V_Cab, 624) {
  property {
    name:                         string(STR_Comet_V_Cab_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(2002, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 28;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                16;
    cost_factor:                  40;
    running_cost_factor:          40;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        190 km/h;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        1;
    cargo_capacity:               62;
    weight:                       29 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DIESEL, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_Comet_V_purchase;
        additional_text:          return string(STR_Comet_V_Cab_Desc);
        length:                   (position_in_vehid_chain % 2) == 0 ? 1 : 8;
        sound_effect:             CB_RESULT_NO_SOUND;
        visual_effect_and_powered:sw_Comet_V_smoke;
        articulated_part:         sw_Comet_V_Cab_articulated;
        default:                  sw_Comet_V_Cab_graphics_articulated;
    }
}

item (FEAT_TRAINS, item_Comet_V_Car, 625) {
  property {
    name:                         string(STR_Comet_V_Car_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(2002, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 28;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                16;
    cost_factor:                  140;
    running_cost_factor:          10;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        190 km/h;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               65;
    weight:                       28 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_Comet_V_Car_purchase;
        additional_text:          return string(STR_Comet_V_Car_Desc);
        length:                   (position_in_vehid_chain % 2) == 0 ? 1 : 8;
        articulated_part:         sw_Comet_V_Car_articulated;
        default:                  sw_Comet_V_Car_graphics_articulated;
    }
}

switch (FEAT_TRAINS, SELF, sw_Multilevel_Cab_graphics, position_in_consist) {
  0:  spriteset_Multilevel_Cab_f;
  spriteset_Multilevel_Cab_b;
}
switch(FEAT_TRAINS, PARENT, sw_push_pull_Multilevel_P32AC_DM, vehicle_is_reversed) {
  0:  sw_Multilevel_Cab_graphics;
  sw_P32AC_DM_graphics_for_Push_Pull;
}
switch(FEAT_TRAINS, PARENT, sw_push_pull_Multilevel_ALP_46, vehicle_is_reversed) {
  0:  sw_Multilevel_Cab_graphics;
  spriteset_ALP_46_b;
}
switch(FEAT_TRAINS, PARENT, sw_push_pull_Multilevel, vehicle_type_id) {
  item_ALP_46:  sw_push_pull_Multilevel_ALP_46;
  item_P32AC_DM:  sw_push_pull_Multilevel_P32AC_DM;
  sw_Multilevel_Cab_graphics;
}

item (FEAT_TRAINS, item_Multilevel_Cab, 612) {
  property {
    name:                         string(STR_Multilevel_Cab_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(2002, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 28;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                16;
    cost_factor:                  40;
    running_cost_factor:          40;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        190 km/h;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        1;
    cargo_capacity:               109;
    weight:                       45 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_Multilevel_purchase;
        additional_text:          return string(STR_Multilevel_Cab_Desc);
        length:                   8;
        default:                  sw_push_pull_Multilevel;
    }
}

item (FEAT_TRAINS, item_Multilevel_Car, 613) {
  property {
    name:                         string(STR_Multilevel_Car_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(2002, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 28;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                16;
    cost_factor:                  140;
    running_cost_factor:          10;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        190 km/h;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               114;
    weight:                       45 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_Multilevel_Car_purchase;
        additional_text:          return string(STR_Obsolete_Desc);
        length:                   8;
        default:                  spriteset_Multilevel_Car;
    }
}

switch(FEAT_TRAINS,SELF,sw_F40PH_switching_diesel_effect,vehicle_is_reversed) {
    0:  visual_effect_and_powered(VISUAL_EFFECT_DIESEL, 0, DISABLE_WAGON_POWER);
    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
}

switch(FEAT_TRAINS,SELF,sw_F40PH_diesel,(count_veh_id(616)+count_veh_id(618)+count_veh_id(620)+count_veh_id(622)+count_veh_id(624))) {
    0:  visual_effect_and_powered(VISUAL_EFFECT_DIESEL, 0, DISABLE_WAGON_POWER);
    sw_F40PH_switching_diesel_effect;
}

item (FEAT_TRAINS, item_F40PH, 215) {
  property {
    name:                         string(STR_F40PH_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1975, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 40;
    reliability_decay:            11;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                0;
    cost_factor:                  42;
    running_cost_factor:          142;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        110 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        3200 hp;
    running_cost_base:            RUNNING_COST_DIESEL;
    dual_headed:                  0;
    cargo_capacity:               1;
    weight:                       118 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_DIESEL;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         7/177;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DIESEL, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 sw_F40PH_purchase;
        additional_text:          return string(STR_F40PH_Desc);
        length:                   7;
        cargo_capacity:           0;
        visual_effect_and_powered:sw_F40PH_diesel;
        cargo_subtype_text:       sw_F40PH_livery;
        default:                  sw_F40PH_detect_1;
    }
}

switch(FEAT_TRAINS,SELF,sw_P32AC_DM_visual_effect_and_powered,vehicle_is_reversed) {
  0:  visual_effect_and_powered(VISUAL_EFFECT_DIESEL, 0, DISABLE_WAGON_POWER);
  visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
}

item (FEAT_TRAINS, item_P32AC_DM, 409) {
  property {
    name:                         string(STR_P32AC_DM_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1993, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 30;
    reliability_decay:            12;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                5;
    cost_factor:                  56;
    running_cost_factor:          156;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        180 km/h;
    misc_flags:                   bitmask(TRAIN_FLAG_MU);
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        2400 kW;
    running_cost_base:            RUNNING_COST_ELECTRIC;
    dual_headed:                  0;
    cargo_capacity:               1;
    weight:                       125 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_DIESEL;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DIESEL, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 sw_P32AC_DM_purchase;
        additional_text:          return string(STR_P32AC_DM_Desc);
        length:                   8;
        cargo_subtype_text:       sw_P32AC_DM_livery;
        visual_effect_and_powered:sw_P32AC_DM_visual_effect_and_powered;
        default:                  sw_P32AC_DM_detect_1;
    }
}

item (FEAT_TRAINS, item_ALP_46, 404) {
  property {
    name:                         string(STR_ALP_46_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(2005, 1, 16);
    model_life:                   49;
    vehicle_life:                 34;
    reliability_decay:            15;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                7;
    cost_factor:                  68;
    running_cost_factor:          168;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        160 km/h;
    misc_flags:                   bitmask(TRAIN_FLAG_MU);
    refit_cost:                   0;
    track_type:                   ELRL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        5300 kW;
    running_cost_base:            RUNNING_COST_ELECTRIC;
    dual_headed:                  0;
    cargo_capacity:               1;
    weight:                       90 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_ELECTRIC;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_ALP_46;
        additional_text:          return string(STR_ALP_46_Desc);
        length:                   8;
        default:                  sw_ALP_46_detect_1;
    }
}

//--------------------------------------------------------------------------------------------------MP40PH-3C---Bombardier Bilevel
spriteset (spriteset_purchase_MP40PH_3C, "gfx/Canada_MPI_MP40PH_3C.png") { [4,  66,  87,  13,  -15,  -9] }
spriteset (spriteset_Bombardier_Bilevel_purchase,"gfx/USA_Bombardier_Bilevel.png")   { [4,  97,  87,  14,  -15,  -10] }

template tmpl_MP40PH_3C(x,y) {
  [x,      y,    8,     24,     -3,    -10]
	[x+9,    y,    22,    20,     -14,   -10]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -11]
  [x+88,   y,    8,     24,     -3,    -10]
	[x+97,   y,    22,    20,     -14,   -10]
	[x+120,  y,    32,    16,     -16,   -12]
	[x+153,  y,    22,    20,     -8,    -11]
}
template tmpl_MP40PH_3C2(x,y) {
  [x+88,   y,    8,     24,     -3,    -10]
	[x+97,   y,    22,    20,     -14,   -10]
	[x+120,  y,    32,    16,     -16,   -12]
	[x+153,  y,    22,    20,     -8,    -11]
  [x,      y,    8,     24,     -3,    -10]
	[x+9,    y,    22,    20,     -14,   -10]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -11]
}
spriteset (spriteset_MP40PH_3C_f, "gfx/Canada_MPI_MP40PH_3C.png")  { tmpl_MP40PH_3C(4,4) }
spriteset (spriteset_MP40PH_3C_b, "gfx/Canada_MPI_MP40PH_3C.png")  { tmpl_MP40PH_3C2(4,35) }

switch(FEAT_TRAINS,SELF,sw_MP40PH_3C_f, vehicle_is_reversed) {
  0:  spriteset_MP40PH_3C_f;
  spriteset_Bombardier_Bilevel_Cab_f;
}
switch(FEAT_TRAINS,SELF,sw_MP40PH_3C_b, vehicle_is_reversed) {
  0:  spriteset_MP40PH_3C_b;
  spriteset_Bombardier_Bilevel_Cab_b;
}
switch(FEAT_TRAINS,SELF,sw_MP40PH_3C_push_pull, position_in_consist) {
  0:  sw_MP40PH_3C_f;
  sw_MP40PH_3C_b;
}
switch(FEAT_TRAINS,SELF,sw_MP40PH_3C_graphics, position_in_consist) {
  0:  spriteset_MP40PH_3C_f;
  spriteset_MP40PH_3C_b;
}

switch(FEAT_TRAINS,SELF,sw_MP40PH_3C_push_pull_detect, count_veh_id(610)) {
  0:  sw_MP40PH_3C_graphics;
  sw_MP40PH_3C_push_pull;
}

template tmpl_Bombardier_Bilevel(x,y) {
  [x,      y,    8,     24,     -3,    -10]
	[x+9,    y,    22,    20,     -14,   -10]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -11]
}

spriteset (spriteset_Bombardier_Bilevel_Cab_f,"gfx/USA_Bombardier_Bilevel.png") { tmpl_Bombardier_Bilevel(4,4)   tmpl_Bombardier_Bilevel(92,4) }
spriteset (spriteset_Bombardier_Bilevel_Cab_b,"gfx/USA_Bombardier_Bilevel.png") { tmpl_Bombardier_Bilevel(92,35) tmpl_Bombardier_Bilevel(4,35) }
spriteset (spriteset_Bombardier_Bilevel_Car,"gfx/USA_Bombardier_Bilevel.png")   { tmpl_Bombardier_Bilevel(4,66)  tmpl_Bombardier_Bilevel(92,66) }

switch (FEAT_TRAINS, SELF, sw_Bombardier_Bilevel_Cab_graphics, position_in_consist) {
  0:  spriteset_Bombardier_Bilevel_Cab_f;
  spriteset_Bombardier_Bilevel_Cab_b;
}
switch(FEAT_TRAINS, PARENT, sw_push_pull_Bombardier_Bilevel_MP40PH_3C, vehicle_is_reversed) {
  0:  sw_Bombardier_Bilevel_Cab_graphics;
  sw_MP40PH_3C_graphics;
}
switch(FEAT_TRAINS, PARENT, sw_push_pull_Bombardier_Bilevel, vehicle_type_id) {
  item_MP40PH_3C:  sw_push_pull_Bombardier_Bilevel_MP40PH_3C;
  sw_Bombardier_Bilevel_Cab_graphics;
}

item (FEAT_TRAINS, item_Bombardier_Bilevel_Cab, 610) {
  property {
    name:                         string(STR_Bombardier_Bilevel_Cab_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1994, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 25;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                11;
    cost_factor:                  32;
    running_cost_factor:          32;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        130 km/h;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        1;
    cargo_capacity:               78;
    weight:                       52 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_Bombardier_Bilevel_purchase;
        additional_text:          return string(STR_Bombardier_Bilevel_Cab_Desc);
        length:                   8;
        sound_effect:             CB_RESULT_NO_SOUND;
        default:                  sw_push_pull_Bombardier_Bilevel;
    }
}

item (FEAT_TRAINS, item_Bombardier_Bilevel_Car, 611) {
  property {
    name:                         string(STR_Bombardier_Bilevel_Car_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1994, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 25;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                11;
    cost_factor:                  132;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        130 km/h;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               82;
    weight:                       50 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_Bombardier_Bilevel_purchase;
        additional_text:          return string(STR_Bombardier_Bilevel_Car_Desc);
        length:                   8;
        default:                  spriteset_Bombardier_Bilevel_Car;
    }
}

switch(FEAT_TRAINS,SELF,sw_MP40PH_3C_visual_effect_and_powered,vehicle_is_reversed) {
  0:  visual_effect_and_powered(VISUAL_EFFECT_DIESEL, 0, DISABLE_WAGON_POWER);
  visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
}

item (FEAT_TRAINS, item_MP40PH_3C, 416) {
  property {
    name:                         string(STR_MP40PH_3C_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(2000, 1, 6);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 30;
    reliability_decay:            12;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                0;
    cost_factor:                  46;
    running_cost_factor:          146;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        150 km/h;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        3000 kW;
    running_cost_base:            RUNNING_COST_ELECTRIC;
    dual_headed:                  0;
    cargo_capacity:               0;
    weight:                       130 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_DIESEL;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DIESEL, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_MP40PH_3C;
        additional_text:          return string(STR_MP40PH_3C_Desc);
        length:                   8;
        visual_effect_and_powered:sw_MP40PH_3C_visual_effect_and_powered;
        default:                  sw_MP40PH_3C_push_pull_detect;
    }
}

//--------------------------------------------------------------------------------------------------EMD F3
spriteset (spriteset_purchase_F3, "gfx/USA_EMD_F3_ATSF.png") { [4,  66,  87,  12,  -23,  -8] }

template tmpl_F3_A1(x,y) {
  [x,      y,    8,     24,     -3,    -12]
	[x+9,    y,    22,    20,     -14,   -10]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -11]
}
template tmpl_F3_A2(x,y) {
  [x,      y,    8,     24,     -3,    -12]
	[x+9,    y,    22,    20,     -14,   -10]
	[x+32,   y,    32,    16,     -20,   -12]
	[x+65,   y,    22,    20,     -8,    -11]
}
template tmpl_F3_B(x,y) {
  [x,      y,    8,     24,     -3,    -12]
	[x+9,    y,    22,    20,     -14,   -10]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -11]
  [x+88,   y,    8,     24,     -3,    -12]
	[x+97,   y,    22,    20,     -14,   -10]
	[x+120,  y,    32,    16,     -20,   -12]
	[x+153,  y,    22,    20,     -8,    -11]
}

spriteset (spriteset_F3_ATSF_A_front, "gfx/USA_EMD_F3_ATSF.png") { tmpl_F3_A1(4,4) tmpl_F3_A2(92,4) }
spriteset (spriteset_F3_ATSF_A_back, "gfx/USA_EMD_F3_ATSF.png") { tmpl_F3_A1(92,4) tmpl_F3_A2(4,4) }
spriteset (spriteset_F3_ATSF_B, "gfx/USA_EMD_F3_ATSF.png") { tmpl_F3_B(4,35) }

spriteset (spriteset_F3_NYC_A_front, "gfx/USA_EMD_F3_NYC.png") { tmpl_F3_A1(4,4) tmpl_F3_A2(92,4) }
spriteset (spriteset_F3_NYC_A_back, "gfx/USA_EMD_F3_NYC.png") { tmpl_F3_A1(92,4) tmpl_F3_A2(4,4) }
spriteset (spriteset_F3_NYC_B, "gfx/USA_EMD_F3_NYC.png") { tmpl_F3_B(4,35) }

switch(FEAT_TRAINS,SELF,sw_F3_A_front, cargo_subtype) {
  0:  spriteset_F3_ATSF_A_front;
  spriteset_F3_NYC_A_front;
}
switch(FEAT_TRAINS,SELF,sw_F3_A_back, cargo_subtype) {
  0:  spriteset_F3_ATSF_A_back;
  spriteset_F3_NYC_A_back;
}
switch(FEAT_TRAINS,SELF,sw_F3_B, cargo_subtype) {
  0:  spriteset_F3_ATSF_B;
  spriteset_F3_NYC_B;
}

switch(FEAT_TRAINS,SELF,sw_F3_graphics2, position_in_vehid_chain_from_end) {
  0:  sw_F3_A_back;
  sw_F3_B;
}
switch(FEAT_TRAINS,SELF,sw_F3_graphics, position_in_consist) {
  0:  sw_F3_A_front;
  1:  sw_F3_B;
  sw_F3_graphics2;
}
switch(FEAT_TRAINS,SELF,sw_F3_livery, cargo_subtype) {
  0:  return string(STR_Livery_ATSF_Red_Warbonnet);
  return string(STR_Livery_NYC_20);
}


item (FEAT_TRAINS, item_F3, 213) {
  property {
    name:                         string(STR_F3_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1945, 7, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 34;
    reliability_decay:            14;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                0;
    cost_factor:                  37;
    running_cost_factor:          137;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        166 km/h;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        1500 hp;
    running_cost_base:            RUNNING_COST_DIESEL;
    dual_headed:                  0;
    cargo_capacity:               1;
    weight:                       106 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_DIESEL;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DIESEL, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_F3;
        additional_text:          return string(STR_F3_Desc);
        length:                   7;
        cargo_subtype_text:       sw_F3_livery;
        cargo_capacity:           0;
        default:                  sw_F3_graphics;
    }
}

//--------------------------------------------------------------------------------------------------Highliner I
spriteset(spriteset_purchase_Highliner_I, "gfx/USA_Metra_Highliner_I.png") { [4, 66, 87, 16, -27, -12] }

template tmpl_Highliner_I(x,y) {
  [x,      y,    8,     24,     -3,    -12]
	[x+9,    y,    22,    21,     -14,   -12]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    21,     -8,    -13]
}

spriteset (spriteset_Highliner_I_f, "gfx/USA_Metra_Highliner_I.png") { tmpl_Highliner_I(4,4) tmpl_Highliner_I(92,4) }
spriteset (spriteset_Highliner_I_w_f, "gfx/USA_Metra_Highliner_I.png") { tmpl_Highliner_I(4,35) tmpl_Highliner_I(92,35) }
spriteset (spriteset_Highliner_I_w_b, "gfx/USA_Metra_Highliner_I.png") { tmpl_Highliner_I(92,35) tmpl_Highliner_I(4,35) }

switch(FEAT_TRAINS, SELF, sw_Highliner_I_articulated_part, extra_callback_info1) {
  1:   return item_Highliner_I;
  return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}
switch(FEAT_TRAINS, SELF, sw_Highliner_I_graphics3, position_in_consist % 2) {
  0:  spriteset_Highliner_I_w_f;
  spriteset_Highliner_I_w_b;
}
switch(FEAT_TRAINS, SELF, sw_Highliner_I_graphics2, position_in_consist_from_end) {
  0:  spriteset_Highliner_I_w_b;
  sw_Highliner_I_graphics3;
}
switch(FEAT_TRAINS, SELF, sw_Highliner_I_graphics, position_in_consist) {
  0:  spriteset_Highliner_I_f;
  sw_Highliner_I_graphics2;
}

item (FEAT_TRAINS, item_Highliner_I, 321) {
  property {
    name:                         string(STR_Highliner_I_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1971, 1, 1);
    model_life:                   45;
    vehicle_life:                 35;
    reliability_decay:            14;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                12;
    cost_factor:                  42;
    running_cost_factor:          142;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        80 mph;
    misc_flags:                   bitmask(TRAIN_FLAG_MU);
    refit_cost:                   0;
    track_type:                   ELRL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        480 kW;
    running_cost_base:            RUNNING_COST_ELECTRIC;
    dual_headed:                  0;
    cargo_capacity:               156;
    weight:                       64 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_ELECTRIC;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_Highliner_I;
        articulated_part:         sw_Highliner_I_articulated_part;
        additional_text:          return string(STR_Highliner_I_Desc);
        length:                   8;
        default:                  sw_Highliner_I_graphics;
    }
}

//--------------------------------------------------------------------------------------------------Highliner II
spriteset(spriteset_purchase_Highliner_II, "gfx/USA_Metra_Highliner_II.png") { [4, 97, 87, 16, -27, -12] }

template tmpl_Highliner_II_f(x,y) {
  [x,      y,    8,     24,     -3,    -12]
	[x+9,    y,    22,    20,     -14,   -11]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -13]
  [x+88,   y,    8,     24,     -3,    -12]
	[x+97,   y,    22,    20,     -14,   -12]
	[x+120,  y,    32,    16,     -16,   -12]
	[x+153,  y,    22,    20,     -8,    -12]
}

template tmpl_Highliner_II_w(x,y) {
  [x,      y,    8,     24,     -3,    -12]
	[x+9,    y,    22,    20,     -14,   -11]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -12]
}

spriteset (spriteset_Highliner_II_f, "gfx/USA_Metra_Highliner_II.png") { tmpl_Highliner_II_f(4,4) }
spriteset (spriteset_Highliner_II_b, "gfx/USA_Metra_Highliner_II.png") { tmpl_Highliner_II_w(92,35) tmpl_Highliner_II_w(4,35) }
spriteset (spriteset_Highliner_II_w_f, "gfx/USA_Metra_Highliner_II.png") { tmpl_Highliner_II_w(4,66) tmpl_Highliner_II_w(92,66) }
spriteset (spriteset_Highliner_II_w_b, "gfx/USA_Metra_Highliner_II.png") { tmpl_Highliner_II_w(92,66) tmpl_Highliner_II_w(4,66) }

switch(FEAT_TRAINS, SELF, sw_Highliner_II_articulated_part, extra_callback_info1) {
  1:   return item_Highliner_II;
  return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}
switch(FEAT_TRAINS, SELF, sw_Highliner_II_graphics3, position_in_consist % 2) {
  0:  spriteset_Highliner_II_w_f;
  spriteset_Highliner_II_w_b;
}
switch(FEAT_TRAINS, SELF, sw_Highliner_II_graphics2, position_in_consist_from_end) {
  0:  spriteset_Highliner_II_b;
  sw_Highliner_II_graphics3;
}
switch(FEAT_TRAINS, SELF, sw_Highliner_II_graphics, position_in_consist) {
  0:  spriteset_Highliner_II_f;
  sw_Highliner_II_graphics2;
}

item (FEAT_TRAINS, item_Highliner_II, 305) {
  property {
    name:                         string(STR_Highliner_II_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(2005, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 35;
    reliability_decay:            16;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                10;
    cost_factor:                  45;
    running_cost_factor:          145;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        130 km/h;
    misc_flags:                   bitmask(TRAIN_FLAG_MU);
    refit_cost:                   0;
    track_type:                   ELRL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        480 kW;
    running_cost_base:            RUNNING_COST_ELECTRIC;
    dual_headed:                  0;
    cargo_capacity:               156;
    weight:                       64 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_ELECTRIC;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_Highliner_II;
        articulated_part:         sw_Highliner_II_articulated_part;
        additional_text:          return string(STR_Highliner_II_Desc);
        length:                   8;
        default:                  sw_Highliner_II_graphics;
    }
}

//--------------------------------------------------------------------------------------------------Metra Bilevel---Metra F40c
spriteset (spriteset_Metra_F40c_purchase,"gfx/USA_Metra_F40c.png") { [4,  66,  87,  12,  -15,  -8] }
spriteset (spriteset_Metra_Bilevel_Cab_purchase,"gfx/USA_Metra_Bilevel_Coach.png") { [4,  97,  87,  15,  -15,  -11] }
spriteset (spriteset_Metra_Bilevel_Car_purchase,"gfx/USA_Metra_Bilevel_Coach.png") { [92,  97,  87,  15,  -15,  -11] }

template tmpl_Metra_Bilevel(x,y) {
  [x,      y,    8,     24,     -3,    -12]
	[x+9,    y,    22,    20,     -14,   -11]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -12]
}
spriteset (spriteset_Metra_Bilevel_Cab_f,"gfx/USA_Metra_Bilevel_Coach.png") { tmpl_Metra_Bilevel(4,4)   tmpl_Metra_Bilevel(92,4) }
spriteset (spriteset_Metra_Bilevel_Cab_b,"gfx/USA_Metra_Bilevel_Coach.png") { tmpl_Metra_Bilevel(92,35) tmpl_Metra_Bilevel(4,35) }
spriteset (spriteset_Metra_Bilevel_Car,"gfx/USA_Metra_Bilevel_Coach.png")   { tmpl_Metra_Bilevel(4,66)  tmpl_Metra_Bilevel(92,66) }

template tmpl_F40c(x,y) {
  [x,      y,    8,     24,     -3,    -10]
	[x+9,    y,    22,    20,     -14,   -9]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -11]
  [x+88,   y,    8,     24,     -3,    -10]
	[x+97,   y,    22,    20,     -14,   -10]
	[x+120,  y,    32,    16,     -16,   -12]
	[x+153,  y,    22,    20,     -8,    -11]
}
template tmpl_F40c_2(x,y) {
  [x+88,   y,    8,     24,     -3,    -10]
	[x+97,   y,    22,    20,     -14,   -10]
	[x+120,  y,    32,    16,     -16,   -12]
	[x+153,  y,    22,    20,     -8,    -11]
  [x,      y,    8,     24,     -3,    -10]
	[x+9,    y,    22,    20,     -14,   -9]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -11]
}
spriteset (spriteset_Metra_F40c_f, "gfx/USA_Metra_F40c.png") { tmpl_F40c(4,4) }
spriteset (spriteset_Metra_F40c_b, "gfx/USA_Metra_F40c.png") { tmpl_F40c_2(4,35) }

switch(FEAT_TRAINS,SELF,sw_Metra_F40c_grapfics3, position_in_consist % 2) {
  0:  spriteset_Metra_F40c_f;
  spriteset_Metra_F40c_b;
}
switch(FEAT_TRAINS,SELF,sw_Metra_F40c_grapfics2, position_in_consist_from_end) {
  0:  spriteset_Metra_F40c_b;
  sw_Metra_F40c_grapfics3;
}
switch(FEAT_TRAINS,SELF,sw_Metra_F40c_graphics, position_in_consist) {
  0:  spriteset_Metra_F40c_f;
  sw_Metra_F40c_grapfics2;
}
switch(FEAT_TRAINS,SELF,sw_Metra_F40c_graphics_M_Bilevel, vehicle_is_reversed) {
  0:  sw_Metra_F40c_graphics;
  spriteset_Metra_Bilevel_Cab_f;
}
switch(FEAT_TRAINS,SELF,sw_Metra_F40c_detect_cab, count_veh_id(636)) {
  0:  sw_Metra_F40c_graphics;
  sw_Metra_F40c_graphics_M_Bilevel;
}
switch (FEAT_TRAINS, SELF, sw_Metra_Bilevel_Cab_graphics, position_in_consist) {
  0:  spriteset_Metra_Bilevel_Cab_f;
  spriteset_Metra_Bilevel_Cab_b;
}
switch(FEAT_TRAINS, PARENT, sw_push_pull_Metra_Bilevel_F40c, vehicle_is_reversed) {
  0:  sw_Metra_Bilevel_Cab_graphics;
  sw_Metra_F40c_graphics;
}
switch(FEAT_TRAINS, PARENT, sw_push_pull_Metra_Bilevel, vehicle_type_id) {
  item_Metra_F40c:  sw_push_pull_Metra_Bilevel_F40c;
  sw_Metra_Bilevel_Cab_graphics;
}

item (FEAT_TRAINS, item_Metra_Bilevel_Cab, 636) {
  property {
    name:                         string(STR_Metra_Bilevel_Cab_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1994, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 25;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                11;
    cost_factor:                  33;
    running_cost_factor:          33;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        130 km/h;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        1;
    cargo_capacity:               78;
    weight:                       52 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_Metra_Bilevel_Cab_purchase;
        additional_text:          return string(STR_Metra_Bilevel_Cab_Desc);
        length:                   8;
        sound_effect:             CB_RESULT_NO_SOUND;
        default:                  sw_push_pull_Metra_Bilevel;
    }
}

item (FEAT_TRAINS, item_Metra_Bilevel_Car, 637) {
  property {
    name:                         string(STR_Metra_Bilevel_Car_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1994, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 25;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                11;
    cost_factor:                  133;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        130 km/h;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               82;
    weight:                       50 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_Metra_Bilevel_Car_purchase;
        additional_text:          return string(STR_Metra_Bilevel_Car_Desc);
        length:                   8;
        default:                  spriteset_Metra_Bilevel_Car;
    }
}

switch(FEAT_TRAINS,SELF,sw_Metra_F40c_visual_effect_and_powered2,vehicle_is_reversed) {
  0:  visual_effect_and_powered(VISUAL_EFFECT_DIESEL, 0, DISABLE_WAGON_POWER);
  visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
}
switch(FEAT_TRAINS,SELF,sw_Metra_F40c_visual_effect_and_powered, count_veh_id(636)) {
  0:  visual_effect_and_powered(VISUAL_EFFECT_DIESEL, 0, DISABLE_WAGON_POWER);
  sw_Metra_F40c_visual_effect_and_powered2;
}
switch(FEAT_TRAINS,SELF,sw_Metra_F40c_hornsound,getbits(extra_callback_info1, 0, 8)) {
  SOUND_EVENT_START:  sound("F40C-prime99 (mp3cut.net).wav");
  SOUND_EVENT_TUNNEL:  sound("F40C-prime99 (mp3cut.net).wav");
  CB_RESULT_NO_SOUND;
}

item (FEAT_TRAINS, item_Metra_F40c, 214) {
  property {
    name:                         string(STR_Metra_F40c_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1974, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 35;
    reliability_decay:            15;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                1;
    cost_factor:                  52;
    running_cost_factor:          152;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        152 km/h;
    misc_flags:                   bitmask(TRAIN_FLAG_MU);
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        2390 kW;
    running_cost_base:            RUNNING_COST_ELECTRIC;
    dual_headed:                  0;
    cargo_capacity:               1;
    weight:                       165 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_DIESEL;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DIESEL, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_Metra_F40c_purchase;
        additional_text:          return string(STR_Metra_F40c_Desc);
        length:                   8;
        visual_effect_and_powered:sw_Metra_F40c_visual_effect_and_powered;
        sound_effect:             sw_Metra_F40c_hornsound;
        default:                  sw_Metra_F40c_detect_cab;
    }
}

//--------------------------------------------------------------------------------------------------NYC Budd Lightweight
template tmpl_NYC_Budd_Lightweight(x,y) {
  [x,      y,    8,     24,     -3,    -12]
	[x+9,    y,    22,    20,     -14,   -10]
	[x+32,   y,    32,    16,     -16,   -11]
	[x+65,   y,    22,    20,     -8,    -11]
}
spriteset (spriteset_NYC_Budd_Lightweight_Coach_purchase,"gfx/USA_NYC_Budd_Lightweight.png")   { [36, 4, 32, 16, -15, -11] }
spriteset (spriteset_NYC_Budd_Lightweight_Baggage_purchase,"gfx/USA_NYC_Budd_Lightweight.png") { [36, 35, 32, 16, -15, -11] }

spriteset (spriteset_NYC_Budd_Lightweight_Coach,"gfx/USA_NYC_Budd_Lightweight.png")   { tmpl_NYC_Budd_Lightweight(4,4)  tmpl_NYC_Budd_Lightweight(92,4) }
spriteset (spriteset_NYC_Budd_Lightweight_Baggage,"gfx/USA_NYC_Budd_Lightweight.png") { tmpl_NYC_Budd_Lightweight(4,35) tmpl_NYC_Budd_Lightweight(92,35) }

item (FEAT_TRAINS, item_NYC_Budd_Lightweight_Coach, 719) {
  property {
    name:                         string(STR_NYC_Budd_Lightweight_Coach_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1923, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 30;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                10;
    cost_factor:                  120;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        100 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               44;
    weight:                       33 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_NYC_Budd_Lightweight_Coach_purchase;
        additional_text:          return string(STR_Obsolete_Desc);
        length:                   8;
        default:                  spriteset_NYC_Budd_Lightweight_Coach;
    }
}

item (FEAT_TRAINS, item_NYC_Budd_Lightweight_Baggage, 720) {
  property {
    name:                         string(STR_NYC_Budd_Lightweight_Baggage_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1923, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 28;
    refittable_cargo_classes:     bitmask(CC_MAIL,CC_ARMOURED);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                10;
    cost_factor:                  116;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        100 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               72;
    weight:                       31 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_NYC_Budd_Lightweight_Baggage_purchase;
        additional_text:          return string(STR_Obsolete_Desc);
        length:                   8;
        default:                  spriteset_NYC_Budd_Lightweight_Baggage;
    }
}

//--------------------------------------------------------------------------------------------------Amfleet
spriteset (spriteset_Amfleet_Coach_purchase_Phase_II,"gfx/USA_Amtrak_Amfleet.png")  { [38, 4, 36, 16, -19, -12] }
spriteset (spriteset_Amfleet_Coach_purchase_Phase_III,"gfx/USA_Amtrak_Amfleet.png") { [38, 37, 36, 16, -19, -12] }
spriteset (spriteset_Amfleet_Coach_purchase_Phase_IVa,"gfx/USA_Amtrak_Amfleet.png") { [38, 70, 36, 16, -19, -12] }
spriteset (spriteset_Amfleet_Coach_purchase_Phase_V,"gfx/USA_Amtrak_Amfleet.png")   { [38, 103, 36, 16, -19, -12] }

spriteset (spriteset_Amfleet_Cafe_purchase_Phase_II,"gfx/USA_Amtrak_Amfleet.png")  { [134, 4, 36, 16, -19, -12] }
spriteset (spriteset_Amfleet_Cafe_purchase_Phase_III,"gfx/USA_Amtrak_Amfleet.png") { [134, 37, 36, 16, -19, -12] }
spriteset (spriteset_Amfleet_Cafe_purchase_Phase_IVa,"gfx/USA_Amtrak_Amfleet.png") { [134, 70, 36, 16, -19, -12] }
spriteset (spriteset_Amfleet_Cafe_purchase_Phase_V,"gfx/USA_Amtrak_Amfleet.png")   { [134, 103, 36, 16, -19, -12] }

template tmpl_Amfleet(x,y) {
  [x,      y,    8,     26,     -3,    -10]
	[x+9,    y,    24,    21,     -16,   -10]
	[x+34,   y,    36,    16,     -20,   -12]
	[x+71,   y,    24,    21,     -10,   -12]
}
template tmpl_Amfleet2(x,y) {
  [x,      y,    8,     26,     -3,    -12]
	[x+9,    y,    24,    21,     -14,   -11]
	[x+34,   y,    36,    16,     -16,   -12]
	[x+71,   y,    24,    21,     -8,    -11]
}
spriteset (spriteset_Amfleet_Coach_Phase_II,"gfx/USA_Amtrak_Amfleet.png")  { tmpl_Amfleet(4,4) tmpl_Amfleet2(4,4) }
spriteset (spriteset_Amfleet_Coach_Phase_III,"gfx/USA_Amtrak_Amfleet.png") { tmpl_Amfleet(4,37) tmpl_Amfleet2(4,37) }
spriteset (spriteset_Amfleet_Coach_Phase_IVa,"gfx/USA_Amtrak_Amfleet.png") { tmpl_Amfleet(4,70) tmpl_Amfleet2(4,70) }
spriteset (spriteset_Amfleet_Coach_Phase_V,"gfx/USA_Amtrak_Amfleet.png")   { tmpl_Amfleet(4,103) tmpl_Amfleet2(4,103) }

spriteset (spriteset_Amfleet_Cafe_Phase_II,"gfx/USA_Amtrak_Amfleet.png")  { tmpl_Amfleet(100,4) tmpl_Amfleet2(100,4) }
spriteset (spriteset_Amfleet_Cafe_Phase_III,"gfx/USA_Amtrak_Amfleet.png") { tmpl_Amfleet(100,37) tmpl_Amfleet2(100,37) }
spriteset (spriteset_Amfleet_Cafe_Phase_IVa,"gfx/USA_Amtrak_Amfleet.png") { tmpl_Amfleet(100,70) tmpl_Amfleet2(100,70) }
spriteset (spriteset_Amfleet_Cafe_Phase_V,"gfx/USA_Amtrak_Amfleet.png")  { tmpl_Amfleet(100,103) tmpl_Amfleet2(100,103) }

switch(FEAT_TRAINS, SELF, sw_Amfleet_Coach_purchase, current_year) {
  0..1975:  spriteset_Amfleet_Coach_purchase_Phase_II;
  1976..1992:  spriteset_Amfleet_Coach_purchase_Phase_III;
  1993..1999:  spriteset_Amfleet_Coach_purchase_Phase_IVa;
  spriteset_Amfleet_Coach_purchase_Phase_V;
}

switch(FEAT_TRAINS, SELF, sw_Amfleet_Cafe_purchase, current_year) {
  0..1975:  spriteset_Amfleet_Cafe_purchase_Phase_II;
  1976..1992:  spriteset_Amfleet_Cafe_purchase_Phase_III;
  1993..1999:  spriteset_Amfleet_Cafe_purchase_Phase_IVa;
  spriteset_Amfleet_Cafe_purchase_Phase_V;
}

switch(FEAT_TRAINS, SELF, sw_Amfleet_livery_1_2_names, cargo_subtype) {
  0:  string(STR_Livery_Auto);
  1:  string(STR_Amtrak_Phase_II);
  2:  string(STR_Amtrak_Phase_III);
}
switch(FEAT_TRAINS, SELF, sw_Amfleet_livery_1_2_3_names, cargo_subtype) {
  0:  string(STR_Livery_Auto);
  1:  string(STR_Amtrak_Phase_II);
  2:  string(STR_Amtrak_Phase_III);
  3:  string(STR_Amtrak_Phase_IVa);
}
switch(FEAT_TRAINS, SELF, sw_Amfleet_livery_1_2_3_4_names, cargo_subtype) {
  0:  string(STR_Livery_Auto);
  1:  string(STR_Amtrak_Phase_II);
  2:  string(STR_Amtrak_Phase_III);
  3:  string(STR_Amtrak_Phase_IVa);
  4:  string(STR_Amtrak_Phase_V);
}
switch(FEAT_TRAINS, SELF, sw_Amfleet_livery_names, current_year) {
  0..1975:  string(STR_Livery_Auto);
  1976..1992:  sw_Amfleet_livery_1_2_names;
  1993..1999:  sw_Amfleet_livery_1_2_3_names;
  sw_Amfleet_livery_1_2_3_4_names;
}

switch(FEAT_TRAINS, SELF, sw_Amfleet_Coach_livery_by_year, cargo_subtype) {
  0..1975:  spriteset_Amfleet_Coach_Phase_II;
  1976..1992:  spriteset_Amfleet_Coach_Phase_III;
  1993..1999:  spriteset_Amfleet_Coach_Phase_IVa;
  spriteset_Amfleet_Coach_Phase_V;
}
switch(FEAT_TRAINS, SELF, sw_Amfleet_Coach_livery_1_2, cargo_subtype) {
  0:  sw_Amfleet_Coach_livery_by_year;
  1:  spriteset_Amfleet_Coach_Phase_II;
  2:  spriteset_Amfleet_Coach_Phase_III;
}
switch(FEAT_TRAINS, SELF, sw_Amfleet_Coach_livery_1_2_3, cargo_subtype) {
  0:  sw_Amfleet_Coach_livery_by_year;
  1:  spriteset_Amfleet_Coach_Phase_II;
  2:  spriteset_Amfleet_Coach_Phase_III;
  3:  spriteset_Amfleet_Coach_Phase_IVa;
}
switch(FEAT_TRAINS, SELF, sw_Amfleet_Coach_livery_1_2_3_4, cargo_subtype) {
  0:  sw_Amfleet_Coach_livery_by_year;
  1:  spriteset_Amfleet_Coach_Phase_II;
  2:  spriteset_Amfleet_Coach_Phase_III;
  3:  spriteset_Amfleet_Coach_Phase_IVa;
  4:  spriteset_Amfleet_Coach_Phase_V;
}
switch(FEAT_TRAINS, SELF, sw_Amfleet_Coach_livery, current_year) {
  0..1975:  spriteset_Amfleet_Coach_Phase_II;
  1976..1992:  sw_Amfleet_Coach_livery_1_2;
  1993..1999:  sw_Amfleet_Coach_livery_1_2_3;
  sw_Amfleet_Coach_livery_1_2_3_4;
}

switch(FEAT_TRAINS, SELF, sw_Amfleet_Cafe_livery_by_year, cargo_subtype) {
  0..1975:  spriteset_Amfleet_Cafe_Phase_II;
  1976..1992:  spriteset_Amfleet_Cafe_Phase_III;
  1993..1999:  spriteset_Amfleet_Cafe_Phase_IVa;
  spriteset_Amfleet_Cafe_Phase_V;
}
switch(FEAT_TRAINS, SELF, sw_Amfleet_Cafe_livery_1_2, cargo_subtype) {
  0:  sw_Amfleet_Cafe_livery_by_year;
  1:  spriteset_Amfleet_Cafe_Phase_II;
  2:  spriteset_Amfleet_Cafe_Phase_III;
}
switch(FEAT_TRAINS, SELF, sw_Amfleet_Cafe_livery_1_2_3, cargo_subtype) {
  0:  sw_Amfleet_Cafe_livery_by_year;
  1:  spriteset_Amfleet_Cafe_Phase_II;
  2:  spriteset_Amfleet_Cafe_Phase_III;
  3:  spriteset_Amfleet_Cafe_Phase_IVa;
}
switch(FEAT_TRAINS, SELF, sw_Amfleet_Cafe_livery_1_2_3_4, cargo_subtype) {
  0:  sw_Amfleet_Cafe_livery_by_year;
  1:  spriteset_Amfleet_Cafe_Phase_II;
  2:  spriteset_Amfleet_Cafe_Phase_III;
  3:  spriteset_Amfleet_Cafe_Phase_IVa;
  4:  spriteset_Amfleet_Cafe_Phase_V;
}
switch(FEAT_TRAINS, SELF, sw_Amfleet_Cafe_livery, current_year) {
  0..1975:  spriteset_Amfleet_Cafe_Phase_II;
  1976..1992:  sw_Amfleet_Cafe_livery_1_2;
  1993..1999:  sw_Amfleet_Cafe_livery_1_2_3;
  sw_Amfleet_Cafe_livery_1_2_3_4;
}

switch(FEAT_TRAINS, SELF, sw_Amfleet_Coach_graphics, position_in_vehid_chain % 2) {
  0:  sw_Amfleet_Coach_livery;
  spriteset_obsolete;
}
switch(FEAT_TRAINS, SELF, sw_Amfleet_Coach_articulated, extra_callback_info1) {
  1:  item_Amfleet_Coach;
  CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

switch(FEAT_TRAINS, SELF, sw_Amfleet_Cafe_graphics, position_in_vehid_chain % 2) {
  0:  sw_Amfleet_Cafe_livery;
  spriteset_obsolete;
}
switch(FEAT_TRAINS, SELF, sw_Amfleet_Cafe_articulated, extra_callback_info1) {
  1:  item_Amfleet_Cafe;
  CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

item (FEAT_TRAINS, item_Amfleet_Coach, 700) {
  property {
    name:                         string(STR_Amfleet_Coach_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1975, 1, 6);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 20;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                13;
    cost_factor:                  135;
    running_cost_factor:          1;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        201 km/h;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               84;
    weight:                       49 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 sw_Amfleet_Coach_purchase;
        additional_text:          return string(STR_Amfleet_Coach_Desc);
        length:                   (position_in_vehid_chain % 2) == 0 ? 8 : 1;
        cargo_subtype_text:       sw_Amfleet_livery_names;
        default:                  sw_Amfleet_Coach_graphics;
        articulated_part:         sw_Amfleet_Coach_articulated;
    }
}

item (FEAT_TRAINS, item_Amfleet_Cafe, 701) {
  property {
    name:                         string(STR_Amfleet_Cafe_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1975, 1, 6);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 20;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                13;
    cost_factor:                  134;
    running_cost_factor:          1;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        201 km/h;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               32;
    weight:                       49 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                sw_Amfleet_Cafe_purchase;
        additional_text:         return string(STR_Amfleet_Cafe_Desc);
        length:                  (position_in_vehid_chain % 2) == 0 ? 8 : 1;
        cargo_subtype_text:      sw_Amfleet_livery_names;
        default:                 sw_Amfleet_Cafe_graphics;
        articulated_part:        sw_Amfleet_Cafe_articulated;
    }
}

//--------------------------------------------------------------------------------------------------Horizon
template tmpl_Horizon(x,y) {
  [x,      y,    8,     24,     -3,    -12]
	[x+9,    y,    22,    20,     -14,   -10]
	[x+32,   y,    32,    16,     -16,   -10]
	[x+65,   y,    22,    20,     -8,    -11]
}

spriteset (spriteset_Horizon_Coach,"gfx/USA_Amtrak_Horizon.png") { tmpl_Horizon(4,4) tmpl_Horizon(92,4) }
spriteset (spriteset_Horizon_Coach_purchase,"gfx/USA_Amtrak_Horizon.png") { [4, 35, 87, 12, -15, -9] }

item (FEAT_TRAINS, item_Horizon_Coach, 706) {
  property {
    name:                         string(STR_Horizon_Coach_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1975, 1, 6);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 20;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                13;
    cost_factor:                  121;
    running_cost_factor:          1;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        201 km/h;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               84;
    weight:                       49 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_Horizon_Coach_purchase;
        additional_text:          return string(STR_Horizon_Desc);
        length:                   8;
        default:                  spriteset_Horizon_Coach;
    }
}

//--------------------------------------------------------------------------------------------------EMD E7
spriteset (spriteset_purchase_E7, "gfx/USA_EMD_E7_PRR.png") { [4,  66,  87,  12,  -27,  -8] }

template tmpl_E7_A(x,y) {
  [x,      y,    8,     24,     -3,    -12]
	[x+9,    y,    22,    20,     -14,   -9]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -11]
  [x+88,   y,    8,     24,     -3,    -12]
	[x+97,   y,    22,    20,     -14,   -10]
	[x+120,  y,    32,    16,     -16,   -12]
	[x+153,  y,    22,    20,     -8,    -10]
}
template tmpl_E7_A2(x,y) {
  [x+88,   y,    8,     24,     -3,    -12]
	[x+97,   y,    22,    20,     -14,   -10]
	[x+120,  y,    32,    16,     -16,   -12]
	[x+153,  y,    22,    20,     -8,    -10]
  [x,      y,    8,     24,     -3,    -12]
	[x+9,    y,    22,    20,     -14,   -9]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -11]

}
template tmpl_E7_B(x,y) {
  [x,      y,    8,     24,     -3,    -12]
	[x+9,    y,    22,    20,     -14,   -10]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -11]
  [x+88,   y,    8,     24,     -3,    -12]
	[x+97,   y,    22,    20,     -14,   -10]
	[x+120,  y,    32,    16,     -16,   -12]
	[x+153,  y,    22,    20,     -8,    -11]
}

spriteset (spriteset_E7_A_f_PRR, "gfx/USA_EMD_E7_PRR.png") { tmpl_E7_A(4,4) }
spriteset (spriteset_E7_A_b_PRR, "gfx/USA_EMD_E7_PRR.png") { tmpl_E7_A2(4,4) }
spriteset (spriteset_E7_B_PRR, "gfx/USA_EMD_E7_PRR.png") { tmpl_E7_B(4,35) }

spriteset (spriteset_E7_A_f_NYC_20, "gfx/USA_EMD_E7_NYC.png") { tmpl_E7_A(4,4) }
spriteset (spriteset_E7_A_b_NYC_20, "gfx/USA_EMD_E7_NYC.png") { tmpl_E7_A2(4,4) }
spriteset (spriteset_E7_B_NYC_20, "gfx/USA_EMD_E7_NYC.png") { tmpl_E7_B(4,35) }


switch(FEAT_TRAINS,SELF,sw_E7_graphics_PRR, position_in_vehid_chain % 4) {
  0:  spriteset_E7_A_f_PRR;
  1..2:  spriteset_E7_B_PRR;
  spriteset_E7_A_b_PRR;
}
switch(FEAT_TRAINS,SELF,sw_E7_graphics_NYC, position_in_vehid_chain % 4) {
  0:  spriteset_E7_A_f_NYC_20;
  1..2:  spriteset_E7_B_NYC_20;
  spriteset_E7_A_b_NYC_20;
}
switch(FEAT_TRAINS,SELF,sw_E7_graphics, cargo_subtype) {
  0:  sw_E7_graphics_PRR;
  sw_E7_graphics_NYC;
}
switch(FEAT_TRAINS,SELF,sw_E7_livery, cargo_subtype) {
  0:  return string(STR_Livery_Pennsylvania_Railroad);
  return string(STR_Livery_NYC_20);
}

item (FEAT_TRAINS, item_E7, 210) {
  property {
    name:                         string(STR_E7_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1945, 8, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 36;
    reliability_decay:            15;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                0;
    cost_factor:                  34;
    running_cost_factor:          134;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        137 km/h;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        1500 hp;
    running_cost_base:            RUNNING_COST_DIESEL;
    dual_headed:                  0;
    cargo_capacity:               1;
    weight:                       143 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_DIESEL;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         8 / 137;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DIESEL, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_E7;
        additional_text:          return string(STR_E7_Desc);
        length:                   8;
        default:                  sw_E7_graphics;
        cargo_capacity:           0;
        cargo_subtype_text:       sw_E7_livery;
    }
}

//--------------------------------------------------------------------------------------------------EMD E8
spriteset (spriteset_purchase_E8, "gfx/USA_EMD_E8.png") { [4,  66,  87,  12,  -27,  -8] }

template tmpl_E8_A(x,y) {
  [x,      y,    8,     24,     -3,    -12]
	[x+9,    y,    22,    20,     -14,   -10]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -11]
  [x+88,   y,    8,     24,     -3,    -12]
	[x+97,   y,    22,    20,     -14,   -10]
	[x+120,  y,    32,    16,     -16,   -12]
	[x+153,  y,    22,    20,     -8,    -11]
}
template tmpl_E8_A2(x,y) {
  [x+88,   y,    8,     24,     -3,    -12]
	[x+97,   y,    22,    20,     -14,   -10]
	[x+120,  y,    32,    16,     -16,   -12]
	[x+153,  y,    22,    20,     -8,    -11]
  [x,      y,    8,     24,     -3,    -12]
	[x+9,    y,    22,    20,     -14,   -10]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -11]

}
template tmpl_E8_B(x,y) {
  [x,      y,    8,     24,     -3,    -12]
	[x+9,    y,    22,    20,     -14,   -10]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -11]
  [x+88,   y,    8,     24,     -3,    -12]
	[x+97,   y,    22,    20,     -14,   -10]
	[x+120,  y,    32,    16,     -16,   -12]
	[x+153,  y,    22,    20,     -8,    -11]
}

spriteset (spriteset_E8_A_f, "gfx/USA_EMD_E8.png") { tmpl_E8_A(4,4) }
spriteset (spriteset_E8_A_b, "gfx/USA_EMD_E8.png") { tmpl_E8_A2(4,4) }
spriteset (spriteset_E8_B, "gfx/USA_EMD_E8.png") { tmpl_E8_B(4,35) }

spriteset (spriteset_E8_NYC_A_f, "gfx/USA_EMD_E8_NYC.png") { tmpl_E8_A(4,4) }
spriteset (spriteset_E8_NYC_A_b, "gfx/USA_EMD_E8_NYC.png") { tmpl_E8_A2(4,4) }
spriteset (spriteset_E8_NYC_B, "gfx/USA_EMD_E8_NYC.png") { tmpl_E8_B(4,35) }

switch(FEAT_TRAINS,SELF,sw_E8_graphics_ATSF, position_in_vehid_chain % 4) {
  0:  spriteset_E8_A_f;
  1..2:  spriteset_E8_B;
  spriteset_E8_A_b;
}
switch(FEAT_TRAINS,SELF,sw_E8_graphics_NYC, position_in_vehid_chain % 4) {
  0:  spriteset_E8_NYC_A_f;
  1..2:  spriteset_E8_NYC_B;
  spriteset_E8_NYC_A_b;
}
switch(FEAT_TRAINS,SELF,sw_E8_graphics, cargo_subtype) {
  0:  sw_E8_graphics_ATSF;
  sw_E8_graphics_NYC;
}
switch(FEAT_TRAINS,SELF,sw_E8_livery_name, cargo_subtype) {
  0:  return string(STR_Livery_ATSF_Super_Chief);
  return string(STR_Livery_NYC_20);
}

item (FEAT_TRAINS, item_E8, 211) {
  property {
    name:                         string(STR_E8_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1949, 8, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 35;
    reliability_decay:            14;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                0;
    cost_factor:                  34;
    running_cost_factor:          134;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        117 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        2250 hp;
    running_cost_base:            RUNNING_COST_DIESEL;
    dual_headed:                  0;
    cargo_capacity:               1;
    weight:                       143 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_DIESEL;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DIESEL, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_E8;
        additional_text:          return string(STR_E8_Desc);
        length:                   8;
        cargo_capacity:           0;
        cargo_subtype_text:       sw_E8_livery_name;
        default:                  sw_E8_graphics;
    }
}

//--------------------------------------------------------------------------------------------------EMD E9
spriteset (spriteset_purchase_E9, "gfx/USA_EMD_E9.png") { [4,  66,  87,  12,  -15,  -8] }

template tmpl_E9_A(x,y) {
  [x,      y,    8,     24,     -3,    -12]
	[x+9,    y,    22,    20,     -14,   -10]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -11]
  [x+88,   y,    8,     24,     -3,    -12]
	[x+97,   y,    22,    20,     -14,   -10]
	[x+120,  y,    32,    16,     -16,   -12]
	[x+153,  y,    22,    20,     -8,    -11]
}

spriteset (spriteset_E9A, "gfx/USA_EMD_E9.png") { tmpl_E9_A(4,4) }

item (FEAT_TRAINS, item_E9, 212) {
  property {
    name:                         string(STR_E9_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1954, 8, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 36;
    reliability_decay:            16;
    refittable_cargo_classes:     bitmask();
    non_refittable_cargo_classes: bitmask();
    loading_speed:                0;
    cost_factor:                  41;
    running_cost_factor:          141;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        188 km/h;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        1790 kW;
    running_cost_base:            RUNNING_COST_DIESEL;
    dual_headed:                  0;
    cargo_capacity:               0;
    weight:                       143 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_DIESEL;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DIESEL, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_E9;
        additional_text:          return string(STR_E9_Desc);
        length:                   8;
        default:                  spriteset_E9A;
    }
}

//--------------------------------------------------------------------------------------------------Budd RDC
template tmpl_RDC(x,y) {
  [x,      y,    8,     24,     -3,    -10]
	[x+9,    y,    22,    20,     -14,   -11]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -11]
}

spriteset (spriteset_RDC, "gfx/USA_Budd_RDC.png")   { tmpl_RDC(4,4) tmpl_RDC(92,4) }
spriteset (spriteset_purchase_RDC, "gfx/USA_Budd_RDC.png") { [4,  35,  87,  13,  -15,  -9] }

item (FEAT_TRAINS, item_RDC, 205) {
  property {
    name:                         string(STR_RDC_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1978, 1, 6);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 30;
    reliability_decay:            14;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                10;
    cost_factor:                  36;
    running_cost_factor:          136;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        137 km/h;
    misc_flags:                   bitmask(TRAIN_FLAG_MU);
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        410 kW;
    running_cost_base:            RUNNING_COST_ELECTRIC;
    dual_headed:                  0;
    cargo_capacity:               109;
    weight:                       51 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_DIESEL;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DIESEL, -1, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_RDC;
        additional_text:          return string(STR_RDC_Desc);
        length:                   8;
        default:                  spriteset_RDC;
    }
}

//--------------------------------------------------------------------------------------------------Silverliner II
spriteset (spriteset_purchase_Silverliner_II, "gfx/USA_SEPT_Silverliner_II.png") { [4,  66,  87,  15,  -15,  -11] }
template tmpl_Silverliner_II(x,y) {
  [x,      y,    8,     24,     -3,    -11]
	[x+9,    y,    22,    20,     -14,   -10]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -11]
}
spriteset (spriteset_Silverliner_II_front, "gfx/USA_SEPT_Silverliner_II.png") { tmpl_Silverliner_II(4,4) tmpl_Silverliner_II(92,4) }
spriteset (spriteset_Silverliner_II_middle, "gfx/USA_SEPT_Silverliner_II.png") { tmpl_Silverliner_II(4,35) tmpl_Silverliner_II(92,35) }

switch(FEAT_TRAINS, SELF, sw_Silverliner_II_graphics, position_in_consist) {
  0:  spriteset_Silverliner_II_front;
  spriteset_Silverliner_II_middle;
}

item (FEAT_TRAINS, item_Silverliner_II, 317) {
  property {
    name:                         string(STR_Silverliner_II_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1963, 1, 16);
    model_life:                   49;
    vehicle_life:                 34;
    reliability_decay:            15;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                7;
    cost_factor:                  40;
    running_cost_factor:          140;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        145 km/h;
    misc_flags:                   bitmask(TRAIN_FLAG_MU);
    refit_cost:                   0;
    track_type:                   ELRL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        410 kW;
    running_cost_base:            RUNNING_COST_ELECTRIC;
    dual_headed:                  0;
    cargo_capacity:               126;
    weight:                       46 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_ELECTRIC;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 2, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_Silverliner_II;
        additional_text:          return string(STR_Silverliner_II_Desc);
        length:                   8;
        default:                  sw_Silverliner_II_graphics;
    }
}

//--------------------------------------------------------------------------------------------------Metro-North M2
spriteset (spriteset_purchase_MN_M2, "gfx/USA_Metro_North_M2.png") { [] [] [4,  97,  87,  15,  -42,  -11] [] [] [] [4,  4,  1,  1,  0,  0] [] }
template tmpl_MN_M2(x,y) {
  [x,      y,    8,     24,     -3,    -11]
	[x+9,    y,    22,    20,     -14,   -10]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -11]
}
spriteset (spriteset_MN_M2_f, "gfx/USA_Metro_North_M2.png") { tmpl_MN_M2(4,4)  tmpl_MN_M2(92,4) }
spriteset (spriteset_MN_M2_f_no_l, "gfx/USA_Metro_North_M2.png") { tmpl_MN_M2(4,35)  tmpl_MN_M2(92,35) }
spriteset (spriteset_MN_M2_b, "gfx/USA_Metro_North_M2.png") { tmpl_MN_M2(4,66) tmpl_MN_M2(92,66) }

switch(FEAT_TRAINS,PARENT,sw_MN_M2_can_attach_wagon, vehicle_type_id) {
  item_MN_M2:  CB_RESULT_ATTACH_ALLOW;
  return string(STR_Attach_Wagon_Disallow);
}
switch(FEAT_TRAINS,SELF,sw_MN_M2_grapfics2, position_in_consist % 2) {
  1:  spriteset_MN_M2_b;
  spriteset_MN_M2_f_no_l;
}
switch(FEAT_TRAINS,SELF,sw_MN_M2_grapfics, position_in_consist) {
  0:  spriteset_MN_M2_f;
  sw_MN_M2_grapfics2;
}

item (FEAT_TRAINS, item_MN_M2, 308) {
  property {
    name:                         string(STR_MN_M2_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1973, 4, 1);
    model_life:                   43;
    vehicle_life:                 30;
    reliability_decay:            16;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                16;
    cost_factor:                  43;
    running_cost_factor:          43;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        130 km/h;
    misc_flags:                   bitmask(TRAIN_FLAG_MU);
    refit_cost:                   0;
    track_type:                   ELRL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        1932 kW;
    running_cost_base:            RUNNING_COST_ELECTRIC;
    dual_headed:                  1;
    cargo_capacity:               134;
    weight:                       61 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_ELECTRIC;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 3, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_MN_M2;
        additional_text:          return string(STR_MN_M2_Desc);
        length:                   8;
        can_attach_wagon:         sw_MN_M2_can_attach_wagon;
        default:                  sw_MN_M2_grapfics;
    }
}

//--------------------------------------------------------------------------------------------------Canada MR-90
spriteset (spriteset_purchase_MR90, "gfx/Canada_MR-90.png") { [] [] [4,  97,  87,  15,  -42,  -11] [] [] [] [4,  4,  1,  1,  0,  0] [] }
spriteset (spriteset_purchase_MR90_trailer, "gfx/Canada_MR-90.png") { [92,  97,  87,  15,  -16,  -11] }
template tmpl_MR90(x,y) {
  [x,      y,    8,     24,     -3,    -11]
	[x+9,    y,    22,    20,     -14,   -10]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -11]
}
spriteset (spriteset_MR90_f, "gfx/Canada_MR-90.png") { tmpl_MR90(4,4)  tmpl_MR90(92,4) }
spriteset (spriteset_MR90_b, "gfx/Canada_MR-90.png") { tmpl_MR90(4,35) tmpl_MR90(92,35) }
spriteset (spriteset_MR90_t, "gfx/Canada_MR-90.png") { tmpl_MR90(4,66) tmpl_MR90(92,66) }

switch(FEAT_TRAINS, PARENT, sw_MR90_can_attach_wagon2, vehicle_type_id) {
  item_MR90:  CB_RESULT_ATTACH_ALLOW;
  item_MR90_trailer:  CB_RESULT_ATTACH_ALLOW;
  return string(STR_Attach_Wagon_Disallow);
}
switch(FEAT_TRAINS, SELF, sw_MR90_can_attach_wagon, num_vehs_in_consist) {
  1..10:  sw_MR90_can_attach_wagon2;
  return string(STR_Attach_Wagon_Disallow);
}
switch(FEAT_TRAINS,SELF,sw_MR90_grapfics, position_in_consist) {
  0:  spriteset_MR90_f;
  spriteset_MR90_b;
}

item (FEAT_TRAINS, item_MR90, 321) {
  property {
    name:                         string(STR_MR90_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1995, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 34;
    reliability_decay:            10;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                16;
    cost_factor:                  46;
    running_cost_factor:          146;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        130 km/h;
    misc_flags:                   bitmask(TRAIN_FLAG_MU);
    refit_cost:                   0;
    track_type:                   ELRL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        1932 kW;
    running_cost_base:            RUNNING_COST_ELECTRIC;
    dual_headed:                  1;
    cargo_capacity:               88;
    weight:                       61 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_ELECTRIC;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 3, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_MR90;
        additional_text:          return string(STR_MR90_Desc);
        length:                   8;
        cargo_capacity:           ( position_in_vehid_chain % 2 == 0) ? 88 : 80;
        can_attach_wagon:         sw_MR90_can_attach_wagon;
        default:                  sw_MR90_grapfics;
    }
}

item (FEAT_TRAINS, item_MR90_trailer) {
  property {
    name:                         string(STR_MR90_Trailer_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1995, 1, 1);
    model_life:                   43;
    vehicle_life:                 30;
    reliability_decay:            16;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                16;
    cost_factor:                  146;
    running_cost_factor:          7;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        130 km/h;
    misc_flags:                   bitmask(TRAIN_FLAG_MU);
    refit_cost:                   0;
    track_type:                   ELRL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    running_cost_base:            RUNNING_COST_ELECTRIC;
    dual_headed:                  0;
    cargo_capacity:               88;
    weight:                       61 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_ELECTRIC;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 3, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_MR90_trailer;
        additional_text:          return string(STR_MR90_Trailer_Desc);
        length:                   8;
        can_attach_wagon:         sw_MR90_can_attach_wagon;
        default:                  spriteset_MR90_t;
    }
}

//--------------------------------------------------------------------------------------------------Superliner I

template tmpl_Superliner_I(x,y) {
  [x,      y,    8,     24,     -3,    -12]
	[x+9,    y,    22,    20,     -14,   -11]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -12]
}

spriteset (spriteset_Superliner_I_Coach,"gfx/USA_Amtrak_Superliner_I.png")   { tmpl_Superliner_I(4,4)  tmpl_Superliner_I(92,4) }
spriteset (spriteset_Superliner_I_Dining,"gfx/USA_Amtrak_Superliner_I.png")  { tmpl_Superliner_I(4,35) tmpl_Superliner_I(92,35) }
spriteset (spriteset_Superliner_I_Sleeper,"gfx/USA_Amtrak_Superliner_I.png") { tmpl_Superliner_I(4,66) tmpl_Superliner_I(92,66) }
spriteset (spriteset_Superliner_I_Lounge,"gfx/USA_Amtrak_Superliner_I.png")  { tmpl_Superliner_I(4,97) tmpl_Superliner_I(92,97) }

spriteset (spriteset_Superliner_I_Coach_purchase,"gfx/USA_Amtrak_Superliner_I.png")   { [36,   4,    32,    16,   -15,   -12] }
spriteset (spriteset_Superliner_I_Dining_purchase,"gfx/USA_Amtrak_Superliner_I.png")  { [36,   35,   32,    16,   -15,   -12] }
spriteset (spriteset_Superliner_I_Sleeper_purchase,"gfx/USA_Amtrak_Superliner_I.png") { [36,   66,   32,    16,   -15,   -12] }
spriteset (spriteset_Superliner_I_Lounge_purchase,"gfx/USA_Amtrak_Superliner_I.png")  { [36,   97,   32,    16,   -15,   -12] }

item (FEAT_TRAINS, item_Superliner_I_Coach, 708) {
  property {
    name:                         string(STR_Superliner_I_Coach_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1975, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 2;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                10;
    cost_factor:                  135;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        160 km/h;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               77;
    weight:                       69 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_Superliner_I_Coach_purchase;
        additional_text:          return string(STR_Superliner_Desc);
        length:                   8;
        default:                  spriteset_Superliner_I_Coach;
    }
}

item (FEAT_TRAINS, item_Superliner_I_Dining, 709) {
  property {
    name:                         string(STR_Superliner_I_Dining_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1975, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 2;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                10;
    cost_factor:                  137;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        160 km/h;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               72;
    weight:                       72 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_Superliner_I_Dining_purchase;
        additional_text:          return string(STR_Superliner_Desc);
        length:                   8;
        default:                  spriteset_Superliner_I_Dining;
    }
}

item (FEAT_TRAINS, item_Superliner_I_Sleeper, 710) {
  property {
    name:                         string(STR_Superliner_I_Sleeper_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1975, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 2;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                10;
    cost_factor:                  136;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        160 km/h;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               44;
    weight:                       73 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_Superliner_I_Sleeper_purchase;
        additional_text:          return string(STR_Superliner_Desc);
        length:                   8;
        default:                  spriteset_Superliner_I_Sleeper;
    }
}

item (FEAT_TRAINS, item_Superliner_I_Lounge, 711) {
  property {
    name:                         string(STR_Superliner_I_Lounge_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1975, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 2;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                10;
    cost_factor:                  138;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        160 km/h;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               73;
    weight:                       69 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_Superliner_I_Lounge_purchase;
        additional_text:          return string(STR_Superliner_Desc);
        length:                   8;
        default:                  spriteset_Superliner_I_Lounge;
    }
}

//--------------------------------------------------------------------------------------------------F59PHI---California Car
spriteset (spriteset_purchase_F59PHI, "gfx/USA_EMD_F59PHI.png") { [4,  66,  87,  14,  -15,  -10] }
spriteset (spriteset_purchase_California_Car,"gfx/USA_Amtrak_California_Car.png") { [4,  97,  87,  14,  -15,  -10] }

template tmpl_F59PHI(x,y) {
  [x,      y,    8,     24,     -3,    -10]
	[x+9,    y,    22,    20,     -14,   -10]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -12]
  [x+88,   y,    8,     24,     -3,    -10]
	[x+97,   y,    22,    20,     -14,   -11]
	[x+120,  y,    32,    16,     -16,   -12]
	[x+153,  y,    22,    20,     -8,    -11]
}
template tmpl_F59PHI2(x,y) {
  [x+88,   y,    8,     24,     -3,    -10]
	[x+97,   y,    22,    20,     -14,   -11]
	[x+120,  y,    32,    16,     -16,   -12]
	[x+153,  y,    22,    20,     -8,    -11]
  [x,      y,    8,     24,     -3,    -10]
	[x+9,    y,    22,    20,     -14,   -10]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -12]
}

spriteset (spriteset_F59PHI_f, "gfx/USA_EMD_F59PHI.png") { tmpl_F59PHI(4,4) }
spriteset (spriteset_F59PHI_b, "gfx/USA_EMD_F59PHI.png") { tmpl_F59PHI2(4,35) }

spriteset (spriteset_California_Cab_f,"gfx/USA_Amtrak_California_Car.png") { tmpl_Superliner_I(4,4)   tmpl_Superliner_I(92,4) }
spriteset (spriteset_California_Cab_b,"gfx/USA_Amtrak_California_Car.png") { tmpl_Superliner_I(92,35) tmpl_Superliner_I(4,35) }  //Use same tmpl as Superliner
spriteset (spriteset_California_Car,"gfx/USA_Amtrak_California_Car.png")   { tmpl_Superliner_I(4,66) tmpl_Superliner_I(92,66) }

spriteset (spriteset_Surfliner_Cab_f,"gfx/USA_Amtrak_Surfliner_Car.png") { tmpl_Superliner_I(4,4)   tmpl_Superliner_I(92,4) }
spriteset (spriteset_Surfliner_Cab_b,"gfx/USA_Amtrak_Surfliner_Car.png") { tmpl_Superliner_I(92,35) tmpl_Superliner_I(4,35) }  //Use same tmpl as Superliner
spriteset (spriteset_Surfliner_Car,"gfx/USA_Amtrak_Surfliner_Car.png")   { tmpl_Superliner_I(4,66) tmpl_Superliner_I(92,66) }

//---------------------------------------------------------------------------------P32AC-DM graphics
switch(FEAT_TRAINS,SELF,sw_F59PHI_grapfics3, position_in_consist % 2) {
  0:  spriteset_F59PHI_f;
  spriteset_F59PHI_b;
}
switch(FEAT_TRAINS,SELF,sw_F59PHI_grapfics2, position_in_consist_from_end) {
  0:  spriteset_F59PHI_b;
  sw_F59PHI_grapfics3;
}
switch(FEAT_TRAINS,SELF,sw_F59PHI_graphics, position_in_consist) {
  0:  spriteset_F59PHI_f;
  sw_F59PHI_grapfics2;
}

switch(FEAT_TRAINS,SELF,sw_F59PHI_graphics_California_Cab, vehicle_is_reversed) {
  0:  sw_F59PHI_graphics;
  spriteset_California_Cab_f;
}

switch(FEAT_TRAINS,SELF,sw_F59PHI_graphics_detect,count_veh_id(607)) {
  0:  sw_F59PHI_graphics;
  sw_F59PHI_graphics_California_Cab;
}

switch (FEAT_TRAINS, SELF, sw_California_Cab_graphics, position_in_consist) {
  0:  spriteset_California_Cab_f;
  spriteset_California_Cab_b;
}
switch(FEAT_TRAINS, PARENT, sw_push_pull_California_Cab_F59PHI, vehicle_is_reversed) {
  0:  sw_California_Cab_graphics;
  sw_F59PHI_graphics;
}

switch(FEAT_TRAINS, PARENT, sw_push_pull_California_Cab, vehicle_type_id) {
  item_F59PHI:  sw_push_pull_California_Cab_F59PHI;
  sw_California_Cab_graphics;
}


item (FEAT_TRAINS, item_California_Cab, 607) {
  property {
    name:                         string(STR_California_Cab_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1996, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 28;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                10;
    cost_factor:                  25;
    running_cost_factor:          25;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        201 km/h;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        1;
    cargo_capacity:               90;
    weight:                       74 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         8/201;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_California_Car;
        additional_text:          return string(STR_California_Cab_Desc);
        length:                   8;
        sound_effect:             CB_RESULT_NO_SOUND;
        default:                  sw_push_pull_California_Cab;
    }
}

item (FEAT_TRAINS, item_California_Car) {
  property {
    name:                         string(STR_California_Car_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1996, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 28;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                10;
    cost_factor:                  125;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        201 km/h;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               90;
    weight:                       74 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_California_Car;
        additional_text:          return string(STR_California_Car_Name);
        length:                   8;
        default:                  spriteset_California_Car;
    }
}

switch(FEAT_TRAINS,SELF,sw_F59PHI_visual_effect_and_powered,vehicle_is_reversed) {
  0:  visual_effect_and_powered(VISUAL_EFFECT_DIESEL, 0, DISABLE_WAGON_POWER);
  visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
}

item (FEAT_TRAINS, item_F59PHI, 405) {
  property {
    name:                         string(STR_F59PHI_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1994, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 34;
    reliability_decay:            11;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                1;
    cost_factor:                  53;
    running_cost_factor:          153;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        177 km/h;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        2300 kW;
    running_cost_base:            RUNNING_COST_ELECTRIC;
    dual_headed:                  0;
    cargo_capacity:               1;
    weight:                       120 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_DIESEL;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         8/177;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DIESEL, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_F59PHI;
        additional_text:          return string(STR_F59PHI_Desc);
        length:                   8;
        visual_effect_and_powered:sw_F59PHI_visual_effect_and_powered;
        default:                  sw_F59PHI_graphics_detect;
    }
}

//------------------------------------------------------------------------------------------------------------------------------------------RTG Turboliner
spriteset(spriteset_purchase_Turboliner, "gfx/USA_RTG_Turboliner.png") { [4, 97, 87, 13, -27, -9] }

template tmpl_Turboliner(x,y) {
  [x,       y,     8,      24,     -3,      -12]
	[x+9,     y,     22,     20,     -14,     -10]
	[x+32,    y,     32,     16,     -16,     -12]
	[x+65,    y,     22,     20,     -8,      -11]
}

spriteset (spriteset_Turboliner_f, "gfx/USA_RTG_Turboliner.png") { tmpl_Turboliner(4,4) tmpl_Turboliner(92,4) }
spriteset (spriteset_Turboliner_b, "gfx/USA_RTG_Turboliner.png") { tmpl_Turboliner(92,35) tmpl_Turboliner(4,35) }
spriteset (spriteset_Turboliner_w, "gfx/USA_RTG_Turboliner.png") { tmpl_Turboliner(4,66) }

switch(FEAT_TRAINS, SELF, sw_Turboliner_articulated_part, extra_callback_info1) {
  1..4:  return item_Turboliner_secret;
  return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}
switch(FEAT_TRAINS, SELF, sw_Turboliner_graphics, position_in_articulated_veh % 5) {
  0:  spriteset_Turboliner_f;
  1..3:  spriteset_Turboliner_w;
  spriteset_Turboliner_b;
}

item (FEAT_TRAINS, item_Turboliner, 500) {
  property {
    name:                         string(STR_Turboliner_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1973, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 28;
    reliability_decay:            13;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                17;
    cost_factor:                  43;
    running_cost_factor:          143;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        201 km/h;
    misc_flags:                   bitmask(TRAIN_FLAG_MU);
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        1700 kW;
    running_cost_base:            RUNNING_COST_DIESEL;
    dual_headed:                  0;
    cargo_capacity:               56;
    weight:                       225 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_DIESEL;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_Turboliner;
        additional_text:          return string(STR_Turboliner_Desc);
        articulated_part:         sw_Turboliner_articulated_part;
        length:                   8;
        default:                  sw_Turboliner_graphics;
    }
}
item (FEAT_TRAINS, item_Turboliner_secret, 1500) {
  property {
    name:                         string(STR_Turboliner_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(5000000, 1, 1);
    model_life:                   1;
    vehicle_life:                 28;
    reliability_decay:            13;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                17;
    cost_factor:                  43;
    running_cost_factor:          143;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        201 km/h;
    misc_flags:                   bitmask(TRAIN_FLAG_MU);
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        1700 kW;
    running_cost_base:            RUNNING_COST_DIESEL;
    dual_headed:                  0;
    cargo_capacity:               60;
    weight:                       225 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_DIESEL;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_Turboliner;
        additional_text:          return string(STR_Turboliner_Desc);
        length:                   8;
        default:                  sw_Turboliner_graphics;
    }
}

//--------------------------------------------------------------------------------------------------ALCO PA
spriteset (spriteset_purchase_ALCO_PA, "gfx/USA_ALCO_PA.png") { [4,  66,  87,  12,  -27,  -8] }

template tmpl_PA(x,y) {
  [x,      y,    8,     24,     -3,    -12]
	[x+9,    y,    22,    20,     -14,   -10]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -11]
  [x+88,   y,    8,     24,     -3,    -12]
	[x+97,   y,    22,    20,     -14,   -10]
	[x+120,  y,    32,    16,     -16,   -12]
	[x+153,  y,    22,    20,     -8,    -11]
}
template tmpl_PA2(x,y) {
  [x+88,   y,    8,     24,     -3,    -12]
	[x+97,   y,    22,    20,     -14,   -10]
	[x+120,  y,    32,    16,     -16,   -12]
	[x+153,  y,    22,    20,     -8,    -11]
  [x,      y,    8,     24,     -3,    -12]
	[x+9,    y,    22,    20,     -14,   -10]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -11]

}
template tmpl_PB(x,y) {
  [x,      y,    8,     24,     -3,    -12]
	[x+9,    y,    22,    20,     -14,   -10]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -11]
  [x+88,   y,    8,     24,     -3,    -12]
	[x+97,   y,    22,    20,     -14,   -10]
	[x+120,  y,    32,    16,     -16,   -12]
	[x+153,  y,    22,    20,     -8,    -11]
}

spriteset (spriteset_ALCO_PA_f_ATSF_Red, "gfx/USA_ALCO_PA.png") { tmpl_PA(4,4) }
spriteset (spriteset_ALCO_PA_b_ATSF_Red, "gfx/USA_ALCO_PA.png") { tmpl_PA2(4,4) }
spriteset (spriteset_ALCO_PB_ATSF_Red, "gfx/USA_ALCO_PA.png") { tmpl_PB(4,35) }

spriteset (spriteset_ALCO_PA_f_ATSF_Blue, "gfx/USA_ALCO_PA.png") { tmpl_PA(4,85) }
spriteset (spriteset_ALCO_PA_b_ATSF_Blue, "gfx/USA_ALCO_PA.png") { tmpl_PA2(4,85) }
spriteset (spriteset_ALCO_PB_ATSF_Blue, "gfx/USA_ALCO_PA.png") { tmpl_PB(4,116) }

switch(FEAT_TRAINS,SELF,sw_ALCO_PA_f, cargo_subtype) {
  0:  spriteset_ALCO_PA_f_ATSF_Red;
  spriteset_ALCO_PA_f_ATSF_Blue;
}
switch(FEAT_TRAINS,SELF,sw_ALCO_PA_b, cargo_subtype) {
  0:  spriteset_ALCO_PA_b_ATSF_Red;
  spriteset_ALCO_PA_b_ATSF_Blue;
}
switch(FEAT_TRAINS,SELF,sw_ALCO_PB, cargo_subtype) {
  0:  spriteset_ALCO_PB_ATSF_Red;
  spriteset_ALCO_PB_ATSF_Blue;
}
switch(FEAT_TRAINS,SELF,sw_ALCO_PA_graphics2, position_in_consist_from_end) {
  0:  sw_ALCO_PA_b;
  sw_ALCO_PB;
}
switch(FEAT_TRAINS,SELF,sw_ALCO_PA_graphics, position_in_consist) {
  0:  sw_ALCO_PA_f;
  sw_ALCO_PA_graphics2;
}
switch(FEAT_TRAINS,SELF,sw_ALCO_PA_livery, cargo_subtype) {
  0:  return string(STR_Livery_ATSF_Red_Warbonnet);
  return string(STR_Livery_ATSF_Blue_Warbonnet);
}

item (FEAT_TRAINS, item_ALCO_PA, 202) {
  property {
    name:                         string(STR_ALCO_PA_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1946, 6, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 33;
    reliability_decay:            16;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                1;
    cost_factor:                  29;
    running_cost_factor:          129;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        188 km/h;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        1490 kW;
    running_cost_base:            RUNNING_COST_DIESEL;
    dual_headed:                  0;
    cargo_capacity:               1;
    weight:                       139 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_DIESEL;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         8/188;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DIESEL, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_ALCO_PA;
        additional_text:          return string(STR_ALCO_PA_Desc);
        length:                   8;
        cargo_subtype_text:       sw_ALCO_PA_livery;
        default:                  sw_ALCO_PA_graphics;
    }
}

//--------------------------------------------------------------------------------------------------Metro-North M7A
spriteset (spriteset_purchase_MN_M7, "gfx/USA_Metro_North_M7A.png") { [4,  97,  87,  12,  -27,  -8] }
template tmpl_MN_M7(x,y) {
  [x,      y,    8,     24,     -3,    -11]
	[x+9,    y,    22,    20,     -14,   -10]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -10]
}
spriteset (spriteset_MN_M7_front, "gfx/USA_Metro_North_M7A.png") { tmpl_MN_M7(4,4)  tmpl_MN_M7(92,4) }
spriteset (spriteset_MN_M7_front_in, "gfx/USA_Metro_North_M7A.png") { tmpl_MN_M7(4,35) tmpl_MN_M7(92,35) }
spriteset (spriteset_MN_M7_rear, "gfx/USA_Metro_North_M7A.png") { tmpl_MN_M7(92,35) tmpl_MN_M7(4,35) }
spriteset (spriteset_MN_M7_back, "gfx/USA_Metro_North_M7A.png") { tmpl_MN_M7(92,66) tmpl_MN_M7(4,66) }

switch(FEAT_TRAINS, SELF, sw_MN_M7_articulated_part, extra_callback_info1) {
  1:  item_MN_M7;
  return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}
switch(FEAT_TRAINS,SELF,sw_MN_M7_graphics3, position_in_consist % 2) {
  0:  spriteset_MN_M7_front_in;
  spriteset_MN_M7_rear;
}
switch(FEAT_TRAINS,SELF,sw_MN_M7_grapfics2, position_in_consist) {
  0:  spriteset_MN_M7_front;
  sw_MN_M7_graphics3;
}
switch(FEAT_TRAINS,SELF,sw_MN_M7_grapfics, position_in_consist_from_end) {
  0:  spriteset_MN_M7_back;
  sw_MN_M7_grapfics2;
}

item (FEAT_TRAINS, item_MN_M7, 309) {
  property {
    name:                         string(STR_MN_M7_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(2003, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 35;
    reliability_decay:            12;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                25;
    cost_factor:                  58;
    running_cost_factor:          158;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        161 km/h;
    misc_flags:                   bitmask(TRAIN_FLAG_MU);
    refit_cost:                   0;
    track_type:                   SAAZ;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        1600 kW;
    running_cost_base:            RUNNING_COST_ELECTRIC;
    dual_headed:                  0;
    cargo_capacity:               106;
    weight:                       63 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_ELECTRIC;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 3, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_MN_M7;
        additional_text:          return string(STR_MN_M7_Desc);
        length:                   8;
        articulated_part:         sw_MN_M7_articulated_part;
        default:                  sw_MN_M7_grapfics;
    }
}

//--------------------------------------------------------------------------------------------------Metro-North M8
spriteset (spriteset_purchase_MN_M8, "gfx/USA_Metro_North_M8.png") { [4,  128,  87,  15,  -27,  -11] }
template tmpl_MN_M8(x,y) {
  [x,      y,    8,     24,     -3,    -11]
	[x+9,    y,    22,    20,     -14,   -11]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -12]
}
spriteset (spriteset_MN_M8_front, "gfx/USA_Metro_North_M8.png") { tmpl_MN_M8(4,4)  tmpl_MN_M8(92,4) }
spriteset (spriteset_MN_M8_front_p, "gfx/USA_Metro_North_M8.png") { tmpl_MN_M8(4,35) tmpl_MN_M8(92,35) }
spriteset (spriteset_MN_M8_rear, "gfx/USA_Metro_North_M8.png") { tmpl_MN_M8(92,66) tmpl_MN_M8(4,66)  }
spriteset (spriteset_MN_M8_back, "gfx/USA_Metro_North_M8.png") { tmpl_MN_M8(92,97) tmpl_MN_M8(4,97)  }

switch(FEAT_TRAINS, SELF, sw_MN_M8_articulated_part, extra_callback_info1) {
  1:  item_MN_M8;
  return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}
switch(FEAT_TRAINS,SELF,sw_MN_M8_graphics3, position_in_consist % 2) {
  0:  spriteset_MN_M8_front_p;
  spriteset_MN_M8_rear;
}
switch(FEAT_TRAINS,SELF,sw_MN_M8_grapfics2, position_in_consist) {
  0:  spriteset_MN_M8_front;
  sw_MN_M8_graphics3;
}
switch(FEAT_TRAINS,SELF,sw_MN_M8_grapfics, position_in_consist_from_end) {
  0:  spriteset_MN_M8_back;
  sw_MN_M8_grapfics2;
}

item (FEAT_TRAINS, item_MN_M8, 310) {
  property {
    name:                         string(STR_MN_M8_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(2011, 4, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 40;
    reliability_decay:            10;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                24;
    cost_factor:                  67;
    running_cost_factor:          167;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        161 km/h;
    misc_flags:                   bitmask(TRAIN_FLAG_MU);
    refit_cost:                   0;
    track_type:                   SAAZ;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        1600 kW;
    running_cost_base:            RUNNING_COST_ELECTRIC;
    dual_headed:                  0;
    cargo_capacity:               106;
    weight:                       65 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_ELECTRIC;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 3, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_MN_M8;
        additional_text:          return string(STR_MN_M8_Desc);
        length:                   8;
        articulated_part:         sw_MN_M8_articulated_part;
        default:                  sw_MN_M8_grapfics;
    }
}

//--------------------------------------------------------------------------------------------------Alstom HHP-8
spriteset (spriteset_purchase_HHP8, "gfx/USA_Alstom_HHP_8.png") { [4, 66, 86, 16, -15, -12] }

template tmpl_HHP8(x,y) {
  [x,      y,    8,     24,     -3,    -12]
	[x+9,    y,    22,    20,     -14,   -10]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -11]
}

spriteset (spriteset_HHP8_f, "gfx/USA_Alstom_HHP_8.png")  { tmpl_HHP8(4,4)  tmpl_HHP8(92,4)  }
spriteset (spriteset_HHP8_b, "gfx/USA_Alstom_HHP_8.png")  { tmpl_HHP8(4,35) tmpl_HHP8(92,35) }

switch(FEAT_TRAINS, SELF, sw_HHP8_graphics, position_in_consist) {
  0:  spriteset_HHP8_f;
  spriteset_HHP8_b;
}

item (FEAT_TRAINS, item_HHP8, 403) {
  property {
    name:                         string(STR_HHP8_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1996, 1, 5);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 38;
    reliability_decay:            12;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                20;
    cost_factor:                  42;
    running_cost_factor:          142;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        135 mph;
    misc_flags:                   bitmask(TRAIN_FLAG_MU);
    refit_cost:                   0;
    track_type:                   ELRL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        6000 kW;
    running_cost_base:            RUNNING_COST_ELECTRIC;
    dual_headed:                  0;
    cargo_capacity:               0;
    weight:                       101 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_ELECTRIC;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  283/(9.81*101);
    air_drag_coefficient:         8/217;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_HHP8;
        additional_text:          return string(STR_HHP8_Desc);
        length:                   8;
        default:                  sw_HHP8_graphics;
    }
}

//--------------------------------------------------------------------------------------------------Acela Express
spriteset (spriteset_purchase_Acela_express, "gfx/USA_Amtrak_Acela_Express.png") { [4, 97, 87, 16, -27, -12] }

template tmpl_Acela(x,y) {
  [x,      y,    8,     24,     -3,    -12]
	[x+9,    y,    22,    20,     -14,   -11]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -12]
}

spriteset (spriteset_Acela_Power_f, "gfx/USA_Amtrak_Acela_Express.png") { tmpl_Acela(4,4)  tmpl_Acela(92,4)  }
spriteset (spriteset_Acela_Power_b, "gfx/USA_Amtrak_Acela_Express.png") { tmpl_Acela(92,4) tmpl_Acela(4,4)   }
spriteset (spriteset_Acela_Wagon_b, "gfx/USA_Amtrak_Acela_Express.png") { tmpl_Acela(4,35) tmpl_Acela(92,35) }
spriteset (spriteset_Acela_Wagon_c, "gfx/USA_Amtrak_Acela_Express.png") { tmpl_Acela(4,66) tmpl_Acela(92,66) }

switch(FEAT_TRAINS, SELF, sw_Acela_articulated_part, extra_callback_info1) {
  1..7:  item_Acela_express;
  return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}
switch(FEAT_TRAINS, SELF, sw_Acela_graphics_3, position_in_vehid_chain) {
  3:  spriteset_Acela_Wagon_c;
  spriteset_Acela_Wagon_b;
}
switch(FEAT_TRAINS, SELF, sw_Acela_graphics_2, position_in_vehid_chain_from_end) {
  0:  spriteset_Acela_Power_b;
  sw_Acela_graphics_3;
}
switch(FEAT_TRAINS, SELF, sw_Acela_graphics, position_in_vehid_chain) {
  0:  spriteset_Acela_Power_f;
  sw_Acela_graphics_2;
}

item (FEAT_TRAINS, item_Acela_express, 300) {
  property {
    name:                         string(STR_Acela_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(2000, 10, 11);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 35;
    reliability_decay:            10;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                15;
    cost_factor:                  57;
    running_cost_factor:          157;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        150 mph;
    misc_flags:                   bitmask(TRAIN_FLAG_MU);
    refit_cost:                   0;
    track_type:                   ELRL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        9200 kW;
    running_cost_base:            RUNNING_COST_ELECTRIC;
    dual_headed:                  0;
    cargo_capacity:               38;
    weight:                       565 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_ELECTRIC;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.08;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_Acela_express;
        additional_text:          return string(STR_Acela_Desc);
        articulated_part:         sw_Acela_articulated_part;
        length:                   8;
        default:                  sw_Acela_graphics;
    }
}

//--------------------------------------------------------------------------------------------------CN EMU
spriteset (spriteset_purchase_CN_EMU, "gfx/Canada_CN_Electric_Multiple_Unit.png") { [4, 97, 86, 16, -27, -12] }

template tmpl_CN_EMU(x,y) {
  [x,      y,    8,     24,     -3,    -13]
	[x+9,    y,    22,    20,     -14,   -11]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -11]
  [x+88,   y,    8,     24,     -3,    -13]
	[x+97,   y,    22,    20,     -14,   -9]
	[x+120,  y,    32,    16,     -16,   -12]
	[x+153,  y,    22,    20,     -8,    -13]
}

template tmpl_CN_EMU_back(x,y) {
  [x+88,   y,    8,     24,     -3,    -13]
	[x+97,   y,    22,    20,     -14,   -9]
	[x+120,  y,    32,    16,     -16,   -12]
	[x+153,  y,    22,    20,     -8,    -13]
  [x,      y,    8,     24,     -3,    -13]
	[x+9,    y,    22,    20,     -14,   -11]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -11]

}

template tmpl_CN_EMU_wagon(x,y) {
  [x,      y,    8,     24,     -3,    -13]
	[x+9,    y,    22,    20,     -14,   -9 ]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -11]
}

spriteset (spriteset_CN_EMU_f, "gfx/Canada_CN_Electric_Multiple_Unit.png") { tmpl_CN_EMU(4,4) }
spriteset (spriteset_CN_EMU_b, "gfx/Canada_CN_Electric_Multiple_Unit.png") { tmpl_CN_EMU_back(4,35) }
spriteset (spriteset_CN_EMU_w, "gfx/Canada_CN_Electric_Multiple_Unit.png") { tmpl_CN_EMU_wagon(4,66) tmpl_CN_EMU_wagon(92,66) }

switch(FEAT_TRAINS, SELF, sw_CN_EMU_articulated_part, extra_callback_info1) {
  1..2:  item_CN_EMU;
  return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

switch(FEAT_TRAINS, SELF, sw_CN_EMU_capacity, position_in_vehid_chain % 3) {
  0:  84;
  1:  88;
  84;
}

switch(FEAT_TRAINS, SELF, sw_CN_EMU_graphics, position_in_vehid_chain % 3) {
  0:  spriteset_CN_EMU_f;
  1:  spriteset_CN_EMU_w;
  spriteset_CN_EMU_b;
}

item (FEAT_TRAINS, item_CN_EMU, 302) {
  property {
    name:                         string(STR_CN_EMU_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1952, 6, 3);
    model_life:                   43;
    vehicle_life:                 30;
    reliability_decay:            14;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                12;
    cost_factor:                  108;
    running_cost_factor:          208;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        80 mph;
    misc_flags:                   bitmask(TRAIN_FLAG_MU);
    refit_cost:                   0;
    track_type:                   ELRL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        900 kW;
    running_cost_base:            RUNNING_COST_ELECTRIC;
    dual_headed:                  0;
    cargo_capacity:               1;
    weight:                       195 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_ELECTRIC;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.08;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_CN_EMU;
        additional_text:          return string(STR_CN_EMU_Desc);
        articulated_part:         sw_CN_EMU_articulated_part;
        cargo_capacity:           sw_CN_EMU_capacity;
        length:                   8;
        default:                  sw_CN_EMU_graphics;
    }
}

//--------------------------------------------------------------------------------------------------NYC Heavyweight
template tmpl_NYC_Heavyweight(x,y) {
  [x,      y,    8,     24,     -3,    -12]
	[x+9,    y,    22,    20,     -14,   -11]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -12]
}
spriteset (spriteset_NYC_Heavyweight_Coach_purchase,"gfx/USA_NYC_Pullman_Heavyweight.png") { [36, 4, 32, 16, -15, -12] }
spriteset (spriteset_NYC_Heavyweight_Combine_purchase,"gfx/USA_NYC_Pullman_Heavyweight.png") { [36, 35, 32, 16, -15, -12] }
spriteset (spriteset_NYC_Heavyweight_Baggage_purchase,"gfx/USA_NYC_Pullman_Heavyweight.png") { [36, 66, 32, 16, -15, -12] }
spriteset (spriteset_NYC_Heavyweight_Sleeper_purchase,"gfx/USA_NYC_Pullman_Heavyweight.png") { [36, 97, 32, 16, -15, -12] }
spriteset (spriteset_NYC_Heavyweight_Observation_purchase,"gfx/USA_NYC_Pullman_Heavyweight.png") { [36, 128, 32, 16, -15, -12] }

spriteset (spriteset_obsolete,"gfx/USA_NYC_Pullman_Heavyweight.png") { [36, 4, 1, 1, -15, -11] }
spriteset (spriteset_NYC_Heavyweight_Coach,"gfx/USA_NYC_Pullman_Heavyweight.png")       { tmpl_NYC_Heavyweight(4,4)   tmpl_NYC_Heavyweight(92,4) }
spriteset (spriteset_NYC_Heavyweight_Combine,"gfx/USA_NYC_Pullman_Heavyweight.png")     { tmpl_NYC_Heavyweight(4,35)  tmpl_NYC_Heavyweight(92,35) }
spriteset (spriteset_NYC_Heavyweight_Baggage,"gfx/USA_NYC_Pullman_Heavyweight.png")     { tmpl_NYC_Heavyweight(4,66)  tmpl_NYC_Heavyweight(92,66) }
spriteset (spriteset_NYC_Heavyweight_Sleeper,"gfx/USA_NYC_Pullman_Heavyweight.png")     { tmpl_NYC_Heavyweight(4,97)  tmpl_NYC_Heavyweight(92,97) }
spriteset (spriteset_NYC_Heavyweight_Observation,"gfx/USA_NYC_Pullman_Heavyweight.png") { tmpl_NYC_Heavyweight(4,128) tmpl_NYC_Heavyweight(92,128) }

item (FEAT_TRAINS, item_NYC_Heavyweight_Coach, 718) {
  property {
    name:                         string(STR_NYC_Heavyweight_Coach_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1850, 1, 1);
    model_life:                   118;
    vehicle_life:                 25;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                13;
    cost_factor:                  128;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        55 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               88;
    weight:                       90 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_NYC_Heavyweight_Coach_purchase;
        additional_text:          return string(STR_Obsolete_Desc);
        length:                   8;
        default:                  spriteset_NYC_Heavyweight_Coach;
    }
}

switch(FEAT_TRAINS, SELF, sw_NYC_HW_Combine_articulated, extra_callback_info1) {
  1:  item_NYC_Heavyweight_Combine_secret;
  return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

item (FEAT_TRAINS, item_NYC_Heavyweight_Combine, 719) {
  property {
    name:                         string(STR_NYC_Heavyweight_Combine_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1850, 1, 1);
    model_life:                   118;
    vehicle_life:                 25;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                12;
    cost_factor:                  129;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        55 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               60;
    weight:                       88 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_NYC_Heavyweight_Combine_purchase;
        articulated_part:         sw_NYC_HW_Combine_articulated;
        additional_text:          return string(STR_Obsolete_Desc);
        length:                   7;
        default:                  spriteset_NYC_Heavyweight_Combine;
    }
}

item (FEAT_TRAINS, item_NYC_Heavyweight_Combine_secret, 1719) {
  property {
    name:                         string(STR_NYC_Heavyweight_Combine_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(5000000, 1, 1);
    model_life:                   1;
    vehicle_life:                 2;
    refittable_cargo_classes:     bitmask(CC_MAIL);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                12;
    cost_factor:                  129;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        55 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               20;
    weight:                       88 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_NYC_Heavyweight_Combine_purchase;
        length:                   1;
        default:                  spriteset_obsolete;
    }
}

item (FEAT_TRAINS, item_NYC_Heavyweight_Baggage, 720) {
  property {
    name:                         string(STR_NYC_Heavyweight_Baggage_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1850, 1, 1);
    model_life:                   118;
    vehicle_life:                 25;
    refittable_cargo_classes:     bitmask(CC_MAIL);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                12;
    cost_factor:                  135;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        55 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               72;
    weight:                       90 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_NYC_Heavyweight_Baggage_purchase;
        additional_text:          return string(STR_Obsolete_Desc);
        length:                   8;
        default:                  spriteset_NYC_Heavyweight_Baggage;
    }
}

item (FEAT_TRAINS, item_NYC_Heavyweight_Sleeper, 721) {
  property {
    name:                         string(STR_NYC_Heavyweight_Sleeper_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1850, 1, 1);
    model_life:                   118;
    vehicle_life:                 25;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                12;
    cost_factor:                  131;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        55 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               54;
    weight:                       93 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_NYC_Heavyweight_Sleeper_purchase;
        additional_text:          return string(STR_Obsolete_Desc);
        length:                   8;
        default:                  spriteset_NYC_Heavyweight_Sleeper;
    }
}

item (FEAT_TRAINS, item_NYC_Heavyweight_Observation, 722) {
  property {
    name:                         string(STR_NYC_Heavyweight_Observation_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1850, 1, 1);
    model_life:                   118;
    vehicle_life:                 25;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                12;
    cost_factor:                  134;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        55 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               76;
    weight:                       88 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_NYC_Heavyweight_Observation_purchase;
        additional_text:          return string(STR_Obsolete_Desc);
        length:                   8;
        default:                  spriteset_NYC_Heavyweight_Observation;
    }
}

//--------------------------------------------------------------------------------------------------Budd Pioneer Zephyr
spriteset (spriteset_Pioneer_Zephyr_purchase,"gfx/USA_Pioneer_Zephyr.png") { [4, 97, 87, 13, -27, -9] }

template tmpl_Pioneer_Zephyr(x,y) {
  [x,      y,    8,     24,     -3,    -12]
	[x+9,    y,    22,    20,     -14,   -10]
	[x+32,   y,    35,    16,     -16,   -13]
	[x+68,   y,    22,    20,     -8,    -12]
}
template tmpl_Pioneer_Zephyr_tail(x,y) {
  [x,      y,    8,     24,     -3,    -12]
	[x+9,    y,    22,    20,     -14,   -10]
	[x+32,   y,    35,    16,     -16,   -13]
	[x+68,   y,    22,    20,     -8,    -12]
}

spriteset (spriteset_Pioneer_Zephyr_front,"gfx/USA_Pioneer_Zephyr.png") { tmpl_Pioneer_Zephyr(4,4)  tmpl_Pioneer_Zephyr(95,4) }
spriteset (spriteset_Pioneer_Zephyr_mid,"gfx/USA_Pioneer_Zephyr.png")   { tmpl_Pioneer_Zephyr(4,35) tmpl_Pioneer_Zephyr(95,35) }
spriteset (spriteset_Pioneer_Zephyr_end,"gfx/USA_Pioneer_Zephyr.png")   { tmpl_Pioneer_Zephyr(4,66) tmpl_Pioneer_Zephyr(95,66) }

switch(FEAT_TRAINS,SELF,sw_Pioneer_Zephyr_articulated_part, extra_callback_info1) {
  1:  item_Pioneer_Zephyr;
  2:  item_Pioneer_Zephyr2;
  return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}
switch(FEAT_TRAINS,SELF,sw_Pioneer_Zephyr_graphics, position_in_vehid_chain) {
  0:  spriteset_Pioneer_Zephyr_front;
  spriteset_Pioneer_Zephyr_mid;
}

item (FEAT_TRAINS, item_Pioneer_Zephyr, 236) {
  property {
    name:                         string(STR_Pioneer_Zephyr_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1934, 11, 11);
    model_life:                   118;
    vehicle_life:                 30;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                19;
    cost_factor:                  78;
    running_cost_factor:          178;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        112 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        447 kW;
    cargo_capacity:               36;
    weight:                       90 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_Pioneer_Zephyr_purchase;
        additional_text:          return string(STR_Pioneer_Zephyr_Desc);
        length:                   8;
        articulated_part:         sw_Pioneer_Zephyr_articulated_part;
        default:                  sw_Pioneer_Zephyr_graphics;
    }
}

item (FEAT_TRAINS, item_Pioneer_Zephyr2, 1235) {
  property {
    name:                         string(STR_Pioneer_Zephyr_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(5000000, 1, 1);
    model_life:                   7;
    vehicle_life:                 30;
    refittable_cargo_classes:     bitmask(CC_MAIL);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                19;
    cost_factor:                  78;
    running_cost_factor:          178;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        112 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               10;
    weight:                       90 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_Pioneer_Zephyr_purchase;
        additional_text:          return string(STR_Pioneer_Zephyr_Desc);
        length:                   7;
        default:                  spriteset_Pioneer_Zephyr_end;
    }
}

//--------------------------------------------------------------------------------------------------EMD F7
spriteset (spriteset_purchase_F7, "gfx/Canada_GMD_F7_CPR.png") { [4,  66,  87,  12,  -23,  -8] }
template tmpl_F7_A(x,y) {
  [x,      y,    8,     24,     -3,    -12]
	[x+9,    y,    22,    20,     -12,   -11]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -11]
  [x+88,   y,    8,     24,     -3,    -12]
	[x+97,   y,    22,    20,     -14,   -10]
	[x+120,  y,    32,    16,     -20,   -12]
	[x+153,  y,    22,    20,     -10,   -12]
}
template tmpl_F7_B(x,y) {
  [x,      y,    8,     24,     -3,    -12]
	[x+9,    y,    22,    20,     -12,   -11]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -11]
  [x+88,   y,    8,     24,     -3,    -12]
	[x+97,   y,    22,    20,     -14,   -10]
	[x+120,  y,    32,    16,     -20,   -12]
	[x+153,  y,    22,    20,     -10,   -12]
}
spriteset (spriteset_F7_ATSF_A, "gfx/USA_EMD_F7_ATSF.png")  { tmpl_F7_A(4,4) }
spriteset (spriteset_F7_ATSF_B, "gfx/USA_EMD_F7_ATSF.png")  { tmpl_F7_B(4,35) }
spriteset (spriteset_F7_NYC_A, "gfx/USA_EMD_F7_NYC.png")    { tmpl_F7_A(4,4) }
spriteset (spriteset_F7_NYC_B, "gfx/USA_EMD_F7_NYC.png")    { tmpl_F7_B(4,35) }
spriteset (spriteset_F7_CPR_A, "gfx/Canada_GMD_F7_CPR.png") { tmpl_F7_A(4,4) }
spriteset (spriteset_F7_CPR_B, "gfx/Canada_GMD_F7_CPR.png") { tmpl_F7_B(4,35) }
spriteset (spriteset_F7_CNR_A, "gfx/Canada_GMD_F7_CNR.png") { tmpl_F7_A(4,4) }
spriteset (spriteset_F7_CNR_B, "gfx/Canada_GMD_F7_CNR.png") { tmpl_F7_B(4,35) }

switch(FEAT_TRAINS,SELF,sw_F7_graphics_ATSF, position_in_consist) {
  0:  spriteset_F7_ATSF_A;
  spriteset_F7_ATSF_B;
}
switch(FEAT_TRAINS,SELF,sw_F7_graphics_NYC, position_in_consist) {
  0:  spriteset_F7_NYC_A;
  spriteset_F7_NYC_B;
}
switch(FEAT_TRAINS,SELF,sw_F7_graphics_CPR, position_in_consist) {
  0:  spriteset_F7_CPR_A;
  spriteset_F7_CPR_B;
}
switch(FEAT_TRAINS,SELF,sw_F7_graphics_CNR, position_in_consist) {
  0:  spriteset_F7_CNR_A;
  spriteset_F7_CNR_B;
}

switch(FEAT_TRAINS,SELF,sw_F7_graphics, cargo_subtype) {
  0:  sw_F7_graphics_CPR;
  1:  sw_F7_graphics_NYC;
  2:  sw_F7_graphics_ATSF;
  sw_F7_graphics_CNR;
}
switch(FEAT_TRAINS,SELF,sw_F7_livery_name, cargo_subtype) {
  0:  return string(STR_Livery_CPR_Can);
  1:  return string(STR_Livery_NYC_20);
  2:  return string(STR_Livery_ATSF);
  return string(STR_Livery_CNR);
}

item (FEAT_TRAINS, item_F7, 219) {
  property {
    name:                         string(STR_F7_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1949, 2, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 38;
    reliability_decay:            12;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                0;
    cost_factor:                  39;
    running_cost_factor:          139;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        65 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        1500 hp;
    running_cost_base:            RUNNING_COST_DIESEL;
    dual_headed:                  0;
    cargo_capacity:               1;
    weight:                       112 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_DIESEL;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.35;
    air_drag_coefficient:         8/105;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DIESEL, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_F7;
        additional_text:          return string(STR_F7_Desc);
        cargo_subtype_text:       sw_F7_livery_name;
        cargo_capacity:           0;
        length:                   7;
        default:                  sw_F7_graphics;
    }
}

//--------------------------------------------------------------------------------------------------NYC Budd Lightweight 20th Cent. Ltd
template tmpl_NYC_Budd_Lightweight_20(x,y) {
  [x,      y,    8,     24,     -3,    -12]
	[x+9,    y,    22,    20,     -14,   -10]
	[x+32,   y,    32,    16,     -16,   -11]
	[x+65,   y,    22,    20,     -8,    -11]
}
spriteset (spriteset_NYC_Budd_Lightweight_Coach_20th_purchase,"gfx/USA_NYC_20th_Century_Ltd_Lightweight.png")       { [36, 4, 32, 16, -15, -11] }
spriteset (spriteset_NYC_Budd_Lightweight_Sleeper_20th_purchase,"gfx/USA_NYC_20th_Century_Ltd_Lightweight.png")     { [36, 35, 32, 16, -15, -11] }
spriteset (spriteset_NYC_Budd_Lightweight_Baggage_20th_purchase,"gfx/USA_NYC_20th_Century_Ltd_Lightweight.png")     { [36, 66, 32, 16, -15, -11] }
spriteset (spriteset_NYC_Budd_Lightweight_Kitchen_20th_purchase,"gfx/USA_NYC_20th_Century_Ltd_Lightweight.png")     { [36, 97, 32, 16, -15, -11] }
spriteset (spriteset_NYC_Budd_Lightweight_Diner_20th_purchase,"gfx/USA_NYC_20th_Century_Ltd_Lightweight.png")       { [36, 128, 32, 16, -15, -11] }
spriteset (spriteset_NYC_Budd_Lightweight_Observation_20th_purchase,"gfx/USA_NYC_20th_Century_Ltd_Lightweight.png") { [36, 159, 32, 16, -15, -11] }


spriteset (spriteset_NYC_Budd_Lightweight_Coach_20th,"gfx/USA_NYC_20th_Century_Ltd_Lightweight.png")       { tmpl_NYC_Budd_Lightweight_20(4,4)   tmpl_NYC_Budd_Lightweight_20(92,4) }
spriteset (spriteset_NYC_Budd_Lightweight_Sleeper_20th,"gfx/USA_NYC_20th_Century_Ltd_Lightweight.png")     { tmpl_NYC_Budd_Lightweight_20(4,35)  tmpl_NYC_Budd_Lightweight_20(92,35) }
spriteset (spriteset_NYC_Budd_Lightweight_Baggage_20th,"gfx/USA_NYC_20th_Century_Ltd_Lightweight.png")     { tmpl_NYC_Budd_Lightweight_20(4,66)  tmpl_NYC_Budd_Lightweight_20(92,66) }
spriteset (spriteset_NYC_Budd_Lightweight_Kitchen_20th,"gfx/USA_NYC_20th_Century_Ltd_Lightweight.png")     { tmpl_NYC_Budd_Lightweight_20(4,97)  tmpl_NYC_Budd_Lightweight_20(92,97) }
spriteset (spriteset_NYC_Budd_Lightweight_Diner_20th,"gfx/USA_NYC_20th_Century_Ltd_Lightweight.png")       { tmpl_NYC_Budd_Lightweight_20(4,128) tmpl_NYC_Budd_Lightweight_20(92,128) }
spriteset (spriteset_NYC_Budd_Lightweight_Observation_20th,"gfx/USA_NYC_20th_Century_Ltd_Lightweight.png") { tmpl_NYC_Budd_Lightweight_20(4,159) tmpl_NYC_Budd_Lightweight_20(92,159) }

item (FEAT_TRAINS, item_NYC_Budd_Lightweight_Coach_20th, 726) {
  property {
    name:                         string(STR_NYC_Budd_Lightweight_Coach_20th_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1938, 2, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 30;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                12;
    cost_factor:                  132;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        108 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               46;
    weight:                       32 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_NYC_Budd_Lightweight_Coach_20th_purchase;
        additional_text:          return string(STR_Obsolete_Desc);
        length:                   8;
        default:                  spriteset_NYC_Budd_Lightweight_Coach_20th;
    }
}

item (FEAT_TRAINS, item_NYC_Budd_Lightweight_Sleeper_20th, 727) {
  property {
    name:                         string(STR_NYC_Budd_Lightweight_Sleeper_20th_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1938, 2, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 30;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                12;
    cost_factor:                  133;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        108 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               24;
    weight:                       30 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_NYC_Budd_Lightweight_Sleeper_20th_purchase;
        additional_text:          return string(STR_Obsolete_Desc);
        length:                   8;
        default:                  spriteset_NYC_Budd_Lightweight_Sleeper_20th;
    }
}

item (FEAT_TRAINS, item_NYC_Budd_Lightweight_Baggage_20th, 728) {
  property {
    name:                         string(STR_NYC_Budd_Lightweight_Baggage_20th_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1938, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 28;
    refittable_cargo_classes:     bitmask(CC_MAIL,CC_ARMOURED);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                10;
    cost_factor:                  116;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        100 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               60;
    weight:                       32 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_NYC_Budd_Lightweight_Baggage_20th_purchase;
        additional_text:          return string(STR_Obsolete_Desc);
        length:                   8;
        default:                  spriteset_NYC_Budd_Lightweight_Baggage_20th;
    }
}

item (FEAT_TRAINS, item_NYC_Budd_Lightweight_Kitchen_20th, 729) {
  property {
    name:                         string(STR_NYC_Budd_Lightweight_Kitchen_20th_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1938, 2, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 30;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                12;
    cost_factor:                  132;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        108 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               46;
    weight:                       31 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_NYC_Budd_Lightweight_Kitchen_20th_purchase;
        additional_text:          return string(STR_Obsolete_Desc);
        length:                   8;
        default:                  spriteset_NYC_Budd_Lightweight_Kitchen_20th;
    }
}

item (FEAT_TRAINS, item_NYC_Budd_Lightweight_Diner_20th, 730) {
  property {
    name:                         string(STR_NYC_Budd_Lightweight_Diner_20th_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1938, 2, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 30;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                12;
    cost_factor:                  134;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        108 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               34;
    weight:                       32 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_NYC_Budd_Lightweight_Diner_20th_purchase;
        additional_text:          return string(STR_Obsolete_Desc);
        length:                   8;
        default:                  spriteset_NYC_Budd_Lightweight_Diner_20th;
    }
}

item (FEAT_TRAINS, item_NYC_Budd_Lightweight_Observation_20th, 731) {
  property {
    name:                         string(STR_NYC_Budd_Lightweight_Observation_20th_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1938, 2, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 30;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                12;
    cost_factor:                  134;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        108 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               38;
    weight:                       32 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_NYC_Budd_Lightweight_Observation_20th_purchase;
        additional_text:          return string(STR_Obsolete_Desc);
        length:                   8;
        default:                  spriteset_NYC_Budd_Lightweight_Observation_20th;
    }
}

//--------------------------------------------------------------------------------------------------ATSF Budd Lightweight Super Chief
spriteset (spriteset_ATSF_Budd_Lightweight_Diner_purchase,"gfx/USA_ATSF_Super_Chief_Lightweight.png")       { [38, 4, 36, 16, -19, -12] }
spriteset (spriteset_ATSF_Budd_Lightweight_Sleeper_purchase,"gfx/USA_ATSF_Super_Chief_Lightweight.png")     { [38, 37, 36, 16, -19, -12] }
spriteset (spriteset_ATSF_Budd_Lightweight_Baggage_purchase,"gfx/USA_ATSF_Super_Chief_Lightweight.png")     { [38, 70, 36, 16, -19, -12] }
spriteset (spriteset_ATSF_Budd_Lightweight_Dome_purchase,"gfx/USA_ATSF_Super_Chief_Lightweight.png")        { [38, 103, 36, 16, -19, -12] }
spriteset (spriteset_ATSF_Budd_Lightweight_Observation_purchase,"gfx/USA_ATSF_Super_Chief_Lightweight.png") { [38, 136, 36, 16, -19, -12] }

template tmpl_ATSF_Budd_Lightweight(x,y) {
  [x,      y,    8,     26,     -3,    -12]
	[x+9,    y,    24,    21,     -16,   -10]
	[x+34,   y,    36,    16,     -20,   -12]
	[x+71,   y,    24,    21,     -10,   -12]
}
template tmpl_ATSF_Budd_Lightweight2(x,y) {
  [x,      y,    8,     26,     -3,    -14]
	[x+9,    y,    24,    21,     -14,   -11]
	[x+34,   y,    36,    16,     -16,   -12]
	[x+71,   y,    24,    21,     -8,    -11]
}
spriteset (spriteset_ATSF_Budd_Lightweight_Diner,"gfx/USA_ATSF_Super_Chief_Lightweight.png")       { tmpl_ATSF_Budd_Lightweight(4,4) tmpl_ATSF_Budd_Lightweight2(100,4) }
spriteset (spriteset_ATSF_Budd_Lightweight_Sleeper,"gfx/USA_ATSF_Super_Chief_Lightweight.png")     { tmpl_ATSF_Budd_Lightweight(4,37) tmpl_ATSF_Budd_Lightweight2(100,37) }
spriteset (spriteset_ATSF_Budd_Lightweight_Baggage,"gfx/USA_ATSF_Super_Chief_Lightweight.png")     { tmpl_ATSF_Budd_Lightweight(4,70) tmpl_ATSF_Budd_Lightweight2(100,70) }
spriteset (spriteset_ATSF_Budd_Lightweight_Dome,"gfx/USA_ATSF_Super_Chief_Lightweight.png")        { tmpl_ATSF_Budd_Lightweight(4,103) tmpl_ATSF_Budd_Lightweight2(100,103) }
spriteset (spriteset_ATSF_Budd_Lightweight_Observation,"gfx/USA_ATSF_Super_Chief_Lightweight.png") { tmpl_ATSF_Budd_Lightweight(4,136) tmpl_ATSF_Budd_Lightweight2(100,136) }

switch(FEAT_TRAINS,SELF,sw_ATSF_Budd_Lightweight_Diner_graphics, position_in_vehid_chain % 2) {
  0:  spriteset_ATSF_Budd_Lightweight_Diner;
  spriteset_obsolete;
}
switch(FEAT_TRAINS,SELF,sw_ATSF_Budd_Lightweight_Diner_articulated, extra_callback_info1) {
  1:  item_ATSF_Budd_Lightweight_Diner;
  CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

switch(FEAT_TRAINS,SELF,sw_ATSF_Budd_Lightweight_Sleeper_graphics, position_in_vehid_chain % 2) {
  0:  spriteset_ATSF_Budd_Lightweight_Sleeper;
  spriteset_obsolete;
}
switch(FEAT_TRAINS,SELF,sw_ATSF_Budd_Lightweight_Sleeper_articulated, extra_callback_info1) {
  1:  item_ATSF_Budd_Lightweight_Sleeper;
  CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

switch(FEAT_TRAINS,SELF,sw_ATSF_Budd_Lightweight_Baggage_graphics, position_in_vehid_chain % 2) {
  0:  spriteset_ATSF_Budd_Lightweight_Baggage;
  spriteset_obsolete;
}
switch(FEAT_TRAINS,SELF,sw_ATSF_Budd_Lightweight_Baggage_articulated, extra_callback_info1) {
  1:  item_ATSF_Budd_Lightweight_Baggage;
  CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

switch(FEAT_TRAINS,SELF,sw_ATSF_Budd_Lightweight_Dome_graphics, position_in_vehid_chain % 2) {
  0:  spriteset_ATSF_Budd_Lightweight_Dome;
  spriteset_obsolete;
}
switch(FEAT_TRAINS,SELF,sw_ATSF_Budd_Lightweight_Dome_articulated, extra_callback_info1) {
  1:  item_ATSF_Budd_Lightweight_Dome;
  CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

switch(FEAT_TRAINS,SELF,sw_ATSF_Budd_Lightweight_Observation_graphics, position_in_vehid_chain % 2) {
  0:  spriteset_ATSF_Budd_Lightweight_Observation;
  spriteset_obsolete;
}
switch(FEAT_TRAINS,SELF,sw_ATSF_Budd_Lightweight_Observation_articulated, extra_callback_info1) {
  1:  item_ATSF_Budd_Lightweight_Observation;
  CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}
item (FEAT_TRAINS, item_ATSF_Budd_Lightweight_Diner, 738) {
  property {
    name:                         string(STR_ATSF_Budd_Lightweight_Diner_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1937, 5, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 30;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                13;
    cost_factor:                  130;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        110 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               42;
    weight:                       71 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_ATSF_Budd_Lightweight_Diner_purchase;
        additional_text:          return string(STR_Obsolete_Desc);
        length:                   (position_in_vehid_chain % 2) == 0 ? 8 : 1;
        articulated_part:         sw_ATSF_Budd_Lightweight_Diner_articulated;
        default:                  sw_ATSF_Budd_Lightweight_Diner_graphics;
    }
}

item (FEAT_TRAINS, item_ATSF_Budd_Lightweight_Sleeper, 739) {
  property {
    name:                         string(STR_ATSF_Budd_Lightweight_Sleeper_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1937, 5, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 30;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                12;
    cost_factor:                  132;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        110 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               36;
    weight:                       72 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_ATSF_Budd_Lightweight_Sleeper_purchase;
        additional_text:          return string(STR_Obsolete_Desc);
        length:                   (position_in_vehid_chain % 2) == 0 ? 8 : 1;
        articulated_part:         sw_ATSF_Budd_Lightweight_Sleeper_articulated;
        default:                  sw_ATSF_Budd_Lightweight_Sleeper_graphics;
    }
}

item (FEAT_TRAINS, item_ATSF_Budd_Lightweight_Baggage, 740) {
  property {
    name:                         string(STR_ATSF_Budd_Lightweight_Baggage_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1937, 5, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 30;
    refittable_cargo_classes:     bitmask(CC_MAIL,CC_ARMOURED);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                15;
    cost_factor:                  120;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        110 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               65;
    weight:                       70 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_ATSF_Budd_Lightweight_Baggage_purchase;
        additional_text:          return string(STR_Obsolete_Desc);
        length:                   (position_in_vehid_chain % 2) == 0 ? 8 : 1;
        articulated_part:         sw_ATSF_Budd_Lightweight_Baggage_articulated;
        default:                  sw_ATSF_Budd_Lightweight_Baggage_graphics;
    }
}

item (FEAT_TRAINS, item_ATSF_Budd_Lightweight_Dome, 741) {
  property {
    name:                         string(STR_ATSF_Budd_Lightweight_Dome_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1950, 5, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 30;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                16;
    cost_factor:                  137;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        110 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               44;
    weight:                       72 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_ATSF_Budd_Lightweight_Dome_purchase;
        additional_text:          return string(STR_Obsolete_Desc);
        length:                   (position_in_vehid_chain % 2) == 0 ? 8 : 1;
        articulated_part:         sw_ATSF_Budd_Lightweight_Dome_articulated;
        default:                  sw_ATSF_Budd_Lightweight_Dome_graphics;
    }
}

item (FEAT_TRAINS, item_ATSF_Budd_Lightweight_Observation, 742) {
  property {
    name:                         string(STR_ATSF_Budd_Lightweight_Observation_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1937, 5, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 30;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                16;
    cost_factor:                  137;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        110 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               38;
    weight:                       71 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_ATSF_Budd_Lightweight_Observation_purchase;
        additional_text:          return string(STR_Obsolete_Desc);
        length:                   (position_in_vehid_chain % 2) == 0 ? 8 : 1;
        articulated_part:         sw_ATSF_Budd_Lightweight_Observation_articulated;
        default:                  sw_ATSF_Budd_Lightweight_Observation_graphics;
    }
}

//--------------------------------------------------------------------------------------------------Amtrak Baggage
spriteset (spriteset_Amtrak_Baggage_purchase_Phase_III,"gfx/USA_Amtrak_Baggage.png") { [4,  97,   87,  12,  -15,  -9] }
spriteset (spriteset_Amtrak_Baggage_purchase_Phase_IVa,"gfx/USA_Amtrak_Baggage.png") { [92, 97,   87,  12,  -15,  -9] }
spriteset (spriteset_Amtrak_Baggage_purchase_Phase_V,"gfx/USA_Amtrak_Baggage.png")   { [4,  116,  87,  12,  -15,  -9] }

template tmpl_Amtrak_Baggage(x,y) {
  [x,      y,    8,     24,     -3,    -12]
	[x+9,    y,    22,    20,     -14,   -11]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -12]
}

spriteset (spriteset_Amtrak_Baggage_Phase_III,"gfx/USA_Amtrak_Baggage.png") { tmpl_Amtrak_Baggage(4,4)  tmpl_Amtrak_Baggage(92,4) }
spriteset (spriteset_Amtrak_Baggage_Phase_IVa,"gfx/USA_Amtrak_Baggage.png") { tmpl_Amtrak_Baggage(4,35) tmpl_Amtrak_Baggage(92,35) }
spriteset (spriteset_Amtrak_Baggage_Phase_V,"gfx/USA_Amtrak_Baggage.png")   { tmpl_Amtrak_Baggage(4,66) tmpl_Amtrak_Baggage(92,66) }

switch(FEAT_TRAINS, SELF, sw_Amtrak_Baggage_purchase, current_year) {
  0..1992:  spriteset_Amtrak_Baggage_purchase_Phase_III;
  1993..1999:  spriteset_Amtrak_Baggage_purchase_Phase_IVa;
  spriteset_Amtrak_Baggage_purchase_Phase_V;
}
switch(FEAT_TRAINS, SELF, sw_Amtrak_Baggage_year_by_year, current_year) {
  0..1992:  spriteset_Amtrak_Baggage_Phase_III;
  1993..1999:  spriteset_Amtrak_Baggage_Phase_IVa;
  spriteset_Amtrak_Baggage_Phase_V;
}
switch(FEAT_TRAINS, SELF, sw_Amtrak_Baggage_livery, cargo_subtype) {
  0:  spriteset_Amtrak_Baggage_Phase_III;
  1:  spriteset_Amtrak_Baggage_Phase_IVa;
  2:  spriteset_Amtrak_Baggage_Phase_V;
  sw_Amtrak_Baggage_year_by_year;
}
switch(FEAT_TRAINS, SELF, sw_Amtrak_Baggage_livery_name, cargo_subtype) {
  0:  string(STR_Amtrak_Phase_III);
  1:  string(STR_Amtrak_Phase_IVa);
  2:  string(STR_Amtrak_Phase_V);
  string(STR_Livery_Auto);
}

item (FEAT_TRAINS, item_Amtrak_Baggage, 702) {
  property {
    name:                         string(STR_Amtrak_Baggage_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1976, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 20;
    refittable_cargo_classes:     bitmask(CC_MAIL);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                18;
    cost_factor:                  140;
    running_cost_factor:          1;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        180 km/h;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               120;
    weight:                       58 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 sw_Amtrak_Baggage_purchase;
        additional_text:          return string(STR_Obsolete_Desc);
        length:                   8;
        cargo_subtype_text:       sw_Amtrak_Baggage_livery_name;
        default:                  sw_Amtrak_Baggage_livery;
    }
}

//--------------------------------------------------------------------------------------------------EMD FP45
spriteset (spriteset_purchase_FP45, "gfx/USA_EMD_FP45.png") { [4,  66,  87,  12,  -15,  -8] }

template tmpl_FP45(x,y) {
  [x,      y,    8,     24,     -3,    -12]
	[x+9,    y,    22,    20,     -14,   -10]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -10]
  [x+88,   y,    8,     24,     -3,    -12]
	[x+97,   y,    22,    20,     -14,    -9]
	[x+120,  y,    32,    16,     -16,   -12]
	[x+153,  y,    22,    20,     -8,    -11]
}
template tmpl_FP45_rev(x,y) {
  [x+88,   y,    8,     24,     -3,    -12]
	[x+97,   y,    22,    20,     -14,    -9]
	[x+120,  y,    32,    16,     -16,   -12]
	[x+153,  y,    22,    20,     -8,    -11]
  [x,      y,    8,     24,     -3,    -12]
	[x+9,    y,    22,    20,     -14,   -10]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -10]

}

spriteset (spriteset_FP45_f, "gfx/USA_EMD_FP45.png") { tmpl_FP45(4,4) }
spriteset (spriteset_FP45_b, "gfx/USA_EMD_FP45.png") { tmpl_FP45_rev(4,4) }

switch(FEAT_TRAINS,SELF,sw_FP45_graphics, position_in_consist) {
  0:  spriteset_FP45_f;
  spriteset_FP45_b;
}

item (FEAT_TRAINS, item_FP45, 222) {
  property {
    name:                         string(STR_FP45_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1967, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 40;
    reliability_decay:            12;
    refittable_cargo_classes:     bitmask();
    non_refittable_cargo_classes: bitmask();
    loading_speed:                0;
    cost_factor:                  45;
    running_cost_factor:          145;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        68 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        3600 hp;
    running_cost_base:            RUNNING_COST_DIESEL;
    dual_headed:                  0;
    cargo_capacity:               0;
    weight:                       181 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_DIESEL;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.2;
    air_drag_coefficient:         8/109;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DIESEL, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_FP45;
        additional_text:          return string(STR_FP45_Desc);
        length:                   8;
        default:                  sw_FP45_graphics;
    }
}

//--------------------------------------------------------------------------------------------------EMD F9
spriteset (spriteset_purchase_F9, "gfx/USA_EMD_F9.png") { [4,  66,  87,  12,  -23,  -8] }

template tmpl_F9(x,y) {
  [x,      y,    8,     24,     -3,    -12]
	[x+9,    y,    22,    20,     -12,   -11]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -11]
  [x+88,   y,    8,     24,     -3,    -12]
	[x+97,   y,    22,    20,     -14,   -10]
	[x+120,  y,    32,    16,     -20,   -12]
	[x+153,  y,    22,    20,     -10,   -12]
}
spriteset (spriteset_F9A, "gfx/USA_EMD_F9.png")  { tmpl_F9(4,4) }
spriteset (spriteset_F9B, "gfx/USA_EMD_F9.png")  { tmpl_F9(4,35) }

switch(FEAT_TRAINS,SELF,sw_F9_graphics, position_in_consist) {
  0:  spriteset_F9A;
  spriteset_F9B;
}

item (FEAT_TRAINS, item_F9, 220) {
  property {
    name:                         string(STR_F9_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1943, 2, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 42;
    reliability_decay:            14;
    refittable_cargo_classes:     bitmask();
    non_refittable_cargo_classes: bitmask();
    loading_speed:                0;
    cost_factor:                  44;
    running_cost_factor:          144;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        65 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        1750 hp;
    running_cost_base:            RUNNING_COST_DIESEL;
    dual_headed:                  0;
    cargo_capacity:               0;
    weight:                       104 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_DIESEL;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.32;
    air_drag_coefficient:         7/105;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DIESEL, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_F9;
        additional_text:          return string(STR_F9_Desc);
        length:                   7;
        default:                  sw_F9_graphics;
    }
}

//--------------------------------------------------------------------------------------------------SP GS-4
spriteset (spriteset_purchase_GS4, "gfx/USA_GS-4_Daylight.png") { [4,  97,  87,  14,  -27,  -10] }

template tmpl_GS4_Locomotive_1(x,y) {
  [x,      y,    8,     24,     -3,    -10]
	[x+9,    y,    22,    20,     -14,   -10]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -12]
}

template tmpl_GS4_Locomotive_2(x,y) {
  [x,      y,    8,     24,     -3,    -10]
	[x+9,    y,    22,    20,     -14,   -11]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -11]
}

template tmpl_GS4_Tender_1(x,y) {
  [x,      y,    8,     24,     -3,    -12]
	[x+9,    y,    22,    20,     -12,   -11]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -6,    -10]
}

template tmpl_GS4_Tender_2(x,y) {
  [x,      y,    8,     24,     -3,    -6]
	[x+9,    y,    22,    20,     -16,   -9]
	[x+32,   y,    32,    16,     -24,   -12]
	[x+65,   y,    22,    20,     -10,   -12]
}

spriteset (spriteset_GS4_Locomotive_Daylight, "gfx/USA_GS-4_Daylight.png") { tmpl_GS4_Locomotive_1(4,4)   tmpl_GS4_Locomotive_2(92,4) }
spriteset (spriteset_GS4_Locomotive_Daylight_second, "gfx/USA_GS-4_Daylight.png") { tmpl_GS4_Locomotive_1(4,35)   tmpl_GS4_Locomotive_2(92,35) }
spriteset (spriteset_GS4_Tender_Daylight, "gfx/USA_GS-4_Daylight.png") { tmpl_GS4_Tender_1(4,66) tmpl_GS4_Tender_2(92,66) }

spriteset (spriteset_GS4_Locomotive_Freedom_Train, "gfx/USA_GS-4_Daylight.png") { tmpl_GS4_Locomotive_1(4,4)   tmpl_GS4_Locomotive_2(92,4) }
spriteset (spriteset_GS4_Locomotive_Freedom_Train_second, "gfx/USA_GS-4_Daylight.png") { tmpl_GS4_Locomotive_1(4,35)   tmpl_GS4_Locomotive_2(92,35) }
spriteset (spriteset_GS4_Tender_Freedom_Train, "gfx/USA_GS-4_Daylight.png") { tmpl_GS4_Tender_1(4,66) tmpl_GS4_Tender_2(92,66) }

switch(FEAT_TRAINS,SELF,sw_GS4_articulated_part, extra_callback_info1) {
  1:  return item_GS4;
  return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

switch(FEAT_TRAINS,SELF, sw_GS4_Locomotive, cargo_subtype) {
  1:  spriteset_GS4_Locomotive_Daylight;
  spriteset_GS4_Locomotive_Freedom_Train;
}
switch(FEAT_TRAINS,SELF, sw_GS4_Locomotive_second, cargo_subtype) {
  1:  spriteset_GS4_Locomotive_Daylight_second;
  spriteset_GS4_Locomotive_Freedom_Train_second;
}
switch(FEAT_TRAINS,SELF,sw_GS4_Locomotive_animation, motion_counter % 4) {
  0..1:  sw_GS4_Locomotive;
  sw_GS4_Locomotive_second;
}

switch(FEAT_TRAINS,SELF,sw_GS4_Tender, cargo_subtype) {
  1:  spriteset_GS4_Tender_Daylight;
  spriteset_GS4_Tender_Freedom_Train;
}

switch(FEAT_TRAINS,SELF,sw_GS4_grapfics, position_in_vehid_chain % 2) {
  0:  sw_GS4_Locomotive_animation;
  sw_GS4_Tender;
}
switch(FEAT_TRAINS,SELF, sw_GS4_livery, cargo_subtype) {
  0:  return string(STR_Livery_Southern_Pacific_Daylight);
  return string(STR_Livery_Freedom_Train);
}
switch(FEAT_TRAINS,SELF, sw_GS4_length, position_in_vehid_chain % 2) {
  0:  8;
  6;
}
switch(FEAT_TRAINS,SELF, sw_GS4_effect, position_in_vehid_chain % 2) {
  0:  visual_effect_and_powered(VISUAL_EFFECT_STEAM, -2, DISABLE_WAGON_POWER);
  visual_effect_and_powered(VISUAL_EFFECT_DISABLE, -2, DISABLE_WAGON_POWER);
}

item (FEAT_TRAINS, item_GS4, 19) {
  property {
    name:                         string(STR_GS4_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1941, 4, 1);
    model_life:                   20;
    vehicle_life:                 30;
    reliability_decay:            15;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                0;
    cost_factor:                  48;
    running_cost_factor:          148;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        110 mph;
    misc_flags:                   bitmask(TRAIN_FLAG_MU);
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        2250 hp;
    running_cost_base:            RUNNING_COST_STEAM;
    dual_headed:                  0;
    cargo_capacity:               1;
    weight:                       358 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_STEAM;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.08;
    air_drag_coefficient:         8/180;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_STEAM, -7, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_GS4;
        additional_text:          return string(STR_GS4_Desc);
        articulated_part:         sw_GS4_articulated_part;
        length:                   sw_GS4_length;
        cargo_capacity:           0;
        visual_effect_and_powered:sw_GS4_effect;
        cargo_subtype_text:       sw_GS4_livery;
        default:                  sw_GS4_grapfics;
    }
}

//--------------------------------------------------------------------------------------------------PRR GG1
spriteset (spriteset_purchase_PRR_GG1, "gfx/USA_PRR_GG1.png") { [4,  165,  95,  13,  -19,  -9] }
template tmpl_PRR_GG1(x,y) {
  [x,      y,    8,     26,     -3,    -12]
	[x+9,    y,    24,    21,     -16,   -9]
	[x+34,   y,    36,    17,     -20,   -13]
	[x+71,   y,    24,    23,     -10,   -14]
  [x+96,   y,    8,     26,     -3,    -12]
	[x+105,  y,    24,    23,     -14,   -13]
	[x+130,  y,    36,    17,     -16,   -13]
	[x+167,  y,    24,    21,     -8,    -12]
}
spriteset (spriteset_PRR_GG1_1, "gfx/USA_PRR_GG1.png") { tmpl_PRR_GG1(4,4) }
spriteset (spriteset_PRR_GG1_2, "gfx/USA_PRR_GG1.png") { tmpl_PRR_GG1(4,37) }
spriteset (spriteset_PRR_GG1_3, "gfx/USA_PRR_GG1.png") { tmpl_PRR_GG1(4,69) }
spriteset (spriteset_PRR_GG1_4, "gfx/USA_PRR_GG1.png") { tmpl_PRR_GG1(4,101) }
spriteset (spriteset_PRR_GG1_5, "gfx/USA_PRR_GG1.png") { tmpl_PRR_GG1(4,133) }
spriteset (spriteset_PRR_GG1_obsolete, "gfx/USA_PRR_GG1.png") { [4,  4,  1,  1,  -23,  -8] }

switch(FEAT_TRAINS,SELF,sw_PRR_GG1_articulated_part, extra_callback_info1) {
  1:  return item_PRR_GG1;
  return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

switch(FEAT_TRAINS,SELF,sw_PRR_GG1_graphics, cargo_subtype) {
  0:  spriteset_PRR_GG1_1;
  1:  spriteset_PRR_GG1_2;
  2:  spriteset_PRR_GG1_3;
  3:  spriteset_PRR_GG1_4;
  spriteset_PRR_GG1_5;
}
switch(FEAT_TRAINS,SELF,sw_PRR_GG1_invi_part_sort, position_in_vehid_chain % 2) {
  0:  sw_PRR_GG1_graphics;
  spriteset_PRR_GG1_obsolete;
}
switch(FEAT_TRAINS,SELF,sw_PRR_GG1_livery_name, cargo_subtype) {
  0:  return string(STR_Livery_Pennsylvania_Railroad_GG1_1);
  1:  return string(STR_Livery_Pennsylvania_Railroad_GG1_2);
  2:  return string(STR_Livery_Pennsylvania_Railroad_GG1_3);
  3:  return string(STR_Livery_Pennsylvania_Railroad_GG1_4);
  return string(STR_Livery_Pennsylvania_Railroad_GG1_5);
}
switch(FEAT_TRAINS,SELF,sw_PRR_GG1_length, position_in_vehid_chain % 2) {
  0:  return 8;
  return 1;
}

item (FEAT_TRAINS, item_PRR_GG1, 426) {
  property {
    name:                         string(STR_PRR_GG1_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1934, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 35;
    reliability_decay:            11;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                0;
    cost_factor:                  53;
    running_cost_factor:          153;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        100 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   ELRL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        4620 hp;
    running_cost_base:            RUNNING_COST_ELECTRIC;
    dual_headed:                  0;
    cargo_capacity:               1;
    weight:                       215 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_ELECTRIC;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.13;
    air_drag_coefficient:         9/160;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_PRR_GG1;
        additional_text:          return string(STR_PRR_GG1_Desc);
        articulated_part:         sw_PRR_GG1_articulated_part;
        cargo_subtype_text:       sw_PRR_GG1_livery_name;
        cargo_capacity:           0;
        length:                   sw_PRR_GG1_length;
        default:                  sw_PRR_GG1_invi_part_sort;
    }
}

//------------------------------------------------------------------------------------------------------------------------------------------UAC Turbotrain
spriteset(spriteset_purchase_Turbotrain_CN, "gfx/Canada_UAC_Turbotrain_CN.png") { [4, 97, 87, 13, -27, -9] }

template tmpl_Turbotrain(x,y) {
  [x,       y,     8,      24,     -3,      -12]
	[x+9,     y,     22,     20,     -14,     -9]
	[x+32,    y,     32,     16,     -16,     -12]
	[x+65,    y,     22,     20,     -8,      -11]
}

template tmpl_Turbotrain_coach_1(x,y) {
  [x,      y,    8,     24,     -3,    -12]
	[x+9,    y,    22,    20,     -14,   -10]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -6,    -11]
}

template tmpl_Turbotrain_coach_2(x,y) {
  [x,      y,    8,     24,     -3,   -10]
	[x+9,    y,    22,    20,     -16,   -9]
	[x+32,   y,    32,    16,     -20,  -12]
	[x+65,   y,    22,    20,     -8,   -12]
}

spriteset (spriteset_Turbotrain_f, "gfx/Canada_UAC_Turbotrain_CN.png") { tmpl_Turbotrain(4,4) tmpl_Turbotrain(92,4) }
spriteset (spriteset_Turbotrain_b, "gfx/Canada_UAC_Turbotrain_CN.png") { tmpl_Turbotrain(92,35) tmpl_Turbotrain(4,35) }
spriteset (spriteset_Turbotrain_w, "gfx/Canada_UAC_Turbotrain_CN.png") { tmpl_Turbotrain_coach_1(4,66) tmpl_Turbotrain_coach_2(92,66)}
spriteset (spriteset_Turbotrain_f_VIA, "gfx/Canada_UAC_Turbotrain_VIA.png") { tmpl_Turbotrain(4,4) tmpl_Turbotrain(92,4) }
spriteset (spriteset_Turbotrain_b_VIA, "gfx/Canada_UAC_Turbotrain_VIA.png") { tmpl_Turbotrain(92,35) tmpl_Turbotrain(4,35) }
spriteset (spriteset_Turbotrain_w_VIA, "gfx/Canada_UAC_Turbotrain_VIA.png") { tmpl_Turbotrain_coach_1(4,66) tmpl_Turbotrain_coach_2(92,66)}
spriteset (spriteset_Turbotrain_f_AMTK, "gfx/USA_Amtrak_UAC_Turbotrain.png") { tmpl_Turbotrain(4,4) tmpl_Turbotrain(92,4) }
spriteset (spriteset_Turbotrain_b_AMTK, "gfx/USA_Amtrak_UAC_Turbotrain.png") { tmpl_Turbotrain(92,35) tmpl_Turbotrain(4,35) }
spriteset (spriteset_Turbotrain_w_AMTK, "gfx/USA_Amtrak_UAC_Turbotrain.png") { tmpl_Turbotrain_coach_1(4,66) tmpl_Turbotrain_coach_2(92,66)}
spriteset (spriteset_invi, "gfx/Canada_UAC_Turbotrain_CN.png")         { [4, 4, 1, 1, -3, -12] }

switch(FEAT_TRAINS, SELF, sw_Turbotrain_articulated_part, extra_callback_info1) {
  1..8:  return item_Turbotrain;
  return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}
switch(FEAT_TRAINS, SELF, sw_Turbotrain_livery, cargo_subtype) {
  0:  return string(STR_Turbotrain_livery_1);
  1:  return string(STR_Turbotrain_livery_2);
  2:  return string(STR_Turbotrain_livery_3);
  string(STR_Turbotrain_livery_4);
}

switch(FEAT_TRAINS, SELF, sw_Turbotrain_length_1, position_in_articulated_veh) {
  0:  8;
  1..2:  3;
  3:  1;
  4..5:  3;
  6:  1;
  7:  7;
  8;
}
switch(FEAT_TRAINS, SELF, sw_Turbotrain_length_2, position_in_articulated_veh) {
  0:  8;
  1:  6;
  2:  1;
  3:  6;
  4:  1;
  5..7:  7;
  8;
}
switch(FEAT_TRAINS, SELF, sw_Turbotrain_length_3, position_in_articulated_veh) {
  1..7:  7;
  8;
}
switch(FEAT_TRAINS, SELF, sw_Turbotrain_length, cargo_subtype) {
  0:  sw_Turbotrain_length_1;
  1:  sw_Turbotrain_length_2;
  sw_Turbotrain_length_3;
}

switch(FEAT_TRAINS, SELF, sw_Turbotrain_capacity_1, position_in_articulated_veh) {
  0:  46;
  1..2:  0;
  3:  46;
  4..5:  0;
  46;
}
switch(FEAT_TRAINS, SELF, sw_Turbotrain_capacity_2, position_in_articulated_veh) {
  0..1:  46;
  2:  0;
  3:  46;
  4:  0;
  46;
}
switch(FEAT_TRAINS, SELF, sw_Turbotrain_capacity, cargo_subtype) {
  0:  sw_Turbotrain_capacity_1;
  1:  sw_Turbotrain_capacity_2;
  46;
}

switch(FEAT_TRAINS, SELF, sw_Turbotrain_graphics_1, position_in_articulated_veh) {
  0:  spriteset_Turbotrain_f_AMTK;
  1:  spriteset_Turbotrain_w_AMTK;
  2..3:  spriteset_invi;
  4:  spriteset_Turbotrain_w_AMTK;
  5..6:  spriteset_invi;
  7:  spriteset_Turbotrain_w_AMTK;
  spriteset_Turbotrain_b_AMTK;
}
switch(FEAT_TRAINS, SELF, sw_Turbotrain_graphics_2, position_in_articulated_veh) {
  0:  spriteset_Turbotrain_f;
  1:  spriteset_Turbotrain_w;
  2:  spriteset_invi;
  3:  spriteset_Turbotrain_w;
  4:  spriteset_invi;
  5..7:  spriteset_Turbotrain_w;
  spriteset_Turbotrain_b;
}
switch(FEAT_TRAINS, SELF, sw_Turbotrain_graphics_3, position_in_articulated_veh) {
  0:  spriteset_Turbotrain_f;
  1..7:  spriteset_Turbotrain_w;
  spriteset_Turbotrain_b;
}

switch(FEAT_TRAINS, SELF, sw_Turbotrain_graphics_4, position_in_articulated_veh) {
  0:  spriteset_Turbotrain_f_VIA;
  1..7:  spriteset_Turbotrain_w_VIA;
  spriteset_Turbotrain_b_VIA;
}

switch(FEAT_TRAINS, SELF, sw_Turbotrain_graphics, cargo_subtype) {
  0:  sw_Turbotrain_graphics_1;
  1:  sw_Turbotrain_graphics_2;
  2:  sw_Turbotrain_graphics_3;
  sw_Turbotrain_graphics_4;
}


item (FEAT_TRAINS, item_Turbotrain, 501) {
  property {
    name:                         string(STR_Turbotrain_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1968, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 25;
    reliability_decay:            14;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                19;
    cost_factor:                  89;
    running_cost_factor:          189;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        145 mph;
    misc_flags:                   bitmask(TRAIN_FLAG_MU);
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        2000 hp;
    running_cost_base:            RUNNING_COST_DIESEL;
    dual_headed:                  0;
    cargo_capacity:               46;
    weight:                       168 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_DIESEL;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_Turbotrain_CN;
        additional_text:          return string(STR_Turboliner_Desc);
        articulated_part:         sw_Turbotrain_articulated_part;
        cargo_subtype_text:       sw_Turbotrain_livery;
        length:                   sw_Turbotrain_length;
        cargo_capacity:           sw_Turbotrain_capacity;
        default:                  sw_Turbotrain_graphics;
    }
}

//--------------------------------------------------------------------------------------------------ATSF Budd Lightweight Super Chief
template tmpl_Canada_TC_Lightweight_SC(x,y) {
  [x,      y,    8,     24,     -3,    -12]
	[x+9,    y,    22,    20,     -14,   -10]
	[x+32,   y,    32,    16,     -16,   -11]
	[x+65,   y,    22,    20,     -8,    -11]
}
template tmpl_Canada_TC_Lightweight_SC_2(x,y) {
  [x,      y,    8,     24,     -3,    -14]
	[x+9,    y,    22,    20,     -14,   -10]
	[x+32,   y,    32,    16,     -16,   -11]
	[x+65,   y,    22,    20,     -8,    -11]
}
spriteset (spriteset_CNR_TC_Coach_purchase,"gfx/Canada_The_Canadian_Lightweight.png")      { [36, 4,   32, 16, -15, -11] }
spriteset (spriteset_CNR_TC_Diner_purchase,"gfx/Canada_The_Canadian_Lightweight.png")      { [36, 35,  32, 16, -15, -11] }
spriteset (spriteset_CNR_TC_Manor_purchase,"gfx/Canada_The_Canadian_Lightweight.png")      { [36, 66,  32, 16, -15, -11] }
spriteset (spriteset_CNR_TC_Chateau_purchase,"gfx/Canada_The_Canadian_Lightweight.png")    { [36, 97,  32, 16, -15, -11] }
spriteset (spriteset_CNR_TC_Baggage_purchase,"gfx/Canada_The_Canadian_Lightweight.png")    { [36, 128, 32, 16, -15, -11] }
spriteset (spriteset_CNR_TC_Skyline_ss_purchase,"gfx/Canada_The_Canadian_Lightweight.png") { [36, 159, 32, 16, -15, -11] }
spriteset (spriteset_CNR_TC_Park_ss_purchase,"gfx/Canada_The_Canadian_Lightweight.png")    { [36, 190, 32, 16, -15, -11] }

spriteset (spriteset_CNR_TC_Coach,"gfx/Canada_The_Canadian_Lightweight.png")      { tmpl_Canada_TC_Lightweight_SC(4,4)   tmpl_Canada_TC_Lightweight_SC_2(92,4) }
spriteset (spriteset_CNR_TC_Diner,"gfx/Canada_The_Canadian_Lightweight.png")      { tmpl_Canada_TC_Lightweight_SC(4,35)  tmpl_Canada_TC_Lightweight_SC_2(92,35) }
spriteset (spriteset_CNR_TC_Manor,"gfx/Canada_The_Canadian_Lightweight.png")      { tmpl_Canada_TC_Lightweight_SC(4,66)  tmpl_Canada_TC_Lightweight_SC_2(92,66) }
spriteset (spriteset_CNR_TC_Chateau,"gfx/Canada_The_Canadian_Lightweight.png")    { tmpl_Canada_TC_Lightweight_SC(4,97)  tmpl_Canada_TC_Lightweight_SC_2(92,97) }
spriteset (spriteset_CNR_TC_Baggage,"gfx/Canada_The_Canadian_Lightweight.png")    { tmpl_Canada_TC_Lightweight_SC(4,128) tmpl_Canada_TC_Lightweight_SC_2(92,128) }
spriteset (spriteset_CNR_TC_Skyline_ss,"gfx/Canada_The_Canadian_Lightweight.png") { tmpl_Canada_TC_Lightweight_SC(4,159) tmpl_Canada_TC_Lightweight_SC_2(92,159) }
spriteset (spriteset_CNR_TC_Park_ss,"gfx/Canada_The_Canadian_Lightweight.png")    { tmpl_Canada_TC_Lightweight_SC(4,190) tmpl_Canada_TC_Lightweight_SC_2(92,190) }


item (FEAT_TRAINS, item_CNR_TC_Coach, 753) {
  property {
    name:                         string(STR_CNR_TC_Coach_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1954, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 32;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                12;
    cost_factor:                  140;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        112 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               68;
    weight:                       63 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_CNR_TC_Coach_purchase;
        additional_text:          return string(STR_CNR_TC_Coach_Name);
        length:                   8;
        default:                  spriteset_CNR_TC_Coach;
    }
}

item (FEAT_TRAINS, item_CNR_TC_Diner, 754) {
  property {
    name:                         string(STR_CNR_TC_Diner_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1954, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 32;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                13;
    cost_factor:                  144;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        112 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               40;
    weight:                       62 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_CNR_TC_Diner_purchase;
        additional_text:          return string(STR_CNR_TC_Diner_Desc);
        length:                   8;
        default:                  spriteset_CNR_TC_Diner;
    } 
}

item (FEAT_TRAINS, item_CNR_TC_Manor, 755) {
  property {
    name:                         string(STR_CNR_TC_Manor_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1954, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 32;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                13;
    cost_factor:                  146;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        112 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               24;
    weight:                       61 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_CNR_TC_Manor_purchase;
        additional_text:          return string(STR_CNR_TC_Manor_Desc);
        length:                   8;
        default:                  spriteset_CNR_TC_Manor;
    }
}

item (FEAT_TRAINS, item_CNR_TC_Chateau, 756) {
  property {
    name:                         string(STR_CNR_TC_Chateau_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1954, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 32;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                12;
    cost_factor:                  142;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        112 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               25;
    weight:                       61 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_CNR_TC_Chateau_purchase;
        additional_text:          return string(STR_CNR_TC_Chateau_Desc);
        length:                   8;
        default:                  spriteset_CNR_TC_Chateau;
    }
}

item (FEAT_TRAINS, item_CNR_TC_Baggage, 757) {
  property {
    name:                         string(STR_CNR_TC_Baggage_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1954, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 32;
    refittable_cargo_classes:     bitmask(CC_MAIL,CC_ARMOURED);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                20;
    cost_factor:                  135;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        112 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               68;
    weight:                       62 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_CNR_TC_Baggage_purchase;
        additional_text:          return string(STR_CNR_TC_Baggage_Desc);
        length:                   8;
        default:                  spriteset_CNR_TC_Baggage;
    }
}

item (FEAT_TRAINS, item_CNR_TC_Skyline_ss, 758) {
  property {
    name:                         string(STR_CNR_TC_Skyline_ss_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1954, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 32;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                11;
    cost_factor:                  148;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        112 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               60;
    weight:                       66 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_CNR_TC_Skyline_ss_purchase;
        additional_text:          return string(STR_CNR_TC_Skyline_ss_Desc);
        length:                   8;
        default:                  spriteset_CNR_TC_Skyline_ss;
    } 
}

item (FEAT_TRAINS, item_CNR_TC_Park_ss, 759) {
  property {
    name:                         string(STR_CNR_TC_Park_ss_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1954, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 32;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                11;
    cost_factor:                  148;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        112 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               54;
    weight:                       66 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_CNR_TC_Park_ss_purchase;
        additional_text:          return string(STR_CNR_TC_Park_ss_Desc);
        length:                   8;
        default:                  spriteset_CNR_TC_Park_ss;
    }
}

//--------------------------------------------------------------------------------------------------NYC Hudson
spriteset (spriteset_purchase_4_6_4_Hudson, "gfx/USA_NYC_4_6_4_Hudson.png") { [4,  97,  87,  14,  -27,  -10] }

template tmpl_4_6_4_Hudson_Locomotive_1(x,y) {
  [x,      y,    8,     24,     -3,    -11]
	[x+9,    y,    22,    20,     -14,   -10]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -11]
}

template tmpl_4_6_4_Hudson_Locomotive_2(x,y) {
  [x,      y,    8,     24,     -3,    -13]
	[x+9,    y,    22,    20,     -14,   -10]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -11]
}

template tmpl_4_6_4_Hudson_Tender_1(x,y) {
  [x,      y,    8,     24,     -3,    -12]
	[x+9,    y,    22,    20,     -12,   -12]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -12]
}

template tmpl_4_6_4_Hudson_Tender_2(x,y) {
  [x,      y,    8,     24,     -3,    -10]
	[x+9,    y,    22,    20,     -14,   -11]
	[x+32,   y,    32,    16,     -20,   -12]
	[x+65,   y,    22,    20,     -10,   -13]
}

spriteset (spriteset_4_6_4_Hudson_Locomotive, "gfx/USA_NYC_4_6_4_Hudson.png")        { tmpl_4_6_4_Hudson_Locomotive_1(4,4)   tmpl_4_6_4_Hudson_Locomotive_2(92,4) }
spriteset (spriteset_4_6_4_Hudson_Locomotive_second, "gfx/USA_NYC_4_6_4_Hudson.png") { tmpl_4_6_4_Hudson_Locomotive_1(4,35)   tmpl_4_6_4_Hudson_Locomotive_2(92,35) }
spriteset (spriteset_4_6_4_Hudson_Tender, "gfx/USA_NYC_4_6_4_Hudson.png")            { tmpl_4_6_4_Hudson_Tender_1(4,66) tmpl_4_6_4_Hudson_Tender_2(92,66) }

switch(FEAT_TRAINS,SELF,sw_4_6_4_Hudson_articulated_part, extra_callback_info1) {
  1:  return item_4_6_4_Hudson;
  return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}
switch(FEAT_TRAINS,SELF,sw_4_6_4_Hudson_Locomotive_animation, motion_counter % 4) {
  0..1:  spriteset_4_6_4_Hudson_Locomotive;
  spriteset_4_6_4_Hudson_Locomotive_second;
}
switch(FEAT_TRAINS,SELF,sw_4_6_4_Hudson_grapfics, position_in_vehid_chain % 2) {
  0:  sw_4_6_4_Hudson_Locomotive_animation;
  spriteset_4_6_4_Hudson_Tender;
}
switch(FEAT_TRAINS,SELF, sw_4_6_4_Hudson_length, position_in_vehid_chain % 2) {
  0:  8;
  7;
}
switch(FEAT_TRAINS,SELF, sw_4_6_4_Hudson_effect, position_in_vehid_chain % 2) {
  0:  visual_effect_and_powered(VISUAL_EFFECT_STEAM, -2, DISABLE_WAGON_POWER);
  visual_effect_and_powered(VISUAL_EFFECT_DISABLE, -2, DISABLE_WAGON_POWER);
}

item (FEAT_TRAINS, item_4_6_4_Hudson, 7) {
  property {
    name:                         string(STR_4_6_4_Hudson_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1927, 4, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 30;
    reliability_decay:            16;
    refittable_cargo_classes:     bitmask();
    non_refittable_cargo_classes: bitmask();
    loading_speed:                0;
    cost_factor:                  66;
    running_cost_factor:          176;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        95 mph;
    misc_flags:                   bitmask(TRAIN_FLAG_MU);
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        2250 hp;
    running_cost_base:            RUNNING_COST_STEAM;
    dual_headed:                  0;
    cargo_capacity:               1;
    weight:                       358 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_STEAM;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.08;
    air_drag_coefficient:         8/180;
    extra_weight_per_wagon:       0;
   visual_effect_and_powered:     visual_effect_and_powered(VISUAL_EFFECT_STEAM, -4, DISABLE_WAGON_POWER);
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_4_6_4_Hudson;
        additional_text:          return string(STR_4_6_4_Hudson_Desc);
        articulated_part:         sw_4_6_4_Hudson_articulated_part;
        length:                   sw_4_6_4_Hudson_length;
        cargo_capacity:           0;
        visual_effect_and_powered:sw_4_6_4_Hudson_effect;
        default:                  sw_4_6_4_Hudson_grapfics;
    }
}

//--------------------------------------------------------------------------------------------------Erie Lackawanna MU
spriteset (spriteset_purchase_erie_motor, "gfx/USA_Erie_Lackawanna_MU.png") { [4,  159,  87,  15,  -15,  -11] }
spriteset (spriteset_purchase_erie_hi_roof, "gfx/USA_Erie_Lackawanna_MU.png") { [92, 159,  87,   15,  -15,  -11] }
spriteset (spriteset_purchase_erie_lo_roof, "gfx/USA_Erie_Lackawanna_MU.png") { [4,  175,  87,   15,  -15,  -11] }
spriteset (spriteset_purchase_erie_combine, "gfx/USA_Erie_Lackawanna_MU.png") { [92, 175,  87,   15,  -15,  -11] }
spriteset (spriteset_purchase_erie_club, "gfx/USA_Erie_Lackawanna_MU.png") { [4, 191,  87,  15,  -15,  -11] }

template tmpl_Erie_MU(x,y) {
  [x,      y,    8,     24,     -3,    -11]
	[x+9,    y,    22,    21,     -12,   -13]
	[x+32,   y,    32,    17,     -16,   -13]
	[x+65,   y,    22,    21,     -8,    -13]
}

template tmpl_Erie_MU_trailers(x,y) {
  [x,      y,    8,     24,     -3,    -11]
	[x+9,    y,    22,    20,     -12,   -11]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -11]
}

spriteset (spriteset_erie_obsolete, "gfx/USA_Erie_Lackawanna_MU.png") { [4, 4,  1,  1,  0,  0] }
spriteset (spriteset_erie_motor, "gfx/USA_Erie_Lackawanna_MU.png") { tmpl_Erie_MU(4,4)  tmpl_Erie_MU(92,4) }
spriteset (spriteset_erie_hi_roof, "gfx/USA_Erie_Lackawanna_MU.png") { tmpl_Erie_MU_trailers(4,35) tmpl_Erie_MU_trailers(92,35) }
spriteset (spriteset_erie_lo_roof, "gfx/USA_Erie_Lackawanna_MU.png") { tmpl_Erie_MU_trailers(4,66) tmpl_Erie_MU_trailers(92,66) }
spriteset (spriteset_erie_combine, "gfx/USA_Erie_Lackawanna_MU.png") { tmpl_Erie_MU_trailers(4,97) tmpl_Erie_MU_trailers(92,97) }
spriteset (spriteset_erie_club, "gfx/USA_Erie_Lackawanna_MU.png") { tmpl_Erie_MU_trailers(4,128) tmpl_Erie_MU_trailers(92,128) }

item (FEAT_TRAINS, item_erie_motor, 303) {
  property {
    name:                         string(STR_Erie_Motor_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1930, 1, 1);
    model_life:                   54;
    vehicle_life:                 25;
    reliability_decay:            15;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                9;
    cost_factor:                  35;
    running_cost_factor:          132;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        75 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   ELRL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        1020 hp;
    running_cost_base:            RUNNING_COST_ELECTRIC;
    dual_headed:                  0;
    cargo_capacity:               84;
    weight:                       67 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_ELECTRIC;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_erie_motor;
        additional_text:          return string(STR_Erie_Motor_Desc);
        length:                   8;
        default:                  spriteset_erie_motor;
    }
}

item (FEAT_TRAINS, item_erie_hi_roof) {
  property {
    name:                         string(STR_Erie_High_Roof_Trailer_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1917, 1, 1);
    model_life:                   67;
    vehicle_life:                 25;
    reliability_decay:            14;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                9;
    cost_factor:                  34;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        65 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    running_cost_base:            RUNNING_COST_NONE;
    dual_headed:                  0;
    cargo_capacity:               78;
    weight:                       49 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_ELECTRIC;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_erie_hi_roof;
        additional_text:          return string(STR_Erie_High_Roof_Trailer_Desc);
        length:                   8;
        default:                  spriteset_erie_hi_roof;
    }
}

item (FEAT_TRAINS, item_erie_lo_roof) {
  property {
    name:                         string(STR_Erie_Low_Roof_Trailer_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1925, 1, 1);
    model_life:                   69;
    vehicle_life:                 25;
    reliability_decay:            14;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                9;
    cost_factor:                  32;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        75 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    running_cost_base:            RUNNING_COST_NONE;
    dual_headed:                  0;
    cargo_capacity:               82;
    weight:                       49 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_ELECTRIC;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_erie_lo_roof;
        additional_text:          return string(STR_Erie_Low_Roof_Trailer_Desc);
        length:                   8;
        default:                  spriteset_erie_lo_roof;
    }
}

switch(FEAT_TRAINS, SELF, sw_Erie_combine_articulated, extra_callback_info1) {
  1:  item_erie_combine_secret;
  return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

item (FEAT_TRAINS, item_erie_combine) {
  property {
    name:                         string(STR_Erie_Combine_Trailer_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1917, 1, 1);
    model_life:                   67;
    vehicle_life:                 25;
    reliability_decay:            13;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                9;
    cost_factor:                  35;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        75 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    running_cost_base:            RUNNING_COST_NONE;
    dual_headed:                  0;
    cargo_capacity:               56;
    weight:                       46 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_ELECTRIC;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_erie_combine;
        additional_text:          return string(STR_Erie_Combine_Trailer_Desc);
        articulated_part:         sw_Erie_combine_articulated;
        length:                   7;
        default:                  spriteset_erie_combine;
    }
}

item (FEAT_TRAINS, item_erie_combine_secret) {
  property {
    name:                         string(STR_Erie_Combine_Trailer_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(5000000, 1, 1);
    model_life:                   1;
    vehicle_life:                 25;
    reliability_decay:            13;
    refittable_cargo_classes:     bitmask(CC_MAIL);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                9;
    cost_factor:                  35;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        75 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    running_cost_base:            RUNNING_COST_NONE;
    dual_headed:                  0;
    cargo_capacity:               40;
    weight:                       46 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_ELECTRIC;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_erie_obsolete;
        additional_text:          return string(STR_Erie_Combine_Trailer_Desc);
        length:                   1;
        default:                  spriteset_erie_obsolete;
    }
}

item (FEAT_TRAINS, item_erie_club) {
  property {
    name:                         string(STR_Erie_Club_Trailer_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1912, 1, 1);
    model_life:                   72;
    vehicle_life:                 23;
    reliability_decay:            13;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                10;
    cost_factor:                  34;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        75 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    running_cost_base:            RUNNING_COST_NONE;
    dual_headed:                  0;
    cargo_capacity:               74;
    weight:                       49 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_ELECTRIC;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_erie_club;
        additional_text:          return string(STR_Erie_Club_Trailer_Desc);
        length:                   8;
        default:                  spriteset_erie_club;
    }
}

//--------------------------------------------------------------------------------------------------NYC S-Motor
spriteset (spriteset_purchase_NYC_S_Motor, "gfx/USA_NYC_S_Motor.png") { [4,  66,  86,  13,  -7,  -9] }

template tmpl_NYC_S_Motor(x,y) {
  [x,      y,    8,     24,     -3,    -12]
	[x+9,    y,    22,    20,     -10,   -12]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -11]
}

template tmpl_NYC_S_Motor2(x,y) {
  [x,      y,    8,     24,     -3,    -6]
	[x+9,    y,    22,    20,     -14,   -10]
	[x+32,   y,    32,    16,     -24,   -12]
	[x+65,   y,    22,    20,     -12,   -13]
}

spriteset (spriteset_NYC_S_Motor_Grey, "gfx/USA_NYC_S_Motor.png")  { tmpl_NYC_S_Motor(4,4)   tmpl_NYC_S_Motor2(92,4)  }
spriteset (spriteset_NYC_S_Motor_Green, "gfx/USA_NYC_S_Motor.png") { tmpl_NYC_S_Motor(4,35)  tmpl_NYC_S_Motor2(92,35) }

switch(FEAT_TRAINS, SELF, sw_NYC_S_Motor_graphics, cargo_subtype) {
  0:  spriteset_NYC_S_Motor_Grey;
  spriteset_NYC_S_Motor_Green;
}

switch(FEAT_TRAINS, SELF, sw_NYC_S_Motor_livery, cargo_subtype) {
  0:  return string(STR_Livery_NYC_Grey);
  return string(STR_Livery_NYC_Green);
}

item (FEAT_TRAINS, item_NYC_S_Motor, 421) {
  property {
    name:                         string(STR_NYC_S_Motor_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1904, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 30;
    reliability_decay:            12;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                20;
    cost_factor:                  46;
    running_cost_factor:          146;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        60 mph;
    misc_flags:                   bitmask(TRAIN_FLAG_MU);
    refit_cost:                   0;
    track_type:                   TRDR;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        1695 hp;
    running_cost_base:            RUNNING_COST_ELECTRIC;
    dual_headed:                  0;
    cargo_capacity:               1;
    weight:                       105 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_ELECTRIC;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  160/(9.81*105);
    air_drag_coefficient:         8/97;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_NYC_S_Motor;
        additional_text:          return string(STR_NYC_S_Motor_Desc);
        length:                   6;
        cargo_subtype_text:       sw_NYC_S_Motor_livery;
        cargo_capacity:           0;
        default:                  sw_NYC_S_Motor_graphics;
    }
}

//--------------------------------------------------------------------------------------------------PRR K4s
spriteset (spriteset_purchase_K4s, "gfx/USA_PRR_K4s.png") { [4,  97,  87,  14,  -27,  -10] }

template tmpl_K4s_Locomotive_1(x,y) {
  [x,      y,    8,     24,     -3,    -12]
	[x+9,    y,    22,    20,     -14,   -10]
	[x+31,   y,    33,    16,     -17,   -12]
	[x+65,   y,    22,    20,     -8,    -11]
}

template tmpl_K4s_Locomotive_2(x,y) {
  [x,      y,    8,     24,     -3,    -12]
	[x+9,    y,    22,    20,     -14,   -10]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -11]
}

template tmpl_K4s_Tender_1(x,y) {
  [x,      y,    8,     24,     -3,    -11]
	[x+9,    y,    22,    20,     -8,    -13]
	[x+32,   y,    32,    16,     -16,   -12]
	[x+65,   y,    22,    20,     -8,    -11]
}

template tmpl_K4s_Tender_2(x,y) {
  [x,      y,    8,     24,     -3,    -6]
	[x+9,    y,    22,    20,     -14,   -10]
	[x+32,   y,    32,    16,     -17,   -12]
	[x+65,   y,    22,    20,     -14,   -14]
}

spriteset (spriteset_K4s_Locomotive, "gfx/USA_PRR_K4s.png") { tmpl_K4s_Locomotive_1(4,4)   tmpl_K4s_Locomotive_2(92,4) }
spriteset (spriteset_K4s_Locomotive_second, "gfx/USA_PRR_K4s.png") { tmpl_K4s_Locomotive_1(4,35)   tmpl_K4s_Locomotive_2(92,35) }
spriteset (spriteset_K4s_Tender, "gfx/USA_PRR_K4s.png") { tmpl_K4s_Tender_1(4,66) tmpl_K4s_Tender_2(92,66) }

switch(FEAT_TRAINS,SELF,sw_K4s_articulated_part, extra_callback_info1) {
  1:  return item_K4s;
  return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}
switch(FEAT_TRAINS,SELF,sw_K4s_Locomotive_animation, motion_counter % 2) {
  0:  spriteset_K4s_Locomotive;
  spriteset_K4s_Locomotive_second;
}

switch(FEAT_TRAINS,SELF,sw_K4s_grapfics, position_in_vehid_chain % 2) {
  0:  sw_K4s_Locomotive_animation;
  spriteset_K4s_Tender;
}

switch(FEAT_TRAINS,SELF, sw_K4s_length, position_in_vehid_chain % 2) {
  0:  8;
  5;
}

switch(FEAT_TRAINS,SELF, sw_K4s_effect, position_in_vehid_chain % 2) {
  0:  visual_effect_and_powered(VISUAL_EFFECT_STEAM, -3, DISABLE_WAGON_POWER);
  visual_effect_and_powered(VISUAL_EFFECT_DISABLE, -3, DISABLE_WAGON_POWER);
}

item (FEAT_TRAINS, item_K4s, 13) {
  property {
    name:                         string(STR_K4s_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1914, 1, 1);
    model_life:                   43;
    vehicle_life:                 30;
    reliability_decay:            12;
    refittable_cargo_classes:     bitmask();
    non_refittable_cargo_classes: bitmask();
    loading_speed:                0;
    cost_factor:                  30;
    running_cost_factor:          130;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        85 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        3286 hp;
    running_cost_base:            RUNNING_COST_STEAM;
    dual_headed:                  0;
    cargo_capacity:               0;
    weight:                       212 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_STEAM;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.0933;
    air_drag_coefficient:         14/137;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_STEAM, -7, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_K4s;
        additional_text:          return string(STR_K4s_Desc);
        articulated_part:         sw_K4s_articulated_part;
        length:                   sw_K4s_length;
        cargo_capacity:           0;
        visual_effect_and_powered:sw_K4s_effect;
        default:                  sw_K4s_grapfics;
    }
}

//--------------------------------------------------------------------------------------------------PRR Heavyweight
template tmpl_PRR_Heavyweight_long(x,y) {
  [x,      y,    8,     26,     -3,    -14]
	[x+9,    y,    24,    21,     -16,   -10]
	[x+34,   y,    36,    16,     -20,   -12]
	[x+71,   y,    24,    21,     -10,   -12]
}
template tmpl_PRR_Heavyweight_long2(x,y) {
  [x,      y,    8,     26,     -3,    -12]
	[x+9,    y,    24,    21,     -14,   -11]
	[x+34,   y,    36,    16,     -16,   -12]
	[x+71,   y,    24,    21,     -8,    -11]
}
template tmpl_PRR_Heavyweight(x,y) {
  [x,      y,    8,     26,     -3,    -10]
	[x+9,    y,    24,    21,     -14,   -11]
	[x+34,   y,    36,    16,     -16,   -12]
	[x+71,   y,    24,    21,     -10,   -12]
}

template tmpl_PRR_Heavyweight2(x,y) {
  [x,      y,    8,     26,     -3,    -10]
	[x+9,    y,    24,    21,     -14,   -11]
	[x+34,   y,    36,    16,     -16,   -12]
	[x+71,   y,    24,    21,     -8,    -12]
}
template tmpl_PRR_Heavyweight_short(x,y) {
  [x,      y,    8,     26,     -3,    -8]
	[x+9,    y,    24,    21,     -12,   -12]
	[x+34,   y,    36,    16,     -12,   -12]
	[x+71,   y,    24,    21,     -10,   -12]
}

template tmpl_PRR_Heavyweight_short2(x,y) {
  [x,      y,    8,     26,     -3,    -8]
	[x+9,    y,    24,    21,     -14,   -11]
	[x+34,   y,    36,    16,     -16,   -12]
	[x+71,   y,    24,    21,     -12,   -13]
}

spriteset (spriteset_PRR_Heavyweight_Coach_purchase,"gfx/USA_PRR_Heavyweight.png")       { [38, 4, 36, 16, -19, -12] }
spriteset (spriteset_PRR_Heavyweight_Lunch_purchase,"gfx/USA_PRR_Heavyweight.png")       { [38, 37, 36, 16, -19, -12] }
spriteset (spriteset_PRR_Heavyweight_Diner_purchase,"gfx/USA_PRR_Heavyweight.png")       { [38, 70, 36, 16, -19, -12] }
spriteset (spriteset_PRR_Heavyweight_Combine_purchase,"gfx/USA_PRR_Heavyweight.png")     { [38, 103, 36, 16, -19, -12] }
spriteset (spriteset_PRR_Heavyweight_Baggage_purchase,"gfx/USA_PRR_Heavyweight.png")     { [38, 136, 36, 16, -11, -12] }
spriteset (spriteset_PRR_Heavyweight_Baggage_RPO_purchase,"gfx/USA_PRR_Heavyweight.png") { [38, 169, 36, 16, -15, -12] }
spriteset (spriteset_PRR_Heavyweight_Sleeper_purchase, "gfx/USA_PRR_Heavyweight.png")    { [38, 202, 36, 16, -19, -12] }
spriteset (spriteset_PRR_Heavyweight_Observation_purchase,"gfx/USA_PRR_Heavyweight.png") { [38, 235, 36, 16, -19, -12] }

spriteset (spriteset_PRR_Heavyweight_Coach,"gfx/USA_PRR_Heavyweight.png")       { tmpl_PRR_Heavyweight_long(4,4)    tmpl_PRR_Heavyweight_long2(100,4) }
spriteset (spriteset_PRR_Heavyweight_Lunch,"gfx/USA_PRR_Heavyweight.png")       { tmpl_PRR_Heavyweight_long(4,37)   tmpl_PRR_Heavyweight_long2(100,37) }
spriteset (spriteset_PRR_Heavyweight_Diner,"gfx/USA_PRR_Heavyweight.png")       { tmpl_PRR_Heavyweight_long(4,70)   tmpl_PRR_Heavyweight_long2(100,70) }
spriteset (spriteset_PRR_Heavyweight_Combine,"gfx/USA_PRR_Heavyweight.png")     { tmpl_PRR_Heavyweight_long(4,103)  tmpl_PRR_Heavyweight_long2(100,103) }
spriteset (spriteset_PRR_Heavyweight_Baggage,"gfx/USA_PRR_Heavyweight.png")     { tmpl_PRR_Heavyweight_short(4,136) tmpl_PRR_Heavyweight_short2(100,136) }
spriteset (spriteset_PRR_Heavyweight_Baggage_RPO,"gfx/USA_PRR_Heavyweight.png") { tmpl_PRR_Heavyweight(4,169)       tmpl_PRR_Heavyweight(100,169) }
spriteset (spriteset_PRR_Heavyweight_Sleeper, "gfx/USA_PRR_Heavyweight.png")    { tmpl_PRR_Heavyweight_long(4, 202) tmpl_PRR_Heavyweight_long(100, 202) }
spriteset (spriteset_PRR_Heavyweight_Observation,"gfx/USA_PRR_Heavyweight.png") { tmpl_PRR_Heavyweight_long(4,235)  tmpl_PRR_Heavyweight_long2(100,235) }

switch(FEAT_TRAINS,SELF,sw_PRR_Heavyweight_Coach_articulated, extra_callback_info1) {
  1:  item_PRR_Heavyweight_Coach;
  CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}
switch(FEAT_TRAINS,SELF,sw_PRR_Heavyweight_Coach_graphics, position_in_vehid_chain % 2) {
  0:  spriteset_PRR_Heavyweight_Coach;
  spriteset_obsolete;
}

item (FEAT_TRAINS, item_PRR_Heavyweight_Coach, 760) {
  property {
    name:                         string(STR_PRR_Heavyweight_Coach_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1880, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 22;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                12;
    cost_factor:                  140;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        80 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               34;
    weight:                       60 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_PRR_Heavyweight_Coach_purchase;
        additional_text:          return string(STR_Obsolete_Desc);
        articulated_part:         sw_PRR_Heavyweight_Coach_articulated;
        length:                   (position_in_vehid_chain % 2) == 0 ? 8 : 1;
        default:                  sw_PRR_Heavyweight_Coach_graphics;
    }
}

switch(FEAT_TRAINS,SELF,sw_PRR_Heavyweight_Lunch_articulated, extra_callback_info1) {
  1:  item_PRR_Heavyweight_Lunch;
  CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}
switch(FEAT_TRAINS,SELF,sw_PRR_Heavyweight_Lunch_graphics, position_in_vehid_chain % 2) {
  0:  spriteset_PRR_Heavyweight_Lunch;
  spriteset_obsolete;
}

item (FEAT_TRAINS, item_PRR_Heavyweight_Lunch, 761) {
  property {
    name:                         string(STR_PRR_Heavyweight_Lunch_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1880, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 22;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                12;
    cost_factor:                  145;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        80 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               28;
    weight:                       63 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_PRR_Heavyweight_Lunch_purchase;
        articulated_part:         sw_PRR_Heavyweight_Lunch_articulated;
        additional_text:          return string(STR_Obsolete_Desc);
        length:                   (position_in_vehid_chain % 2) == 0 ? 8 : 1;
        default:                  sw_PRR_Heavyweight_Lunch_graphics;
    }
}

switch(FEAT_TRAINS,SELF,sw_PRR_Heavyweight_Diner_articulated, extra_callback_info1) {
  1:  item_PRR_Heavyweight_Diner;
  CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}
switch(FEAT_TRAINS,SELF,sw_PRR_Heavyweight_Diner_graphics, position_in_vehid_chain % 2) {
  0:  spriteset_PRR_Heavyweight_Diner;
  spriteset_obsolete;
}

item (FEAT_TRAINS, item_PRR_Heavyweight_Diner, 762) {
  property {
    name:                         string(STR_PRR_Heavyweight_Diner_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1880, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 24;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                14;
    cost_factor:                  150;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        80 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               27;
    weight:                       64 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_PRR_Heavyweight_Diner_purchase;
        articulated_part:         sw_PRR_Heavyweight_Diner_articulated;
        additional_text:          return string(STR_Obsolete_Desc);
        length:                   (position_in_vehid_chain % 2) == 0 ? 8 : 1;
        default:                  sw_PRR_Heavyweight_Diner_graphics;
    }
}

switch(FEAT_TRAINS, SELF, sw_PRR_Heavyweight_Combine_articulated, extra_callback_info1) {
  1:  item_PRR_Heavyweight_Combine_secret;
  return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

item (FEAT_TRAINS, item_PRR_Heavyweight_Combine, 763) {
  property {
    name:                         string(STR_PRR_Heavyweight_Combine_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1880, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 24;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                12;
    cost_factor:                  145;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        80 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               32;
    weight:                       62 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_PRR_Heavyweight_Combine_purchase;
        articulated_part:         sw_PRR_Heavyweight_Combine_articulated;
        additional_text:          return string(STR_Obsolete_Desc);
        length:                   8;
        default:                  spriteset_PRR_Heavyweight_Combine;
    }
}

item (FEAT_TRAINS, item_PRR_Heavyweight_Combine_secret, 1763) {
  property {
    name:                         string(STR_PRR_Heavyweight_Combine_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1300, 1, 1);
    model_life:                   1;
    vehicle_life:                 24;
    refittable_cargo_classes:     bitmask(CC_MAIL);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                12;
    cost_factor:                  145;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        80 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               40;
    weight:                       1 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_PRR_Heavyweight_Combine_purchase;
        additional_text:          return string(STR_Obsolete_Desc);
        length:                   1;
        default:                  spriteset_obsolete;
    }
}

item (FEAT_TRAINS, item_PRR_Heavyweight_Baggage, 764) {
  property {
    name:                         string(STR_PRR_Heavyweight_Baggage_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1880, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 27;
    refittable_cargo_classes:     bitmask(CC_MAIL);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                20;
    cost_factor:                  145;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        80 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               90;
    weight:                       58 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_PRR_Heavyweight_Baggage_purchase;
        additional_text:          return string(STR_Obsolete_Desc);
        length:                   7;
        default:                  spriteset_PRR_Heavyweight_Baggage;
    }
}

item (FEAT_TRAINS, item_PRR_Heavyweight_Baggage_RPO, 765) {
  property {
    name:                         string(STR_PRR_Heavyweight_Baggage_RPO_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1880, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 27;
    refittable_cargo_classes:     bitmask(CC_MAIL);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                20;
    cost_factor:                  148;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        80 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               86;
    weight:                       55 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_PRR_Heavyweight_Baggage_RPO_purchase;
        additional_text:          return string(STR_Obsolete_Desc);
        length:                   8;
        default:                  spriteset_PRR_Heavyweight_Baggage_RPO;
    }
}

switch(FEAT_TRAINS,SELF,sw_PRR_Heavyweight_Sleeper_articulated, extra_callback_info1) {
  1:  item_PRR_Heavyweight_Sleeper;
  CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}
switch(FEAT_TRAINS,SELF,sw_PRR_Heavyweight_Sleeper_graphics, position_in_vehid_chain % 2) {
  0:  spriteset_PRR_Heavyweight_Sleeper;
  spriteset_obsolete;
}

item (FEAT_TRAINS, item_PRR_Heavyweight_Sleeper, 766) {
  property {
    name:                         string(STR_PRR_Heavyweight_Sleeper_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1880, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 25;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                11;
    cost_factor:                  155;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        80 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               36;
    weight:                       62 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_PRR_Heavyweight_Sleeper_purchase;
        additional_text:          return string(STR_Obsolete_Desc);
        articulated_part:         sw_PRR_Heavyweight_Sleeper_articulated;
        length:                   (position_in_vehid_chain % 2) == 0 ? 8 : 1;
        default:                  sw_PRR_Heavyweight_Sleeper_graphics;
    }
}

switch(FEAT_TRAINS,SELF,sw_PRR_Heavyweight_Observation_articulated, extra_callback_info1) {
  1:  item_PRR_Heavyweight_Observation;
  CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}
switch(FEAT_TRAINS,SELF,sw_PRR_Heavyweight_Observation_graphics, position_in_vehid_chain % 2) {
  0:  spriteset_PRR_Heavyweight_Observation;
  spriteset_obsolete;
}

item (FEAT_TRAINS, item_PRR_Heavyweight_Observation, 767) {
  property {
    name:                         string(STR_PRR_Heavyweight_Observation_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1880, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 24;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                11;
    cost_factor:                  149;
    running_cost_factor:          0;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        80 mph;
    misc_flags:                   bitmask();
    refit_cost:                   0;
    track_type:                   RAIL;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        0;
    cargo_capacity:               24;
    weight:                       61 ton;
    ai_engine_rank:               0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_PRR_Heavyweight_Observation_purchase;
        articulated_part:         sw_PRR_Heavyweight_Observation_articulated;
        additional_text:          return string(STR_Obsolete_Desc);
        length:                   (position_in_vehid_chain % 2) == 0 ? 8 : 1;
        default:                  sw_PRR_Heavyweight_Observation_graphics;
    }
}

/*
PRR Heavyweights:
      Coach (P85)  2 wheel
      Bar-Lounge (P85)
*/

//--------------------------------------------------------------------------------------------------Budd M1/A - M3/A
spriteset (spriteset_purchase_Budd_M1, "gfx/USA_Budd_M1.png") { [4,  103,  95,  12,  -27,  -8] }
spriteset (spriteset_purchase_Budd_M3, "gfx/USA_Budd_M3.png") { [4,  103,  95,  12,  -27,  -8] }

template tmpl_Budd_M1_M3(x,y) {
  [x,      y,    8,     26,     -3,    -9]
	[x+9,    y,    24,    21,     -16,   -10]
	[x+34,   y,    36,    16,     -16,   -12]
	[x+71,   y,    24,    21,     -10,   -12]
}

template tmpl_Budd_M1_M3_second(x,y) {
  [x,      y,    8,     26,     -3,    -11]
	[x+9,    y,    24,    21,     -14,   -11]
	[x+34,   y,    36,    16,     -16,   -12]
	[x+71,   y,    24,    21,     -8,    -11]
}

spriteset (spriteset_Budd_M1_f_LIRR, "gfx/USA_Budd_M1.png") { tmpl_Budd_M1_M3(4,4) tmpl_Budd_M1_M3_second(100,4) }
spriteset (spriteset_Budd_M1_b_LIRR, "gfx/USA_Budd_M1.png") { tmpl_Budd_M1_M3(100,37) tmpl_Budd_M1_M3_second(4,37) }
spriteset (spriteset_Budd_M1_f_n_l_LIRR, "gfx/USA_Budd_M1.png") { tmpl_Budd_M1_M3(4,70) tmpl_Budd_M1_M3_second(100,70) }
spriteset (spriteset_Budd_M1_b_n_l_LIRR, "gfx/USA_Budd_M1.png") { tmpl_Budd_M1_M3(100,70) tmpl_Budd_M1_M3_second(4,70) }

spriteset (spriteset_Budd_M1_f_MN, "gfx/USA_Budd_M1.png") { tmpl_Budd_M1_M3(4,122) tmpl_Budd_M1_M3_second(100,122) }
spriteset (spriteset_Budd_M1_b_MN, "gfx/USA_Budd_M1.png") { tmpl_Budd_M1_M3(100,155) tmpl_Budd_M1_M3_second(4,155) }
spriteset (spriteset_Budd_M1_f_n_l_MN, "gfx/USA_Budd_M1.png") { tmpl_Budd_M1_M3(4,188) tmpl_Budd_M1_M3_second(100,188) }
spriteset (spriteset_Budd_M1_b_n_l_MN, "gfx/USA_Budd_M1.png") { tmpl_Budd_M1_M3(100,188) tmpl_Budd_M1_M3_second(4,188) }

spriteset (spriteset_Budd_M3_f_LIRR, "gfx/USA_Budd_M3.png") { tmpl_Budd_M1_M3(4,4) tmpl_Budd_M1_M3_second(100,4) }
spriteset (spriteset_Budd_M3_b_LIRR, "gfx/USA_Budd_M3.png") { tmpl_Budd_M1_M3(100,37) tmpl_Budd_M1_M3_second(4,37) }
spriteset (spriteset_Budd_M3_f_n_l_LIRR, "gfx/USA_Budd_M3.png") { tmpl_Budd_M1_M3(4,70) tmpl_Budd_M1_M3_second(100,70) }
spriteset (spriteset_Budd_M3_b_n_l_LIRR, "gfx/USA_Budd_M3.png") { tmpl_Budd_M1_M3(100,70) tmpl_Budd_M1_M3_second(4,70) }

spriteset (spriteset_Budd_M3_f_MN, "gfx/USA_Budd_M3.png") { tmpl_Budd_M1_M3(4,122) tmpl_Budd_M1_M3_second(100,122) }
spriteset (spriteset_Budd_M3_b_MN, "gfx/USA_Budd_M3.png") { tmpl_Budd_M1_M3(100,155) tmpl_Budd_M1_M3_second(4,155) }
spriteset (spriteset_Budd_M3_f_n_l_MN, "gfx/USA_Budd_M3.png") { tmpl_Budd_M1_M3(4,188) tmpl_Budd_M1_M3_second(100,188) }
spriteset (spriteset_Budd_M3_b_n_l_MN, "gfx/USA_Budd_M3.png") { tmpl_Budd_M1_M3(100,188) tmpl_Budd_M1_M3_second(4,188) }

switch(FEAT_TRAINS, SELF, sw_Budd_M1_articulated_part, extra_callback_info1) {
  1..5:  item_Budd_M1;
  return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

switch(FEAT_TRAINS,SELF,sw_Budd_M1_f, cargo_subtype) {
  0:  spriteset_Budd_M1_f_LIRR;
  spriteset_Budd_M1_f_MN;
}
switch(FEAT_TRAINS,SELF,sw_Budd_M1_b, cargo_subtype) {
  0:  spriteset_Budd_M1_b_LIRR;
  spriteset_Budd_M1_b_MN;
}
switch(FEAT_TRAINS,SELF,sw_Budd_M1_f_n_l, cargo_subtype) {
  0:  spriteset_Budd_M1_f_n_l_LIRR;
  spriteset_Budd_M1_f_n_l_MN;
}
switch(FEAT_TRAINS,SELF,sw_Budd_M1_b_n_l, cargo_subtype) {
  0:  spriteset_Budd_M1_b_n_l_LIRR;
  spriteset_Budd_M1_b_n_l_MN;
}

switch(FEAT_TRAINS,SELF,sw_Budd_M1_grapfics_front, position_in_vehid_chain % 3) {
  0:  sw_Budd_M1_f;
  spriteset_obsolete;
}
switch(FEAT_TRAINS,SELF,sw_Budd_M1_grapfics_rear, position_in_vehid_chain % 3) {
  0:  sw_Budd_M1_b;
  spriteset_obsolete;
}
switch(FEAT_TRAINS,SELF,sw_Budd_M1_grapfics_middle_front, position_in_vehid_chain % 3) {
  0:  sw_Budd_M1_f_n_l;
  spriteset_obsolete;
}
switch(FEAT_TRAINS,SELF,sw_Budd_M1_grapfics_middle_rear, position_in_vehid_chain % 3) {
  0:  sw_Budd_M1_b_n_l;
  spriteset_obsolete;
}

switch(FEAT_TRAINS,SELF,sw_Budd_M1_grapfics3, position_in_consist % 6) {
  0..2:  sw_Budd_M1_grapfics_middle_front;
  sw_Budd_M1_grapfics_middle_rear;
}
switch(FEAT_TRAINS,SELF,sw_Budd_M1_grapfics2, position_in_consist_from_end) {
  0..2:  sw_Budd_M1_grapfics_rear;
  sw_Budd_M1_grapfics3;
}
switch(FEAT_TRAINS,SELF,sw_Budd_M1_grapfics, position_in_consist) {
  0..2:  sw_Budd_M1_grapfics_front;
  sw_Budd_M1_grapfics2;
}

switch(FEAT_TRAINS,SELF,sw_Budd_M1_livery, cargo_subtype) {
  0:  return string(STR_Livery_LIRR);
  return string(STR_Livery_MN);
}

item (FEAT_TRAINS, item_Budd_M1, 3071) {
  property {
    name:                         string(STR_Budd_M1_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1968, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 30;
    reliability_decay:            15;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                28;
    cost_factor:                  45;
    running_cost_factor:          145;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        90 mph;
    misc_flags:                   bitmask(TRAIN_FLAG_MU);
    refit_cost:                   0;
    track_type:                   TRDR;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        592 hp;
    running_cost_base:            RUNNING_COST_ELECTRIC;
    dual_headed:                  0;
    cargo_capacity:               60;
    weight:                       89 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_ELECTRIC;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 3, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_Budd_M1;
        additional_text:          return string(STR_Budd_M1_Desc);
        length:                   (position_in_vehid_chain % 3) == 1 ? 1 : 4;
        cargo_subtype_text:       sw_Budd_M1_livery;
        articulated_part:         sw_Budd_M1_articulated_part;
        default:                  sw_Budd_M1_grapfics;
    }
}

switch(FEAT_TRAINS, SELF, sw_Budd_M3_articulated_part, extra_callback_info1) {
  1..5:  item_Budd_M3;
  return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

switch(FEAT_TRAINS,SELF,sw_Budd_M3_f, cargo_subtype) {
  0:  spriteset_Budd_M3_f_LIRR;
  spriteset_Budd_M3_f_MN;
}
switch(FEAT_TRAINS,SELF,sw_Budd_M3_b, cargo_subtype) {
  0:  spriteset_Budd_M3_b_LIRR;
  spriteset_Budd_M3_b_MN;
}
switch(FEAT_TRAINS,SELF,sw_Budd_M3_f_n_l, cargo_subtype) {
  0:  spriteset_Budd_M3_f_n_l_LIRR;
  spriteset_Budd_M3_f_n_l_MN;
}
switch(FEAT_TRAINS,SELF,sw_Budd_M3_b_n_l, cargo_subtype) {
  0:  spriteset_Budd_M3_b_n_l_LIRR;
  spriteset_Budd_M3_b_n_l_MN;
}

switch(FEAT_TRAINS,SELF,sw_Budd_M3_grapfics_front, position_in_vehid_chain % 3) {
  0:  sw_Budd_M3_f;
  spriteset_obsolete;
}
switch(FEAT_TRAINS,SELF,sw_Budd_M3_grapfics_rear, position_in_vehid_chain % 3) {
  0:  sw_Budd_M3_b;
  spriteset_obsolete;
}
switch(FEAT_TRAINS,SELF,sw_Budd_M3_grapfics_middle_front, position_in_vehid_chain % 3) {
  0:  sw_Budd_M3_f_n_l;
  spriteset_obsolete;
}
switch(FEAT_TRAINS,SELF,sw_Budd_M3_grapfics_middle_rear, position_in_vehid_chain % 3) {
  0:  sw_Budd_M3_b_n_l;
  spriteset_obsolete;
}

switch(FEAT_TRAINS,SELF,sw_Budd_M3_grapfics3, position_in_consist % 6) {
  0..2:  sw_Budd_M3_grapfics_middle_front;
  sw_Budd_M3_grapfics_middle_rear;
}
switch(FEAT_TRAINS,SELF,sw_Budd_M3_grapfics2, position_in_consist_from_end) {
  0..2:  sw_Budd_M3_grapfics_rear;
  sw_Budd_M3_grapfics3;
}
switch(FEAT_TRAINS,SELF,sw_Budd_M3_grapfics, position_in_consist) {
  0..2:  sw_Budd_M3_grapfics_front;
  sw_Budd_M3_grapfics2;
}

switch(FEAT_TRAINS,SELF,sw_Budd_M3_livery, cargo_subtype) {
  0:  return string(STR_Livery_LIRR);
  return string(STR_Livery_MN);
}

item (FEAT_TRAINS, item_Budd_M3, 3072) {
  property {
    name:                         string(STR_Budd_M3_Name);
    climates_available:           bitmask(CLIMATE_TEMPERATE, CLIMATE_ARCTIC, CLIMATE_TROPICAL);
    introduction_date:            date(1985, 1, 1);
    model_life:                   VEHICLE_NEVER_EXPIRES;
    vehicle_life:                 30;
    reliability_decay:            15;
    refittable_cargo_classes:     bitmask(CC_PASSENGERS);
    non_refittable_cargo_classes: bitmask();
    loading_speed:                28;
    cost_factor:                  47;
    running_cost_factor:          147;
    sprite_id:                    SPRITE_ID_NEW_TRAIN;
    speed:                        90 mph;
    misc_flags:                   bitmask(TRAIN_FLAG_MU);
    refit_cost:                   0;
    track_type:                   TRDR;
    ai_special_flag:              AI_FLAG_PASSENGER;
    power:                        640 hp;
    running_cost_base:            RUNNING_COST_ELECTRIC;
    dual_headed:                  0;
    cargo_capacity:               60;
    weight:                       91 ton;
    ai_engine_rank:               0;
    engine_class:                 ENGINE_CLASS_ELECTRIC;
    extra_power_per_wagon:        0;
    tractive_effort_coefficient:  0.3;
    air_drag_coefficient:         0.06;
    visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 3, DISABLE_WAGON_POWER);
    extra_weight_per_wagon:       0;
    bitmask_vehicle_info:         0;
    }
    graphics {
        purchase:                 spriteset_purchase_Budd_M3;
        additional_text:          return string(STR_Budd_M3_Desc);
        length:                   (position_in_vehid_chain % 3) == 1 ? 1 : 4;
        cargo_subtype_text:       sw_Budd_M3_livery;
        articulated_part:         sw_Budd_M3_articulated_part;
        default:                  sw_Budd_M3_grapfics;
    }
}

sort (FEAT_TRAINS, [
item_K4s,
item_GS4,
item_4_6_4_Hudson,
item_ALCO_PA,
item_E7,
item_E8,
item_E9,
item_F3,
item_F7,
item_F9,
item_F40PH,
item_Metra_F40c,
item_FP45,
item_P32AC_DM,
item_F59PHI,
item_MP40PH_3C,
item_SPV2000,
item_RDC,
item_Pioneer_Zephyr,
item_Turboliner,
item_Turbotrain,
item_NYC_S_Motor,
item_PRR_GG1,
item_ALP_46,
item_HHP8,
item_Silverliner_II,
item_mp54,
item_mp54_single,
item_mp54b,
item_erie_motor,
item_Metroliner_I,
item_MR90,
item_CN_EMU,
item_Highliner_I,
item_Highliner_II,
item_Arrow_III,
item_Arrow_III_Single,
item_Budd_M1,
item_Budd_M3,
item_MN_M2,
item_MN_M7,
item_MN_M8,
item_Acela_express,
item_Bombardier_Bilevel_Cab,
item_Metra_Bilevel_Cab,
item_California_Cab,
item_Comet_I_Cab,
item_Comet_II_Cab,
item_Comet_III_Cab,
item_Comet_IV_Cab,
item_Comet_V_Cab ]);

sort (FEAT_TRAINS, [
item_PRR_Heavyweight_Coach,
item_PRR_Heavyweight_Lunch,
item_PRR_Heavyweight_Diner,
item_PRR_Heavyweight_Combine,
item_PRR_Heavyweight_Baggage,
item_PRR_Heavyweight_Baggage_RPO,
item_PRR_Heavyweight_Observation,
item_NYC_Heavyweight_Coach,
item_NYC_Heavyweight_Combine,
item_NYC_Heavyweight_Baggage,
item_NYC_Heavyweight_Sleeper,
item_NYC_Heavyweight_Observation,
item_mp54_coach,
item_mp54_mail,
item_erie_hi_roof,
item_erie_lo_roof,
item_erie_combine,
item_erie_club,
item_Amfleet_Coach,
item_Amfleet_Cafe,
item_Amtrak_Baggage,
item_CNR_TC_Coach,
item_CNR_TC_Diner,
item_CNR_TC_Manor,
item_CNR_TC_Chateau,
item_CNR_TC_Baggage,
item_CNR_TC_Skyline_ss,
item_CNR_TC_Park_ss,
item_Horizon_Coach,
item_Superliner_I_Coach,
item_Superliner_I_Sleeper,
item_Superliner_I_Dining,
item_Superliner_I_Lounge,
item_MR90_trailer,
item_ATSF_Budd_Lightweight_Diner,
item_ATSF_Budd_Lightweight_Sleeper,
item_ATSF_Budd_Lightweight_Baggage,
item_ATSF_Budd_Lightweight_Dome,
item_ATSF_Budd_Lightweight_Observation,
item_Comet_I_Car,
item_Comet_II_Car,
item_Comet_III_Car,
item_Comet_IV_Car,
item_Comet_V_Car,
item_NYC_Budd_Lightweight_Coach,
item_NYC_Budd_Lightweight_Baggage,
item_NYC_Budd_Lightweight_Coach_20th,
item_NYC_Budd_Lightweight_Sleeper_20th,
item_NYC_Budd_Lightweight_Baggage_20th,
item_NYC_Budd_Lightweight_Kitchen_20th,
item_NYC_Budd_Lightweight_Diner_20th,
item_NYC_Budd_Lightweight_Observation_20th,
item_Bombardier_Bilevel_Car,
item_Metra_Bilevel_Car,
item_California_Car ]);
